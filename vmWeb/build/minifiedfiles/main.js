var vmApp = angular.module('vmApp', ['ngRoute', 'ngCookies', 'app.templates', 'vmApp.config', 'ngMaterial', 'ui-notification', 'uiGmapgoogle-maps', 'ui.tree', 'ngFileUpload','pubnub.angular.service']);

vmApp.config(['$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {
  $routeProvider
    .when('/', {
      templateUrl: 'sections/vendor_login/login.tpl.html',
      controller: 'LoginController'
    })
    .when('/login', {
      templateUrl: 'sections/vendor_login/login.tpl.html',
      controller: 'LoginController'
    })
    .when('/signup', {
      templateUrl: 'sections/vendor_signup/signup.tpl.html',
      controller: 'SignupController'
    })
    .when('/admin', {
      templateUrl: 'sections/admin_dashboard/admin.tpl.html',
      controller: 'AdminController'
    })
    .when('/admin/vendor/:venId', {
      templateUrl: 'sections/admin_vendor/vendor.tpl.html',
      controller: 'VendorController'
    })
    .when('/admin/vendor/profile/:vId/:cId', {
      templateUrl: 'sections/admin_vendorProfile/profile.tpl.html',
      controller: 'ProfileController'
    })
    .when('/admin/company/:compId', {
      templateUrl: 'sections/admin_company/company.tpl.html',
      controller: 'CompanyController'
    })
    .when('/dashboard', {
      templateUrl: 'sections/vendor_dashboard/dashboard.tpl.html',
      controller: 'DashboardController'
    })
    .when('/cash', {
      templateUrl: 'sections/cash_carry/cash.html',
      controller: 'CashController'
    })
    .when('/dashboard/company/:compId', {
      templateUrl: 'sections/vendor_company/section.tpl.html',
      controller: 'SectionController'
    })
    .when('/adminlogin', {
      templateUrl: 'sections/admin_login/adminlogin.tpl.html',
      controller: 'AdminLoginController'
    })
    .when('/dashboard/company/:compId/monday', {
      templateUrl: 'sections/cash_carry/monday/monday.tpl.html',
      controller: 'MondayController'
    })
    .when('/dashboard/company/:compId/tuesday', {
      templateUrl: 'sections/cash_carry/tuesday/tuesday.tpl.html',
      controller: 'TuesdayController'
    })
    .when('/dashboard/company/:compId/wednesday', {
      templateUrl: 'sections/cash_carry/wednesday/wednesday.tpl.html',
      controller: 'WednesdayController'
    })
    .when('/dashboard/company/:compId/thursday', {
      templateUrl: 'sections/cash_carry/thursday/thursday.tpl.html',
      controller: 'ThursdayController'
    })
    .when('/dashboard/company/:compId/friday', {
      templateUrl: 'sections/cash_carry/friday/friday.tpl.html',
      controller: 'FridayController'
    })
    .when('/dashboard/company/:compId/saturday', {
      templateUrl: 'sections/cash_carry/saturday/saturday.tpl.html',
      controller: 'SaturdayController'
    })
    .when('/dashboard/company/:compId/sunday', {
      templateUrl: 'sections/cash_carry/sunday/sunday.tpl.html',
      controller: 'SundayController'
    })
    .when('/client', {
      templateUrl: 'sections/client/login/login.tpl.html',
      controller: 'ClientLoginController'
    })
    .when('/client/dashboard', {
      templateUrl: 'sections/client/dashboard/dashboard.tpl.html',
      controller: 'clientDashboardController'
    })
    .when('/invoice', {
      templateUrl: 'sections/invoice/invoice.tpl.html',
      controller: 'InvoiceController'
    })
    .otherwise({
      redirectTo: '/'
    });
}]);

vmApp.controller('CompanyController', ['vendorassignService','$routeParams','$scope','Notification',
'$http','$rootScope','postVendorAssignUrl','getVendorAssignUrl','$location','$cookies','getCompanyProfileUrl',
'getUnassignedCompanyUrl','getAllVendorListUrl','postCompanyReqUrl','getCompanyReqUrl','unassignedVendorUrl',
'getVendorProfileUrl','updateCompanyReqUrl','postCompanyLoginIdUrl','corporateReviewsUrl',
'postCategoryUrl','getAllVendorToCompanyUrl','companyLogoUrl','Upload', '$timeout',
function(vendorassignService,$routeParams,$scope,Notification,
  $http, $rootScope,postVendorAssignUrl,getVendorAssignUrl,$location,$cookies,getCompanyProfileUrl,
  getUnassignedCompanyUrl, getAllVendorListUrl,postCompanyReqUrl,getCompanyReqUrl,unassignedVendorUrl,
  getVendorProfileUrl,updateCompanyReqUrl,postCompanyLoginIdUrl,corporateReviewsUrl,
  postCategoryUrl,getAllVendorToCompanyUrl,companyLogoUrl,Upload, $timeout)
{

  console.log("aman here : ");
  var sObj = $location.search();
  if(sObj.enable != null)
  {
    enableBoools(sObj.enable)
  }
  console.log("query param : ", sObj.bools);
  if($cookies.get('admin_username') == null)
  {
    Notification.warning("Login required!!!");
    $location.path('/adminlogin');
    $route.reload();
  }
  else
  {
    $rootScope.companyId=$routeParams.compId;
    $scope.data = {};
    $scope.category = function(data){
      $scope.data.companyId = $routeParams.compId
      // console.log("Task Active Field",$scope.data.companyId);
      vendorassignService.activeCategory(data,postCategoryUrl);
    }


// _____________logo image upload____________
$scope.uploadFiles = function(file, errFiles) {
  console.log("ctrl file 1100",file);
    $scope.f = file;
    $scope.errFile = errFiles && errFiles[0];
    if (file) {
        var getUploadLogo = companyLogoUrl+$scope.companyId;
        file.upload = Upload.upload({
            url: getUploadLogo,
            data: {file: file}
        });

        file.upload.then(function (response) {
            $timeout(function () {
                file.result = response.data;
            });
        }, function (response) {
            if (response.status > 0)
                $scope.errorMsg = response.status + ': ' + response.data;
        }, function (evt) {
            file.progress = Math.min(100, parseInt(100.0 *
                                     evt.loaded / evt.total));
        });
    }
}
// _____________________end_____________
$rootScope.adminSignOutBool=true;
$rootScope.footerBool=true;

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  $scope.data=response.data.data.company;
});

  var getFeedbackUrl = corporateReviewsUrl+$routeParams.compId;
  $http.get(getFeedbackUrl).then(function(response)
  {
    $scope.feedback=response.data.data.reviews;
  });

  var getAllVendorToCompany = getAllVendorToCompanyUrl+$routeParams.compId;
  $http.get(getAllVendorToCompany).then(function(response)
  {
    console.log("getAllVendorToCompanyUrl",response.data.data.details);
    $scope.vendorList=response.data.data.details;
  });



  $scope.companyRequirements = [];
  var mondayObj = {};
  mondayObj.dayName = "MONDAY";

  var tuesdayObj = {};
  tuesdayObj.dayName = "TUESDAY";

  var wednesdayObj = {};
  wednesdayObj.dayName = "WEDNESDAY";

  var thursdayObj = {};
  thursdayObj.dayName = "THURSDAY";

  var fridayObj = {};
  fridayObj.dayName = "FRIDAY";

  var saturdayObj = {};
  saturdayObj.dayName = "SATURDAY";

  var sundayObj = {};
  sundayObj.dayName = "SUNDAY";

  $scope.companyRequirements.push(mondayObj);
  $scope.companyRequirements.push(tuesdayObj);
  $scope.companyRequirements.push(wednesdayObj);
  $scope.companyRequirements.push(thursdayObj);
  $scope.companyRequirements.push(fridayObj);
  $scope.companyRequirements.push(saturdayObj);
  $scope.companyRequirements.push(sundayObj);

  var getCompUrl = getCompanyReqUrl+$routeParams.compId;
  $http.get(getCompUrl).then(function(response)
  {
    // console.log("response ", JSON.stringify(response));
    // $scope.companyRequirements = response.data.data.requirements;
    for(var i = 0; i <$scope.companyRequirements.length; i++){
      // console.log("in first loop");
      for(var j = 0; j <response.data.data.requirements.length; j++){
        // console.log("in second loop");
          if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
              $scope.companyRequirements[i] = response.data.data.requirements[j];
              // $rootScope.activeSaveBool="false";
              // $rootScope.activeUpdateBool="true";
          }
      }
    }
    // console.log("companyRequirements ", JSON.stringify($scope.companyRequirements));
  });

  $scope.saveRequirement = function(reqObj) {
    // console.log("current sndp==== : ", reqObj.id);
    var companyId = $routeParams.compId;
    if(reqObj.id==undefined){
      vendorassignService.saveReq(companyId,reqObj,postCompanyReqUrl);
    }else{
      vendorassignService.updateReq(companyId,reqObj,updateCompanyReqUrl);
    }
  }

  $scope.send = function(id,name){
    $scope.vName=name;
    $scope.unassignId=id;
    document.getElementById('id07').style.display='block'
    }

  $scope.unassignVendor = function(id){
      console.log("id 9000",id);
      vendorassignService.unassigneVendor(id,unassignedVendorUrl)
      .then(function(returnedSaveMenu){
        console.log("yehhhh its working 333");
        if (returnedSaveMenu !== null) {
          var getAllVendorToCompany = getAllVendorToCompanyUrl+$routeParams.compId;
          $http.get(getAllVendorToCompany).then(function(response)
          {
            console.log("getAllVendorToCompanyUrl",response.data.data.details);
            $scope.vendorList=response.data.data.details;
          });
        }
      });
      }

  $scope.passVendorId = function(vendorId, type){
    var companyId = $routeParams.compId;
    console.log("i am in ctrl file : ", companyId , vendorId, type);
        // alert("Company Id is "+companyId+" "+"Vendor Id is"+" "+vendorId);
      vendorassignService.passVendorId(vendorId,companyId,type,postVendorAssignUrl)
      .then(function(returnedSaveMenu){
        console.log("yehhhh its working 333");
        if (returnedSaveMenu !== null) {
          var getAllVendorToCompany = getAllVendorToCompanyUrl+$routeParams.compId;
          $http.get(getAllVendorToCompany).then(function(response)
          {
            console.log("getAllVendorToCompanyUrl",response.data.data.details);
            $scope.vendorList=response.data.data.details;
          });
        }
      });
    };

    $scope.companyLoginIdSet = function(password){
      var companyId = $routeParams.compId;
      vendorassignService.companyLoginIdSet(password,companyId,postCompanyLoginIdUrl)
    }

    // $scope.companySignup = function(company) {
    //     companydetailsService.companySignup(company,companySignupUrl);
    // }

  $http.get(getUnassignedCompanyUrl).then(function(response)
  {
    $scope.unassignedCompanies = response.data.data.companies;
  });

  // var getCompUrl = getCompanyReqUrl+$routeParams.compId;
  $http.get(getVendorAssignUrl).then(function(response)
  {
    $scope.particularVendorAssigned = response.data.data.companies;
    var companyId = $routeParams.compId;
    // console.log("all company list check data",$scope.particularVendorAssigned,companyId);

    // console.log("$scope.particularVendorAssigned.length check",$scope.particularVendorAssigned.length,$scope.particularVendorAssigned[0].id);

    for(i=0;i<$scope.particularVendorAssigned.length;i++)
    {
      if(companyId==$scope.particularVendorAssigned[i].id)
      {
        var vndrId=$scope.particularVendorAssigned[i].vendorId;
        // console.log("vendor Id is",vndrId);
        var getVendorProfile = getVendorProfileUrl+vndrId;
        // console.log("vendorrrrrrrr",getVendorProfile);
      }
    }
    $http.get(getVendorProfile).then(function(response)
    {
      // console.log("response ", JSON.stringify(response));
      $scope.FinalVendorAssign = response.data.data.vendor;
      // console.log("Final result ",$scope.FinalVendorAssign.name);
    })

  });

  $http.get(getAllVendorListUrl).then(function(response)
  {
    console.log("response.data 555",response.data.data.vendors);
    $scope.allVendorsList = response.data.data.vendors;
        console.log("response.data 560",$scope.allVendorsList);
  });

    $scope.weekday = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'] ;
    // $scope.response = { time: ['Breakfast','Lunch','Snacks','Dinner'] };

    // bool Logic start
       $scope.boolFunction = function(value) {
         $scope.categoryBool = false;
         $scope.addRequirementBool = false;
         $scope.addAssignedToBool = false;
         $scope.SetLoginIdBool = false;
         $scope.FeedbackBool=false;
         $scope.LogoBool=false;
         $scope[value] = true;
       }
       $scope.boolFunction("categoryBool");
    // bool Logic end

        }
      }
        ]);

angular.module('tabsDemoDynamicHeight', ['ngMaterial']);
// Get the modal
var modal = document.getElementById('id01');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}

function myFunction() {
    document.getElementById("demo").innerHTML = "Hello World";
}

vmApp.factory('vendorassignService',['$http','$q','$route','$httpParamSerializerJQLike','$location','Notification',
function($http,$q,$route,$httpParamSerializerJQLike,$location,Notification){
  return {
    passVendorId: function(vendorId,companyId,type,postVendorAssignUrl)
    {
      console.log("I am in srv.js file : ", vendorId,type,companyId);
      // var rest = JSON.parse(JSON.stringify(vendorId,companyId));
      var jsonObj = {};
      jsonObj.companyId = parseInt(companyId);
      jsonObj.vendorId = vendorId;
      jsonObj.type = type;
      var deferred = $q.defer();
      var respMenuJson = deferred.promise;

      console.log("json made : ", jsonObj);
        $http({
          method: 'POST',
          url: postVendorAssignUrl,
          headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
          },
          data: $httpParamSerializerJQLike(jsonObj)
      }).then(function(response) {
          console.log('response', JSON.stringify(response));
          if (response.data.status == 1) {
            deferred.resolve(response.data.vendorId);
            console.log("vendore id testing---->",response.data.vendorId);
              Notification.success('Successfully Vendor Assigned');
              // $route.reload();
          } else {
              // console.log('error registering');
              deferred.reject(null);
              Notification.error('Could not assigne vendor');
          }
      });
      return respMenuJson;
    },
// ______________________Category_______________
activeCategory: function(data,postCategoryUrl){
  console.log("In Services File DATA",data,postCategoryUrl);
  $http({
    method: 'POST',
    url: postCategoryUrl,
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
    },
    data: $httpParamSerializerJQLike(data)
}).then(function(response) {
    console.log('response', JSON.stringify(response));
    //console.log('response', response);
    if (response.data.status == 1) {
      Notification.success('Successfully Saved !!!');
        // console.log('Successfully registered breakfast details ');
        // $location.path('/admin/company/:id');
    } else {
        console.log('error registering');
        Notification.error('Could not save company details');
    }
});
},
// ______________________UN-Assigned Vendor_______________
unassigneVendor: function(id,unassignedVendorUrl){
  console.log("In Services File 5555",id,unassignedVendorUrl);
  document.getElementById('id07').style.display='none'
  var jsonObj = {};
  jsonObj.id=id;
  var deferred = $q.defer();
  var respMenuJson = deferred.promise;
  // jsonObj.companyId=companyId;
  $http({
    method: 'POST',
    url: unassignedVendorUrl,
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
    },
    data: $httpParamSerializerJQLike(jsonObj)
}).then(function(response) {
    // console.log('response', JSON.stringify(response));
    if (response.data.status == 1) {
      deferred.resolve(response.data);
      Notification.success('Successfully Unassign Vendor !!!');
      // $route.reload();
        // console.log('Successfully registered breakfast details ');
        // $location.path('/admin/company/:id');
    } else {
        deferred.reject(null);
        console.log('error registering');
        Notification.error('Could not unassigned vendor');
    }
});
      return respMenuJson;
},
//............................breakfast........................
    saveReq: function(companyId,weekdaylogic,postCompanyReqUrl)
    {
      console.log("in sarvice file : ", weekdaylogic.breakfast,weekdaylogic.breakfastPrice,weekdaylogic.dayName);
      // var rest = JSON.parse(JSON.stringify(weekdaylogic));
      var jsonObj = {};
      weekdaylogic.companyId = parseInt(companyId);
      // jsonObj.breakfast = weekdaylogic.breakfast;
      // jsonObj.lunch = weekdaylogic.lunch;
      // jsonObj.snacks = weekdaylogic.snacks;
      // jsonObj.dinner = weekdaylogic.dinner;
      // jsonObj.breakfastPrice = weekdaylogic.breakfastPrice;
      // jsonObj.lunchPrice = weekdaylogic.lunchPrice;
      // jsonObj.snacksPrice = weekdaylogic.snacksPrice;
      // jsonObj.dinnerPrice = weekdaylogic.dinnerPrice;
      // jsonObj.dayName = weekdaylogic.dayName;

        console.log("breakfast json made : ", weekdaylogic);
        $http({
          method: 'POST',
          url: postCompanyReqUrl,
          headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
          },
          data: $httpParamSerializerJQLike(weekdaylogic)
      }).then(function(response) {
          console.log('response', JSON.stringify(response));
          //console.log('response', response);
          if (response.data.status == 1) {
            Notification.success('Successfully save company details !!!');
              // console.log('Successfully registered breakfast details ');
              // $route.reload();
              var saveReqBool = false;
              // $location.path('/admin/company/:id');
          } else {
              console.log('error registering');
              Notification.error('Could not save company details');
          }
      });
    },
// ..................................................................
companyLoginIdSet: function(password,companyId,postCompanyLoginIdUrl)
{
  // var rest = JSON.parse(JSON.stringify(company));
  // console.log("breakfast json made : ", rest);
  var jsonObj = {};
  jsonObj.password = password;
  jsonObj.companyId = companyId;
  console.log("ssssss->>>>>>",JSON.stringify(jsonObj));
  $http({
    method: 'POST',
    url: postCompanyLoginIdUrl,
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
    },
    data: $httpParamSerializerJQLike(jsonObj)
  }).then(function(response) {
        console.log('response', JSON.stringify(response));
        //console.log('response', response);
        if (response.data.status == 1) {
            // console.log('Successfully registered company loginId ');
            Notification.success('Successfully Set Company Password');
            // $location.path('/admin/company/:id');
        } else {
            console.log('error registering');
            Notification.error('Could not update password');
        }
    });
  },
//............................UPDATE REQ........................
    updateReq: function(companyId,weekdaylogic,updateCompanyReqUrl)
    {
      // console.log("in sarvice file : ", weekdaylogic);
      // var rest = JSON.parse(JSON.stringify(weekdaylogic));
      var jsonObj = {};
      weekdaylogic.companyId = parseInt(companyId);
      // jsonObj.breakfast = weekdaylogic.breakfast;
      // jsonObj.lunch = weekdaylogic.lunch;
      // jsonObj.snacks = weekdaylogic.snacks;
      // jsonObj.dinner = weekdaylogic.dinner;
      // jsonObj.breakfastPrice = weekdaylogic.breakfastPrice;
      // jsonObj.lunchPrice = weekdaylogic.lunchPrice;
      // jsonObj.snacksPrice = weekdaylogic.snacksPrice;
      // jsonObj.dinnerPrice = weekdaylogic.dinnerPrice;
      // jsonObj.dayName = weekdaylogic.dayName;


        console.log("breakfast json made : ", weekdaylogic);
        $http({
          method: 'POST',
          url: updateCompanyReqUrl,
          headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
          },
          data: $httpParamSerializerJQLike(weekdaylogic)
      }).then(function(response) {
          console.log('response', JSON.stringify(response));
          //console.log('response', response);
          if (response.data.status == 1) {
              // console.log("data",response.data.data.id);
              // console.log("weekdaylogic---->",weekdaylogic.id);
                weekdaylogic.id = response.data.data.id;
              Notification.success('Successfully Requirements Updated');
          } else {
              console.log('error registering');
              Notification.error('Could not update requirements');
          }
      });
    },
// ..................................................................

//............................lunch........................
lunchSave: function(companyId,weekdaylogic,breakfastSaveUrl)
{
  console.log("in sarvice file : ", weekdaylogic.lunch,weekdaylogic.lunchPrice,weekdaylogic.dayName);
  // var rest = JSON.parse(JSON.stringify(weekdaylogic));
  var jsonObj = {};
  jsonObj.companyId = parseInt(companyId);
  jsonObj.lunch = weekdaylogic.lunch;
  jsonObj.lunchPrice = weekdaylogic.lunchPrice;
  jsonObj.dayName = weekdaylogic.dayName;

    console.log("breakfast json made : ", jsonObj);
    $http({
      method: 'POST',
      url: postCompanyReqUrl,
      headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
      },
      data: $httpParamSerializerJQLike(jsonObj)
  }).then(function(response) {
      console.log('response', JSON.stringify(response));
      //console.log('response', response);
      if (response.data.status == 1) {
          console.log('Successfully registered breakfast details ');
          // Notification.success('Successfully submit the company details');
          // $location.path('/admin/company/:id');
      } else {
          console.log('error registering');
          // Notification.error('Could not add a company details');
      }
  });
},
// ..................................................................
//............................snacks........................
snacksSave: function(companyId,weekdaylogic,postCompanyReqUrl)
{
  console.log("in sarvice file : ", weekdaylogic.snacks,weekdaylogic.snacksPrice,weekdaylogic.dayName);
  // var rest = JSON.parse(JSON.stringify(weekdaylogic));
  var jsonObj = {};
  jsonObj.companyId = parseInt(companyId);
  jsonObj.snacks = weekdaylogic.snacks;
  jsonObj.snacksPrice = weekdaylogic.snacksPrice;
  jsonObj.dayName = weekdaylogic.dayName;

    console.log("breakfast json made : ", jsonObj);
    $http({
      method: 'POST',
      url: postCompanyReqUrl,
      headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
      },
      data: $httpParamSerializerJQLike(jsonObj)
  }).then(function(response) {
      console.log('response', JSON.stringify(response));
      //console.log('response', response);
      if (response.data.status == 1) {
          console.log('Successfully registered breakfast details ');
          // Notification.success('Successfully submit the company details');
          // $location.path('/admin/company/:id');
      } else {
          console.log('error registering');
          // Notification.error('Could not add a company details');
      }
  });
},
// ..................................................................
//............................dinner........................
dinnerSave: function(companyId,weekdaylogic,postCompanyReqUrl)
{
  console.log("in sarvice file : ", weekdaylogic.dinner,weekdaylogic.dinnerPrice,weekdaylogic.dayName);
  // var rest = JSON.parse(JSON.stringify(weekdaylogic));
  var jsonObj = {};
  jsonObj.companyId = parseInt(companyId);
  jsonObj.dinner = weekdaylogic.dinner;
  jsonObj.dinnerPrice = weekdaylogic.dinnerPrice;
  jsonObj.dayName = weekdaylogic.dayName;

    console.log("breakfast json made : ", jsonObj);
    $http({
      method: 'POST',
      url: postCompanyReqUrl,
      headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
      },
      data: $httpParamSerializerJQLike(jsonObj)
  }).then(function(response) {
      console.log('response', JSON.stringify(response));
      //console.log('response', response);
      if (response.data.status == 1) {
          console.log('Successfully registered breakfast details ');
          // Notification.success('Successfully submit the company details');
          // $location.path('/admin/company/:id');
      } else {
          console.log('error registering');
          // Notification.error('Could not add a company details');
      }
  });
},
// ..................................................................

  }
}]);


vmApp.controller('AdminController', ['$cookies','getAllVendorListUrl','getAssignedVendor','getUnassignedVendor',
'$location','Notification','$scope','$route','$rootScope','$http','companydetailsService','companySignupUrl',
'getUnassignedCompanyUrl','getAllCompanyUrl','getTodayStatusUrl','getAssignedCompanyUrl',
function($cookies,getAllVendorListUrl,getAssignedVendor,getUnassignedVendor,
  $location,Notification,$scope,$route,$rootScope,$http, companydetailsService,companySignupUrl,
  getUnassignedCompanyUrl,getAllCompanyUrl,getTodayStatusUrl,getAssignedCompanyUrl)
{
$scope.signOutAdmin = function(){
    $cookies.remove('admin_username');
    // $cookies.remove('token');
    // $cookies.remove('username');
    // $cookies.remove('email');
    // $rootScope.barBool = false;
    // $rootScope.vId = false;
    // // $rootScope.notifBool = false;
    $rootScope.adminSignOutBool=false;
    $rootScope.footerBool=false;
    $location.path('/adminlogin');
}
if($cookies.get('admin_username') == null)
{
  Notification.warning("Login required!!!");
  $rootScope.adminSignOutBool=false;
  $rootScope.footerBool=false;
  $location.path('/adminlogin');
  $route.reload();
}
else
{

// tongal baar script start
"use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
// tongal baar script end

// today date
  var today = new Date();
  var dd = today.getDate();
  var mm = today.getMonth()+1; //January is 0!
  var yyyy = today.getFullYear();

  if(dd<10) {
      dd = '0'+dd
  }

  if(mm<10) {
      mm = '0'+mm
  }

  today = yyyy + '-' + mm + '-' + dd;
  // console.log("today",today);
  $scope.today = today;

// yesterday date
var yesterday = new Date(new Date().setDate(new Date().getDate()-1));
var y_dd = yesterday.getDate();
var y_mm = yesterday.getMonth()+1;
var y_yyyy = yesterday.getFullYear();
if(y_dd<10){y_dd='0'+y_dd} if(y_mm<10){y_mm='0'+y_mm}
var yesterday_date = y_yyyy+'-'+y_mm+'-'+ y_dd;
// console.log("yesterday_date",yesterday_date);
$scope.yesterday_date=yesterday_date;

// last 1 day
var yesterday_1 = new Date(new Date().setDate(new Date().getDate()-2));
var y_dd_1 = yesterday_1.getDate();
var y_mm_1 = yesterday_1.getMonth()+1;
var y_yyyy_1 = yesterday_1.getFullYear();
if(y_dd_1<10){y_dd_1='0'+y_dd_1} if(y_mm_1<10){y_mm_1='0'+y_mm_1}
var yesterday_1 = y_yyyy_1+'-'+y_mm_1+'-'+ y_dd_1;
// console.log("yesterday_1",yesterday_1);
$scope.yesterday_1=yesterday_1;

// last 2 day
var yesterday_2 = new Date(new Date().setDate(new Date().getDate()-3));
var y_dd_2 = yesterday_2.getDate();
var y_mm_2 = yesterday_2.getMonth()+1;
var y_yyyy_2 = yesterday_2.getFullYear();
if(y_dd_2<10){y_dd_2='0'+y_dd_2} if(y_mm_2<10){y_mm_2='0'+y_mm_2}
var yesterday_2 = y_yyyy_2+'-'+y_mm_2+'-'+ y_dd_2;
// console.log("yesterday_2",yesterday_2);
$scope.yesterday_2=yesterday_2;

// last 3 day
var yesterday_3 = new Date(new Date().setDate(new Date().getDate()-4));
var y_dd_3 = yesterday_3.getDate();
var y_mm_3 = yesterday_3.getMonth()+1;
var y_yyyy_3 = yesterday_3.getFullYear();
if(y_dd_3<10){y_dd_3='0'+y_dd_3} if(y_mm_3<10){y_mm_3='0'+y_mm_3}
var yesterday_3 = y_yyyy_3+'-'+y_mm_3+'-'+ y_dd_3;
// console.log("yesterday_3",yesterday_3);
$scope.yesterday_3=yesterday_3;

// last 4 day
var yesterday_4 = new Date(new Date().setDate(new Date().getDate()-5));
var y_dd_4 = yesterday_4.getDate();
var y_mm_4 = yesterday_4.getMonth()+1;
var y_yyyy_4 = yesterday_4.getFullYear();
if(y_dd_4<10){y_dd_4='0'+y_dd_4} if(y_mm_4<10){y_mm_4='0'+y_mm_4}
var yesterday_4 = y_yyyy_4+'-'+y_mm_4+'-'+ y_dd_4;
// console.log("yesterday_4",yesterday_4);
$scope.yesterday_4=yesterday_4;

// last 5 day
var yesterday_5 = new Date(new Date().setDate(new Date().getDate()-6));
var y_dd_5 = yesterday_5.getDate();
var y_mm_5 = yesterday_5.getMonth()+1;
var y_yyyy_5 = yesterday_5.getFullYear();
if(y_dd_5<10){y_dd_5='0'+y_dd_5} if(y_mm_5<10){y_mm_5='0'+y_mm_5}
var yesterday_5 = y_yyyy_5+'-'+y_mm_5+'-'+ y_dd_5;
// console.log("yesterday_5",yesterday_5);
$scope.yesterday_5=yesterday_5;

//  end !!!!

  var getTodayStatus = getTodayStatusUrl+today;
  var getYesterdayStatus = getTodayStatusUrl+yesterday_date;
  var getYesterdayStatus_1 = getTodayStatusUrl+yesterday_1;
  var getYesterdayStatus_2 = getTodayStatusUrl+yesterday_2;
  var getYesterdayStatus_3 = getTodayStatusUrl+yesterday_3;
  var getYesterdayStatus_4 = getTodayStatusUrl+yesterday_4;
  var getYesterdayStatus_5 = getTodayStatusUrl+yesterday_5;

  $http.get(getTodayStatus).then(function(response){
  if(response.data.data!=null){
  $scope.todayStatus = response.data.data.foodTracks;
  }
  });
  $http.get(getYesterdayStatus).then(function(response){
if(response.data.data!=null){
  $scope.yesterdayStatus = response.data.data.foodTracks;
}
  });
  $http.get(getYesterdayStatus_1).then(function(response){
    if(response.data.data!=null){  $scope.yesterdayStatus_1 = response.data.data.foodTracks;}

  });
  $http.get(getYesterdayStatus_2).then(function(response){
      if(response.data.data!=null){
  $scope.yesterdayStatus_2 = response.data.data.foodTracks; }
  });
  $http.get(getYesterdayStatus_3).then(function(response){
      if(response.data.data!=null){
  $scope.yesterdayStatus_3 = response.data.data.foodTracks; }
  });
  $http.get(getYesterdayStatus_4).then(function(response){
    if(response.data.data!=null){
  $scope.yesterdayStatus_4 = response.data.data.foodTracks;
}
  });
  $http.get(getYesterdayStatus_5).then(function(response){
    if(response.data.data!=null){
  $scope.yesterdayStatus_5 = response.data.data.foodTracks; }
  });

// typwritter animation
  var TxtType = function(el, toRotate, period) {
          this.toRotate = toRotate;
          this.el = el;
          this.loopNum = 0;
          this.period = parseInt(period, 10) || 2000;
          this.txt = '';
          this.tick();
          this.isDeleting = false;
      };

      TxtType.prototype.tick = function() {
          var i = this.loopNum % this.toRotate.length;
          var fullTxt = this.toRotate[i];

          if (this.isDeleting) {
          this.txt = fullTxt.substring(0, this.txt.length - 1);
          } else {
          this.txt = fullTxt.substring(0, this.txt.length + 1);
          }

          this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';

          var that = this;
          var delta = 200 - Math.random() * 100;

          if (this.isDeleting) { delta /= 2; }

          if (!this.isDeleting && this.txt === fullTxt) {
          delta = this.period;
          this.isDeleting = true;
          } else if (this.isDeleting && this.txt === '') {
          this.isDeleting = false;
          this.loopNum++;
          delta = 500;
          }

          setTimeout(function() {
          that.tick();
          }, delta);
      };

      window.onload = function() {
          var elements = document.getElementsByClassName('typewrite');
          for (var i=0; i<elements.length; i++) {
              var toRotate = elements[i].getAttribute('data-type');
              var period = elements[i].getAttribute('data-period');
              if (toRotate) {
                new TxtType(elements[i], JSON.parse(toRotate), period);
              }
          }
          // INJECT CSS
          var css = document.createElement("style");
          css.type = "text/css";
          css.innerHTML = ".typewrite > .wrap { border-right: 0.08em solid #fff}";
          document.body.appendChild(css);
      };
// animation end

  $rootScope.adminSignOutBool=true;
  $rootScope.footerBool=true;

  $http.get(getAllVendorListUrl).then(function(response)
  {
    $scope.AllVendorslist = response.data.data.vendors;
  });
  $http.get(getAssignedVendor).then(function(response)
  {
    $scope.assignedVendorslist = response.data.data.assignedVendors;
  });
  $http.get(getUnassignedVendor).then(function(response)
  {
    $scope.unassignedVendorlist = response.data.data.unassignedVendors;
  });

  $http.get(getUnassignedCompanyUrl).then(function(response)
  {
    $scope.unassignedCompanies = response.data.data.companies;
  });
  $http.get(getAssignedCompanyUrl).then(function(response)
  {
    $scope.assignedCompany = response.data.data.companies;
  });
  $http.get(getAllCompanyUrl).then(function(response)
  {
                $scope.allCompanies = response.data.data.companies;
   });

// bool Logic start
   $scope.boolFunction = function(value) {
     console.log("value 23=5",value);
     $scope.addDashboardBool = false;
     $scope.addCompanyBool = false;
     $scope.addAssignedCompanyBool = false;
     $scope.addUnsignedCompanyBool = false;
     $scope.companyDetailsBool = false;
     $scope.barBool = false;

     $scope.allVendorListBool=false;
     $scope.unassignedVendorListBool=false;
     $scope.assignedVendorListBool=false;
     $scope.FoodConfirmationBool=false;
     $scope[value] = true;
   }
   $scope.boolFunction("addDashboardBool");
// bool Logic end

          $scope.companySignup = function(company) {
      // console.log("lat & lng in cntrl file : ",company);
              companydetailsService.companySignup(company,companySignupUrl);
          }
         }
        }
        ]);

vmApp.service('Map', function($q) {

    this.init = function() {
        var options = {
            center: new google.maps.LatLng(12.9715987, 77.59456269999998),
            zoom: 12,
            disableDefaultUI: true
        }
        this.map = new google.maps.Map(
            document.getElementById("map"), options
        );
        this.places = new google.maps.places.PlacesService(this.map);
    }

    this.search = function(str) {
        var d = $q.defer();
        this.places.textSearch({query: str}, function(results, status) {
            if (status == 'OK') {
                d.resolve(results[0]);
            }
            else d.reject(status);
        });
        return d.promise;
    }

    this.addMarker = function(res) {
        if(this.marker) this.marker.setMap(null);
        this.marker = new google.maps.Marker({
            map: this.map,
            position: res.geometry.location,
            animation: google.maps.Animation.DROP
        });
        this.map.setCenter(res.geometry.location);
    }

});

vmApp.controller('newPlaceCtrl', function($scope, Map) {

    $scope.place = {};

    $scope.search = function() {
        $scope.apiError = false;
        Map.search($scope.searchPlace)
        .then(
            function(res) { // success
                Map.addMarker(res);
                $scope.place.companyName = res.name;
                $scope.place.address=res.formatted_address;
                $scope.place.latitude = res.geometry.location.lat();
                $scope.place.longitute = res.geometry.location.lng();
            },
            function(status) { // error
                $scope.apiError = true;
                $scope.apiStatus = status;
            }
        );
    }

    $scope.send = function() {
        // alert($scope.place.name + ' : ' + $scope.place.latitude + ', ' + $scope.place.longitute);
    }

    Map.init();
});

vmApp.factory('companydetailsService',['$http','$route','$httpParamSerializerJQLike','$location','Notification',
function($http,$route,$httpParamSerializerJQLike,$location,Notification){
  return {
    companySignup: function(company,companySignupUrl)
    {
      // console.log("passsed value : ", company);
      var rest = JSON.parse(JSON.stringify(company));
        $http({
          method: 'POST',
          url: companySignupUrl,
          headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
          },
          data: $httpParamSerializerJQLike(rest)
      }).then(function(response) {
          console.log('response', response);
          if (response.data.status == 1) {
              // console.log('Successfully registered ');
              Notification.success('Successfully submit the company details');
              // $location.path('/admin');
              $route.reload();
          } else {
              // console.log('error registering');
              Notification.error('error registering');
              $route.reload();
          }
      });

    }
  }
}]);

(function() {

     'use strict';

    // Feature Test
    if ( 'querySelector' in document && 'addEventListener' in window && Array.prototype.forEach ) {

        // Function to animate the scroll
        var smoothScroll = function (anchor, duration) {

            // Calculate how far and how fast to scroll
            var startLocation = window.pageYOffset;
            var endLocation = anchor.offsetTop;
            var distance = endLocation - startLocation;
            var increments = distance/(duration/16);
            var stopAnimation;

            // Scroll the page by an increment, and check if it's time to stop
            var animateScroll = function () {
                window.scrollBy(0, increments);
                stopAnimation();
            };

            // If scrolling down
            if ( increments >= 0 ) {
                // Stop animation when you reach the anchor OR the bottom of the page
                stopAnimation = function () {
                    var travelled = window.pageYOffset;
                    if ( (travelled >= (endLocation - increments)) || ((window.innerHeight + travelled) >= document.body.offsetHeight) ) {
                        clearInterval(runAnimation);
                    }
                };
            }
            // If scrolling up
            else {
                // Stop animation when you reach the anchor OR the top of the page
                stopAnimation = function () {
                    var travelled = window.pageYOffset;
                    if ( travelled <= (endLocation || 0) ) {
                        clearInterval(runAnimation);
                    }
                };
            }

            // Loop the animation function
            var runAnimation = setInterval(animateScroll, 16);

        };

        // Define smooth scroll links
        var scrollToggle = document.querySelectorAll('.scroll');

        // For each smooth scroll link
        [].forEach.call(scrollToggle, function (toggle) {

            // When the smooth scroll link is clicked
            toggle.addEventListener('click', function(e) {

                // Prevent the default link behavior
                e.preventDefault();

                // Get anchor link and calculate distance from the top
                var dataID = toggle.getAttribute('href');
                var dataTarget = document.querySelector(dataID);
                var dataSpeed = toggle.getAttribute('data-speed');

                // If the anchor exists
                if (dataTarget) {
                    // Scroll to the anchor
                    smoothScroll(dataTarget, dataSpeed || 500);
                }

            }, false);

        });

    }

 })();

vmApp.controller('AdminLoginController', ['$scope', '$rootScope', '$cookies', 'AdminLoginService', '$http', 'adminLoginUrl', '$route',
  function($scope, $rootScope, $cookies, AdminLoginService, $http, adminLoginUrl, $route) {
    $scope.login = function(user) {
      AdminLoginService.login(user, adminLoginUrl);
    }
  }
]);

vmApp.factory('AdminLoginService', ['$http', '$cookies', '$rootScope', '$httpParamSerializerJQLike', '$location', 'Notification',
  function($http, $cookies, $rootScope, $httpParamSerializerJQLike, $location, Notification) {
    return {
      login: function(user, adminLoginUrl) {
        $http({
            method: 'POST',
            url: adminLoginUrl,
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
            },
            data: $httpParamSerializerJQLike(user)
          }).then(function(response) {
            console.log('response admin 112', response);
            if (response.data.status == 1) {
              Notification.success('Welcome You Are In Admin Penal');
              $cookies.put('admin_username', response.data.message);
              // $cookies.put('token',response.data.data[0].token);
              // $cookies.put('id',response.data.data[0].id);
              // $cookies.put('email',response.data.data[0].email);
              $location.path('/admin');

            } else {
              console.log('error logging in');
              Notification.error('Username/Mobile/Email or password is incorrect');
            }
          })
          .catch(function(response) {
            Notification.error('Username/Mobile/Email or password is incorrect');
          });
      }
    }
  }
]);

vmApp.controller('VendorController',['$scope','$location','$routeParams','$cookies','getAllCompanyToVendorUrl',
'$rootScope','$http','Notification','getAllCompanyUrl','getVendorProfileUrl',
'$route',
function($scope,$location,$routeParams,$cookies,getAllCompanyToVendorUrl,$rootScope,$http,
  Notification,getAllCompanyUrl,getVendorProfileUrl,$route)
{

  if($cookies.get('admin_username') == null)
  {
    Notification.warning("Login required!!!");
    $location.path('/adminlogin');
    $route.reload();
  }
  else
  {
    // tongal baar script start
    "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
    // tongal baar script end

		var vendorId = $routeParams.venId;
    $scope.vId = vendorId;
    console.log("$scope.vId 600",$scope.vId);
		// console.log("-------->>>>>>>>>",vendorId);

  var getVendorDetails = getVendorProfileUrl+vendorId;
  $http.get(getVendorDetails).then(function(response)
      {
        $rootScope.vendorName = response.data.data.vendor.name;
      });


      var getCompanies = getAllCompanyToVendorUrl+vendorId;
  		$http.get(getCompanies).then(function(response) {
  		      $scope.companies = response.data.data.companies;
  		});

  }

}]);

vmApp.factory('uuid', function() {
    var svc = {
        new: function() {
            function _p8(s) {
                var p = (Math.random().toString(16)+"000000000").substr(2,8);
                return s ? "-" + p.substr(0,4) + "-" + p.substr(4,4) : p ;
            }
            return _p8() + _p8(true) + _p8(true) + _p8();
        },

        empty: function() {
          return '00000000-0000-0000-0000-000000000000';
        }
    };

    return svc;
});

vmApp.controller('ProfileController',['$scope','$location','$routeParams','$cookies','getCompanyProfileUrl',
'$rootScope','$http','Notification','getAllCompanyUrl','getVendorProfileUrl','$route','getBreakfastMenu','getLunchMenu',
'getSnacksMenu','getDinnerMenu',
function($scope,$location,$routeParams,$cookies,getCompanyProfileUrl,$rootScope,$http,Notification,
  getAllCompanyUrl,getVendorProfileUrl,$route,getBreakfastMenu,getLunchMenu,getSnacksMenu,getDinnerMenu)
{

  if($cookies.get('admin_username') == null)
  {
    Notification.warning("Login required!!!");
    $location.path('/adminlogin');
    $route.reload();
  }
  else
  {
    // tongal baar script start
    "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
    // tongal baar script end

    var getCompProfileUrl = getCompanyProfileUrl+$routeParams.cId;
    $http.get(getCompProfileUrl).then(function(response)
    {
      $scope.cmpyName=response.data.data.company.companyName;
    });

// breakfats menu get
    var getBreakfastMenuUrl = getBreakfastMenu+$routeParams.cId;
    $http.get(getBreakfastMenuUrl).then(function(response)
    {
      $scope.breakfastData=response.data.data.menus.length;
      for(i=0;i<$scope.breakfastData;i++){
        if(response.data.data.menus[i].dayName=="Monday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item_mon=menu;
        }
        if(response.data.data.menus[i].dayName=="Tuesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item_tue=menu;
        }
        if(response.data.data.menus[i].dayName=="Wednesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item_wed=menu;
        }
        if(response.data.data.menus[i].dayName=="Thursday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item_thu=menu;
        }
        if(response.data.data.menus[i].dayName=="Friday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item_fri=menu;
        }
        if(response.data.data.menus[i].dayName=="Saturday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item_sat=menu;
        }
        if(response.data.data.menus[i].dayName=="Sunday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item_sun=menu;
        }
      }
    });
// end breakfast menu
// lunch menu get
    var getLunchMenuUrl = getLunchMenu+$routeParams.cId;
    $http.get(getLunchMenuUrl).then(function(response)
    {
      $scope.lunchData=response.data.data.menus.length;
      for(i=0;i<$scope.lunchData;i++){
        if(response.data.data.menus[i].dayName=="Monday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item_mon=menu;
        }
        if(response.data.data.menus[i].dayName=="Tuesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item_tue=menu;
        }
        if(response.data.data.menus[i].dayName=="Wednesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item_wed=menu;
        }
        if(response.data.data.menus[i].dayName=="Thursday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item_thu=menu;
        }
        if(response.data.data.menus[i].dayName=="Friday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item_fri=menu;
        }
        if(response.data.data.menus[i].dayName=="Saturday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item_sat=menu;
        }
        if(response.data.data.menus[i].dayName=="Sunday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item_sun=menu;
        }
      }
    });
// end lunch menu
// snacks menu get
    var getSnacksMenuUrl = getSnacksMenu+$routeParams.cId;
    $http.get(getSnacksMenuUrl).then(function(response)
    {
      $scope.snacksData=response.data.data.menus.length;
      for(i=0;i<$scope.snacksData;i++){
        if(response.data.data.menus[i].dayName=="Monday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item_mon=menu;
        }
        if(response.data.data.menus[i].dayName=="Tuesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item_tue=menu;
        }
        if(response.data.data.menus[i].dayName=="Wednesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item_wed=menu;
        }
        if(response.data.data.menus[i].dayName=="Thursday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item_thu=menu;
        }
        if(response.data.data.menus[i].dayName=="Friday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item_fri=menu;
        }
        if(response.data.data.menus[i].dayName=="Saturday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item_sat=menu;
        }
        if(response.data.data.menus[i].dayName=="Sunday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item_sun=menu;
        }
      }
    });
// end snack menu
// dinner menu get
    var getDinnerMenuUrl = getDinnerMenu+$routeParams.cId;
    $http.get(getDinnerMenuUrl).then(function(response)
    {
      $scope.dinnerData=response.data.data.menus.length;
      for(i=0;i<$scope.dinnerData;i++){
        if(response.data.data.menus[i].dayName=="Monday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item_mon=menu;
        }
        if(response.data.data.menus[i].dayName=="Tuesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item_tue=menu;
        }
        if(response.data.data.menus[i].dayName=="Wednesday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item_wed=menu;
        }
        if(response.data.data.menus[i].dayName=="Thursday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item_thu=menu;
        }
        if(response.data.data.menus[i].dayName=="Friday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item_fri=menu;
        }
        if(response.data.data.menus[i].dayName=="Saturday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item_sat=menu;
        }
        if(response.data.data.menus[i].dayName=="Sunday"){
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item_sun=menu;
        }
      }
    });
// end dinner menu
    var getVendorDetails = getVendorProfileUrl+$routeParams.vId;
    $http.get(getVendorDetails).then(function(response)
        {
          $rootScope.vendorName = response.data.data.vendor.name;
        });

        // bool Logic start
           $scope.boolFunction = function(value) {
             $scope.breakfastBool=false;
             $scope.lunchBool=false;
             $scope.snacksBool=false;
             $scope.dinnerBool=false;
             $scope.cashCarryBool=false;
             $scope[value] = true;
           }
           $scope.boolFunction("breakfastBool");
        // bool Logic end
  }
}]);

vmApp.controller('InvoiceController', ['$scope','$rootScope','$route','$http',
            function($scope,$rootScope,$route,$http) {

              $http.get('data.json')
                          .then(function(res){
                             $scope.invoice = res.data;
                             console.log("res.data",$scope.invoice)
                          });
        }]);

// "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
//
// "use strict";
// var tid = setInterval(function() {
//     if ("complete" === document.readyState) {
//         clearInterval(tid);
//         var a = document.querySelector.bind(document),
//             b = document.querySelector(".vertical_nav"),
//             c = document.querySelector(".wrapper"),
//             d = document.getElementById("js-menu"),
//             e = d.querySelectorAll(".menu--item__has_sub_menu");
//         a(".toggle_menu").onclick = function() {
//             b.classList.toggle("vertical_nav__opened"), c.classList.toggle("toggle-content")
//         }, a(".collapse_menu").onclick = function() {
//             b.classList.toggle("vertical_nav__minify"), c.classList.toggle("wrapper__minify");
//             for (var a = 0; a < e.length; a++) e[a].classList.remove("menu--subitens__opened")
//         };
//         for (var f = 0; f < e.length; f++) e[f].classList.contains("menu--item__has_sub_menu") && e[f].querySelector(".menu--link").addEventListener("click", function(a) {
//             for (var b = 0; b < e.length; b++) a.target.offsetParent != e[b] && e[b].classList.remove("menu--subitens__opened");
//             a.target.offsetParent.classList.toggle("menu--subitens__opened")
//         }, !1)
//     }
// }, 100);

// // --------- cash and carry section  --> start
//
//               $scope.restaurantId = $cookies.get('id');
//
//               var unflatten = function(array, parent, tree) {
//                 // console.log("array, parent, tree",array, parent, tree);
//                   tree = typeof tree !== 'undefined' ? tree : [];
//                   parent = typeof parent !== 'undefined' ? parent : {
//                       id: null
//                   };
//                   var children = _.filter(array, function(child) {
//                       child.isInserted = true;
//                       // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
//                       if(child.menuNodes ==null)
//                       {
//                         child.menuNodes = [];
//                       }
//                       if(child.menuType != null)
//                       {
//                         if(child.menuType === "veg")
//                         {
//                           child.isVeg = true;
//                           // console.log("isVeg");
//                         }
//                         else if(child.menuType === "egg")
//                         {
//                           child.isEgg = true;
//                           // console.log("isegg");
//                         }
//                       }
//                       return child.parentId == parent.id;
//                   });
//                   if (!_.isEmpty(children)) {
//                       // console.log("parent.id",parent.id);
//                       if (parent.id == 0 || parent.id == null) {
//                                 tree = children;
//                       } else {
//                           parent['menuNodes'] = children
//                       }
//                       _.each(children, function(child) {
//                           unflatten(array, child)
//                       });
//                   }
//                   return tree;
//               };
//
//
//
//               var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
//               console.log("getMenuMonUrl 2000000",getMenuMonUrl);
//
//               var promis = $http.get(getMenuMonUrl);
//
//               promis.then(function(response) {
//                   $scope.myNode = response.data.data.menus;
//                 console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.MONDAY));
//                   // for monday by default load
//
//                   if(!_.isEmpty($scope.myNode.MONDAY))
//                   {
//                     console.log("yehhhh true 4545")
//                     $scope.menuNodes = unflatten($scope.myNode.MONDAY);
//                     console.log("menu node after update ", $scope.menuNodes);
//                   }
//                   else
//                   {
//                     $scope.menuNodes = [{
//
//                       uid: uuid.new(),
//                       menuName: "",
//                       menuNodes: [],
//                       isFoodItem: false
//                     }];
//                   }
//                   // by default end monday
//                 });
//
//               //add menu
//               // var bigrandom = require('bigrandom');
//
//
//
//
//               $scope.addsection = function(nodes, index) {
//                
//                   console.log("function(nodes, index) 0003",nodes, index);
//                   var uid = uuid.new();
//                   console.log("isfood item 5555",nodes[index]);
//                   // console.log("var uid",uid);
//                   // console.log("nodes[index]",JSON.stringify(nodes[index]));
//                   // console.log("isFoodItem",isFoodItem);
//
//                   if (nodes[index].isFoodItem) {
//                     console.log("inside if");
//                       nodes.splice(index + 1, 0, {
//                           uid: uid,
//                           menuName: "New Add Section Menu 1",
//                           menuNodes: [],
//                           isFoodItem: true,
//                           parentNodeId: nodes[index].parentNodeId
//                       });
//                   } else {
//                     console.log("outside if index",nodes[index]);
//                       nodes.splice(index + 1, 0, {
//                           uid: uid,
//                           menuName: "New 2",
//                           menuNodes: [],
//                           isFoodItem: false,
//                           parentNodeId: nodes[index].parentNodeId
//                       });
//                       console.log("nodes 1002",nodes);
//                   }
//
//               }
//
//               $scope.addchild = function(node) {
//                   console.log("checked value 555 : ", JSON.stringify(node));
//                   var uid = uuid.new();
//                   node.menuNodes.push({
//                       uid: uid,
//                       menuName: "",
//                       menuNodes: [],
//                       isFoodItem: false,
//                       parentNodeId: node.uid
//                   });
//               }
//               // add menu ends here
//
//               $scope.submitMenu = function() {
//                   sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
//               }
//
//               // $scope.myfun = function(n) {
//               //   console.log("check m 1",n)
//               // }
//
//               $scope.saveInDb = function(node, dayName) {
//
//                 // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
//                   saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
//                   .then(function(returnedSaveMenu){
//                     // console.log("returnedSaveMenu 001",returnedSaveMenu);
//                   checkMe();
//                     if (returnedSaveMenu !== null) {
//                       updateMenuNode($scope.menuNodes,returnedSaveMenu);
//                     }
//                   });
//               }
//
//               $scope.updateMenu = function(node)
//               {
//                 updateMenuService.updateMenu(node, $scope.restaurantId)
//                 .then(function(returnedUpdatedMenu){
//                   // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
//                   // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
//                   checkMe();
//                   if (returnedUpdatedMenu !== null) {
//                     // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
//                     updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
//                   }
//                 });
//               };
//
//               $scope.deleteNode = function(node,day)
//               {
//                 // console.log("inside removve node 0002",node);
//                 updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
//                 .then(function(deleteNodeResp){
//                   // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
//                   checkMe();
//                   updateDelMenuNode($scope.menuNodes,node.uid,null,null);
//                 });
//                 console.log("nodes 1002",nodes);
//               };
//
// var checkMe = function(){
// console.log("check Me inside");
// var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
// $http.get(getMenuMonUrl).then(function(response) {
//   console.log("yeehhh",response);
// $scope.myNode = response.data.data.menus;});
// }
//
//               var updateDelMenuNode = function(theObject,uid,index,mainArray) {
//                   var result = null;
//                   if (theObject instanceof Array) {
//                       for (var i = 0; i < theObject.length; i++) {
//                           result = updateDelMenuNode(theObject[i],uid,i,theObject);
//                           if (result) {
//                               break;
//                           }
//                       }
//                   } else {
//                       for (var prop in theObject) {
//                           if (prop == 'uid') {
//                               if (theObject[prop] == uid) {
//                                 mainArray.splice(index,1);
//                                 break;
//                               }
//                           }
//                           if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
//                               result = updateDelMenuNode(theObject[prop],uid,null,null);
//                               if (result) {
//                                   break;
//                               }
//                           }
//                       }
//                   }
//
//                   var mainMenuNodeLength = $scope.menuNodes.length;
//                   // console.log("mainMenuNodeLength",$scope.menuNodes.length);
//                   if(mainMenuNodeLength === 0)
//                   {
//                     $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
//                   }
//                   return result;
//               }
//
//               var updateMenuNode = function(theObject,modifiedMenu) {
//                 // console.log("inside updateMenu 456",theObject,modifiedMenu);
//                   var result = null;
//                   if (theObject instanceof Array) {
//                       for (var i = 0; i < theObject.length; i++) {
//                           result = updateMenuNode(theObject[i],modifiedMenu);
//                           if (result) {
//                               break;
//                           }
//                       }
//                   } else {
//                       for (var prop in theObject) {
//                           if (prop == 'uid') {
//                               if (theObject[prop] == modifiedMenu.uid) {
//                                 theObject.id = modifiedMenu.id;
//                                 theObject.isInserted = true;
//                               }
//                           }
//                           if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
//                               result = updateMenuNode(theObject[prop],modifiedMenu);
//                               if (result) {
//                                   break;
//                               }
//                           }
//                       }
//                   }
//                   return result;
//               }
//
//               $scope.toggleAll = function() {
//                   var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
//                   angular.forEach($scope.options, function(itm) {
//                       itm.selected = toggleStatus;
//                   });
//               }
//               $scope.optionToggled = function() {
//                   $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
//                       return itm.selected;
//                   })
//               }
//               $scope.expandNode = function(n, $event) {
//                   // console.log("well inside expandNode",n,$event);
//                   $event.stopPropagation();
//                   n.toggle();
//               };
//
// $scope.callMe = function(x){
//   console.log("new c 5555",x);
//   if(x=="Monday"){
//     console.log("$scope.myNode 5555",$scope.myNode.MONDAY);
//
//     if(!_.isEmpty($scope.myNode.MONDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.MONDAY);
//       console.log("menu node after update ", $scope.menuNodes);
//     }else{
//       $scope.menuNodes = [{
//
//         uid: uuid.new(),
//         menuName: "Monday Menu",
//         menuNodes: [],
//         isFoodItem: false
//       }];
//     }
//   }
//   if(x=="Tuesday"){
//     console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));
//
//       if(!_.isEmpty($scope.myNode.TUESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
//     }
//   }
//   if(x=="Wednesday"){
//     console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);
//
//     if(!_.isEmpty($scope.myNode.WEDNESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
//     }
//   }
//   if(x=="Thursday"){
//     console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);
//
//     if(!_.isEmpty($scope.myNode.THURSDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
//     }
//   }
//   if(x=="Friday"){
//     console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);
//
//     if(!_.isEmpty($scope.myNode.FRIDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
//     }
//   }
//   if(x=="Saturday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);
//
//     if(!_.isEmpty($scope.myNode.SATURDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
//     }
//   }
//   if(x=="Sunday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);
//
//     if(!_.isEmpty($scope.myNode.SUNDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
//     }
//   }
//   $scope.menuNodes = [{
//
//       uid: uuid.new(),
//       menuName: "",
//       menuNodes: [],
//       isFoodItem: false
//   }];
//
// }
// // cash and carry section  --> end
// // _______________________***********end*************_________________________________________________

vmApp.controller('SectionController',['$routeParams','$route','$location','postDeleteMenuUrl',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
'getCompanyProfileUrl','corporateReviewsUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,
  getmenuFromDbTueUrl,getCompanyProfileUrl,corporateReviewsUrl) {
//--------------------------button to get current location-------------------

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');


// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //      
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {
var companyId = $routeParams.compId;
$scope.cId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end


      var getFeedbackUrl = corporateReviewsUrl+$scope.cId;
      $http.get(getFeedbackUrl).then(function(response)
      {
        $scope.feedback=response.data.data.reviews;
      });
// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };

              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.MONDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.MONDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.MONDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');

              $scope.addsection = function(nodes, index) {

                  console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "New Add Section Menu 1",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "New 2",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }

              }

              $scope.addchild = function(node) {
                  console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              $scope.saveInDb = function(node, dayName) {

                // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.expandNode = function(n, $event) {
                  // console.log("well inside expandNode",n,$event);
                  $event.stopPropagation();
                  n.toggle();
              };

$scope.callMe = function(x){
  console.log("new c 5555",x);
  if(x=="Monday"){
    console.log("$scope.myNode 5555",$scope.myNode.MONDAY);

    if(!_.isEmpty($scope.myNode.MONDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.MONDAY);
      console.log("menu node after update ", $scope.menuNodes);
    }else{
      $scope.menuNodes = [{

        uid: uuid.new(),
        menuName: "Monday Menu",
        menuNodes: [],
        isFoodItem: false
      }];
    }
  }
  if(x=="Tuesday"){
    console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));

      if(!_.isEmpty($scope.myNode.TUESDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
      console.log("$scope.menuNodes 666",$scope.menuNodes);
    }
  }
  if(x=="Wednesday"){
    console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);

    if(!_.isEmpty($scope.myNode.WEDNESDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
    }
  }
  if(x=="Thursday"){
    console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);

    if(!_.isEmpty($scope.myNode.THURSDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
    }
  }
  if(x=="Friday"){
    console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);

    if(!_.isEmpty($scope.myNode.FRIDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
    }
  }
  if(x=="Saturday"){
    console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);

    if(!_.isEmpty($scope.myNode.SATURDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
    }
  }
  if(x=="Sunday"){
    console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);

    if(!_.isEmpty($scope.myNode.SUNDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
    }
  }
  $scope.menuNodes = [{

      uid: uuid.new(),
      menuName: "",
      menuNodes: [],
      isFoodItem: false
  }];

}
// cash and carry section  --> end
// // _______________________***********end*************_________________________________________________

$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }

}


$scope.processComplete=function()
{
  $scope.enableStep4();
}

  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);
                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................

// bool Logic start
   $scope.boolFunction = function(value) {
     $scope.bBool=false;
     $scope.lBool=false;
     $scope.sBool=false;
     $scope.dBool=false;

                   $scope.addDeliveryBool=false;
                   $scope.addMenuBool=false;
                   $scope.breakfastBool=false;
                   $scope.lunchBool=false;
                   $scope.snacksBool=false;
                   $scope.dinnerBool=false;
                   $scope.enableStep1Bool=false;
                   $scope.enableStep2Bool=false;
                   $scope.enableStep3Bool=false;
                   $scope.enableStep4Bool=false;
                   $rootScope.barBool = false;
                   $scope.cashAndCarryBool=false;
                   $scope.requirementsBool=false;
                   $scope.feedbackBool=false;
                   $scope.billingBool=false;
     $scope[value] = true;
   }
   $scope.boolFunction("requirementsBool");

  //
  // $locationProvider.html5Mode(true);
  // console.log("$scope.q 555",$location.search().breakfast);
  var breakfast = $location.search().breakfast;
  var lunch = $location.search().lunch;
  var snacks = $location.search().snacks;
  var dinner = $location.search().dinner;
  var requirements = $location.search().requirements;
  var feedback = $location.search().feedback;

  if(breakfast=="true")
  {
    $scope.boolFunction("bBool");
  }
  if(lunch=="true")
  {
    $scope.boolFunction("lBool");
  }
  if(snacks=="true")
  {
    $scope.boolFunction("sBool");
  }
  if(dinner=="true")
  {
    $scope.boolFunction("dBool");
  }
  if(requirements=="true")
  {
    $scope.boolFunction("requirementsBool");
  }
  if(feedback=="true")
  {
    $scope.boolFunction("feedbackBool");
  }
// bool Logic end

// $scope.bBool=false;
// $scope.lBool=false;
// $scope.sBool=false;
// $scope.dBool=false;
//
//               $scope.addDeliveryBool=false;
//               $scope.addMenuBool=false;
//               $scope.breakfastBool=false;
//               $scope.lunchBool=false;
//               $scope.snacksBool=false;
//               $scope.dinnerBool=false;
//               $scope.enableStep1Bool=false;
//               $scope.enableStep2Bool=false;
//               $scope.enableStep3Bool=false;
//               $scope.enableStep4Bool=false;
//               $rootScope.barBool = false;
//               $scope.cashAndCarryBool=false;
//               $scope.requirementsBool=true;
//               $scope.feedbackBool=false;
//               $scope.billingBool=false;

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
// $scope.enableBillingBool=function(){
//   $scope.bBool=false;
//   $scope.lBool=false;
//   $scope.sBool=false;
//   $scope.dBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.addDeliveryBool=false;
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
//
//   $scope.step1Bool=false;
//   $scope.step2Bool=false;
//   $scope.step3Bool=false;
//
//   $scope.addMenuBool=false;
//   $scope.breakfastBool=false;
//   $scope.lunchBool=false;
//   $scope.snacksBool=false;
//   $scope.dinnerBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.requirementsBool=false;
//   $scope.feedbackBool=false;
//   $scope.billingBool=true;
// }
// $scope.enableFeedbackBool = function(){
//   $scope.bBool=false;
//   $scope.lBool=false;
//   $scope.sBool=false;
//   $scope.dBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.addDeliveryBool=false;
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
//
//   $scope.step1Bool=false;
//   $scope.step2Bool=false;
//   $scope.step3Bool=false;
//
//   $scope.addMenuBool=false;
//   $scope.breakfastBool=false;
//   $scope.lunchBool=false;
//   $scope.snacksBool=false;
//   $scope.dinnerBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.requirementsBool=false;
//   $scope.feedbackBool=true;
//   $scope.billingBool=false;
// }
// $scope.enableBBool=function()
// {
//   $scope.bBool=true;
//   $scope.lBool=false;
//   $scope.sBool=false;
//   $scope.dBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.addDeliveryBool=false;
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
//
//   $scope.step1Bool=false;
//   $scope.step2Bool=false;
//   $scope.step3Bool=false;
//
//   $scope.addMenuBool=false;
//   $scope.breakfastBool=false;
//   $scope.lunchBool=false;
//   $scope.snacksBool=false;
//   $scope.dinnerBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.requirementsBool=false;
//   $scope.feedbackBool=false;
//   $scope.billingBool=false;
// }
// $scope.enableLBool=function()
// {
//   $scope.bBool=false;
//   $scope.lBool=true;
//   $scope.sBool=false;
//   $scope.dBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.addDeliveryBool=false;
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
//
//   $scope.step1Bool=false;
//   $scope.step2Bool=false;
//   $scope.step3Bool=false;
//
//   $scope.addMenuBool=false;
//   $scope.breakfastBool=false;
//   $scope.lunchBool=false;
//   $scope.snacksBool=false;
//   $scope.dinnerBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.requirementsBool=false;
//   $scope.feedbackBool=false;
//   $scope.billingBool=false;
// }
// $scope.enableSBool=function()
// {
//   $scope.bBool=false;
//   $scope.lBool=false;
//   $scope.sBool=true;
//   $scope.dBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.addDeliveryBool=false;
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
//
//   $scope.step1Bool=false;
//   $scope.step2Bool=false;
//   $scope.step3Bool=false;
//
//   $scope.addMenuBool=false;
//   $scope.breakfastBool=false;
//   $scope.lunchBool=false;
//   $scope.snacksBool=false;
//   $scope.dinnerBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.requirementsBool=false;
//   $scope.feedbackBool=false;
//   $scope.billingBool=false;
// }
// $scope.enableDBool=function()
// {
//   $scope.bBool=false;
//   $scope.lBool=false;
//   $scope.sBool=false;
//   $scope.dBool=true;
//
//   $scope.cashAndCarryBool=false;
//   $scope.addDeliveryBool=false;
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
//
//   $scope.step1Bool=false;
//   $scope.step2Bool=false;
//   $scope.step3Bool=false;
//
//   $scope.addMenuBool=false;
//   $scope.breakfastBool=false;
//   $scope.lunchBool=false;
//   $scope.snacksBool=false;
//   $scope.dinnerBool=false;
//
//   $scope.cashAndCarryBool=false;
//   $scope.requirementsBool=false;
//   $scope.feedbackBool=false;
//   $scope.billingBool=false;
// }
// $scope.enableStep1= function(){
//   $scope.enableStep1Bool=true;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
// }
// $scope.enableStep2= function(){
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=true;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=false;
//   $scope.step1Bool=true;
// }
// $scope.enableStep3= function(){
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=true;
//
//   $scope.enableStep4Bool=false;
//   $scope.step2Bool=true;
// }
// $scope.enableStep4= function(){
//   $scope.enableStep1Bool=false;
//   $scope.enableStep2Bool=false;
//   $scope.enableStep3Bool=false;
//   $scope.enableStep4Bool=true;
//   $scope.step3Bool=true;
// }
//
//   $scope.enableDeliverySection = function(){
//     $scope.cashAndCarryBool=false;
//     $scope.addDeliveryBool=true;
//     $scope.enableStep1Bool=true;
//     $scope.enableStep2Bool=false;
//     $scope.enableStep3Bool=false;
//     $scope.enableStep4Bool=false;
//
//     $scope.step1Bool=false;
//     $scope.step2Bool=false;
//     $scope.step3Bool=false;
//
//     $scope.addMenuBool=false;
//     $scope.breakfastBool=false;
//     $scope.lunchBool=false;
//     $scope.snacksBool=false;
//     $scope.dinnerBool=false;
//
//     $scope.cashAndCarryBool=false;
//     $scope.requirementsBool=false;
//
// initMap();
//   }
//   $scope.enableCashAndCarry = function(){
//     $scope.bBool=false;
//     $scope.lBool=false;
//     $scope.sBool=false;
//     $scope.dBool=false;
//
//     $scope.addDeliveryBool=false;
//     $scope.addMenuBool=false;
//     $scope.breakfastBool=false;
//     $scope.lunchBool=false;
//     $scope.snacksBool=false;
//     $scope.dinnerBool=false;
//     $scope.cashAndCarryBool=true;
//     $scope.requirementsBool=false;
//     $scope.feedbackBool=false;
//     $scope.billingBool=false;
//   }
//   $scope.enableRequirements = function(){
//     $scope.bBool=false;
//     $scope.lBool=false;
//     $scope.sBool=false;
//     $scope.dBool=false;
//
//     $scope.addDeliveryBool=false;
//     $scope.addMenuBool=false;
//     $scope.breakfastBool=false;
//     $scope.lunchBool=false;
//     $scope.snacksBool=false;
//     $scope.dinnerBool=false;
//     $scope.cashAndCarryBool=false;
//     $scope.requirementsBool=true;
//     $scope.feedbackBool=false;
//     $scope.billingBool=false;
//     }
//   $scope.enableMenuSection = function(){
//     $scope.bBool=false;
//     $scope.lBool=false;
//     $scope.sBool=false;
//     $scope.dBool=false;
//
//     $scope.addDeliveryBool=false;
//     $scope.addMenuBool=true;
//     $scope.breakfastBool=false;
//     $scope.lunchBool=false;
//     $scope.snacksBool=false;
//     $scope.dinnerBool=false;
//     $scope.cashAndCarryBool=false;
//     $scope.requirementsBool=false;
//     $scope.feedbackBool=false;
//     $scope.billingBool=false;
//   }
//   $scope.enableBreakfast = function(){
//     $scope.breakfastBool=true;
//     $scope.lunchBool=false;
//     $scope.snacksBool=false;
//     $scope.dinnerBool=false;
//     $scope.feedbackBool=false;
//     $scope.billingBool=false;
//   }
//   $scope.enableLunch = function(){
//     $scope.breakfastBool=false;
//     $scope.lunchBool=true;
//     $scope.snacksBool=false;
//     $scope.dinnerBool=false;
//     $scope.feedbackBool=false;
//     $scope.billingBool=false;
//   }
//   $scope.enableSnacks = function(){
//     $scope.breakfastBool=false;
//     $scope.lunchBool=false;
//     $scope.snacksBool=true;
//     $scope.dinnerBool=false;
//     $scope.feedbackBool=false;
//     $scope.billingBool=false;
//   }
//   $scope.enableDinner = function(){
//     $scope.breakfastBool=false;
//     $scope.lunchBool=false;
//     $scope.snacksBool=false;
//     $scope.dinnerBool=true;
//     $scope.feedbackBool=false;
//     $scope.billingBool=false;
//   }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });
// ------------------------------------------------------------------------
}
}]);

angular.module('tabsDemoDynamicHeight', ['ngMaterial']);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         console.log("yo we are in service module bro id #000 SECTION");
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.factory('uuid', function() {
    var svc = {
        new: function() {
            function _p8(s) {
                var p = (Math.random().toString(16)+"000000000").substr(2,8);
                return s ? "-" + p.substr(0,4) + "-" + p.substr(4,4) : p ;
            }
            return _p8() + _p8(true) + _p8(true) + _p8();
        },

        empty: function() {
          return '00000000-0000-0000-0000-000000000000';
        }
    };

    return svc;
});

vmApp.controller('DashboardController',['$scope','$location','$cookies','$rootScope','$http','Notification','getAllCompanyUrl','getVendorProfileUrl','$route',
'getAllCompanyToVendorUrl','$httpParamSerializerJQLike',
function($scope,$location,$cookies,$rootScope,$http,Notification,getAllCompanyUrl,
  getVendorProfileUrl,$route,getAllCompanyToVendorUrl,$httpParamSerializerJQLike) {
// Pubnub
// Pubnub.init({
//     publishKey: 'pub-c-41191e23-fd27-47c6-bf01-770b9d1e6cb9',
//     subscribeKey: 'sub-c-15b3a7ac-2db7-11e8-9288-daa582a09445'
// });

// Pubnub.publish(
//     {
//         message: {
//             such: 'Hello!'
//         },
//         channel: 'myChannel'
//     },
//     function (status, response) {
//         if (status.error) {
//             console.log(status)
//         } else {
//             console.log("message Published w/ timetoken", response.timetoken)
//         }
//     }
// );
// $scope.s cores = $pubnubChannel('myChannel')
console.log("$scope.scores",$scope.scores);

//  end
	$scope.signOut = function(){
		//console.log("Yo i am gonna signOut");
		$cookies.remove('id');
		$cookies.remove('token');
		$cookies.remove('username');
		$cookies.remove('email');
		// $rootScope.barBool = false;
		$rootScope.dashboardSingOutBool=false;
		$rootScope.footerBool=false;
		$rootScope.vId = false;
		// $rootScope.notifBool = false;
		$location.path('/vendor');
	}

	$rootScope.vId = $cookies.get('id');
	$scope.userName=$cookies.get('username');
	$scope.mail=$cookies.get('email');


	if($cookies.get('username') == null)
	{
		// console.log("before Notification");
		Notification.warning("Login required!!!");
		$rootScope.dashboardSingOutBool=false;
		$rootScope.footerBool=false;

		$location.path('/login');
		$route.reload();
	}
	else
	 {
    var authUserId=$cookies.get('authUserId');
		$scope.name=$cookies.get('name');
		$scope.mobile=$cookies.get('mobile');

		// tongal baar script start
		"use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
		// tongal baar script end

// typwritter animation start
var TxtType = function(el, toRotate, period) {
        this.toRotate = toRotate;
        this.el = el;
        this.loopNum = 0;
        this.period = parseInt(period, 10) || 2000;
        this.txt = '';
        this.tick();
        this.isDeleting = false;
    };

    TxtType.prototype.tick = function() {
        var i = this.loopNum % this.toRotate.length;
        var fullTxt = this.toRotate[i];

        if (this.isDeleting) {
        this.txt = fullTxt.substring(0, this.txt.length - 1);
        } else {
        this.txt = fullTxt.substring(0, this.txt.length + 1);
        }

        this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';

        var that = this;
        var delta = 200 - Math.random() * 100;

        if (this.isDeleting) { delta /= 2; }

        if (!this.isDeleting && this.txt === fullTxt) {
        delta = this.period;
        this.isDeleting = true;
        } else if (this.isDeleting && this.txt === '') {
        this.isDeleting = false;
        this.loopNum++;
        delta = 500;
        }

        setTimeout(function() {
        that.tick();
        }, delta);
    };

    window.onload = function() {
        var elements = document.getElementsByClassName('typewrite');
        for (var i=0; i<elements.length; i++) {
            var toRotate = elements[i].getAttribute('data-type');
            var period = elements[i].getAttribute('data-period');
            if (toRotate) {
              new TxtType(elements[i], JSON.parse(toRotate), period);
            }
        }
        // INJECT CSS
        var css = document.createElement("style");
        css.type = "text/css";
        css.innerHTML = ".typewrite > .wrap { border-right: 0.08em solid #fff}";
        document.body.appendChild(css);
    };
		// animation end


		//console.log("username : " ,$cookies.get('username'));
		$scope.username = $cookies.get('username');
		var vendorId = $cookies.get('id');
		// console.log("-------->>>>>>>>>",vendorId);
		// $rootScope.barBool = true;
		// $rootScope.dashboardSingOutBool=true;
		$rootScope.footerBool=true;

    // console.log("---->",$rootScope.allCompanies)

		var getCompanies = getAllCompanyToVendorUrl+vendorId;
		// $http.get(getCompanies).then(function(response) {
		//       $scope.companies = response.data.data.companies;
		// });

    $http({
        method: 'GET',
        url: getCompanies,
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'type': 'vendor',
            'scm': 'fancymonk',
            'Authorization': "Bearer "+authUserId,
        },
    }).then(function(response){
      console.log("response 101",response);
      $scope.companies = response.data.data.companies;
    });


			// $http.get(getAllCompanyUrl).then(function(response)
			// 		{
			// 			$rootScope.allCompanies = [];
			// 			// console.log('length:',response.data.data.companies.length);
			// 			for(var i=0; i<response.data.data.companies.length; i++)
			// 			{
			// 				// console.log("in for loop",response.data.data.companies[i]);
			// 				if(response.data.data.companies[i].vendorId==vendorId)
			// 				{
			// 					// console.log("push company",response.data.data.companies[i]);
			// 					$scope.allCompanies.push(response.data.data.companies[i]);
			// 						$rootScope.lat=response.data.data.companies[i].lat;
			// 						// console.log("in dashboard controller",$rootScope.lat);
			// 				}
			// 			}
			// 		});
	}

}]);


vmApp.controller('LoginController',['$scope','$rootScope','$cookies','loginService',
'$http','loginUrl','$route',
            function($scope,$rootScope,$cookies, loginService, $http,loginUrl,$route) {

                $scope.login = function(user) {
                    loginService.login(user,loginUrl);
                }
            }
        ]);

vmApp.factory('loginService', ['$http','$cookies','$rootScope','$httpParamSerializerJQLike','$location','Notification',
    function($http,$cookies,$rootScope, $httpParamSerializerJQLike, $location, Notification) {
        return {
            login: function(user,loginUrl) {
              console.log("user",user);
                $http({
                    method: 'POST',
                    url: loginUrl,
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'type': 'vendor',
                        'scm': 'fancymonk',
                        'Authorization': 'Basic WVhCd1FHWmhibU41Ylc5dWEyRmhZV0Z1OjE1OjJDOjJBOkZFOjUxOkQwOkM3OjNCOjQ2OjFGOkREOjk2Ojk0OkFGOjkyOkE2OjFGOjUyOjBEOkUz',
                    },
                    data: $httpParamSerializerJQLike(user)
                }).then(function(response) {
                  console.log("response 101",response);
                    if (response.data.status == 1) {
                        Notification.success('Successfully loged in');
                        $cookies.put('username',response.data.data.vendor.username);
                        $cookies.put('token',response.data.data.vendor.token);
                        $cookies.put('id',response.data.data.vendor.id);
                        $cookies.put('email',response.data.data.vendor.email);
                        $cookies.put('name',response.data.data.vendor.name);
                        $cookies.put('mobile',response.data.data.vendor.mobile);
                        $cookies.put('authUserId',response.data.data.vendor.authUserId);
                        $location.path('/dashboard');
                    } else {
                        Notification.error('Username/Mobile/Email or password is incorrect');
                    }
                })
                .catch(function(response) {
                  Notification.error('Server is down please try again latter');
                });
            }
        }
    }
]);

vmApp.controller('SignupController', ['$scope','$rootScope', '$cookies', 'signupService', '$http','signupUrl',
        function($scope, $rootScope, $cookies, signupService, $http, signupUrl) {
            $cookies.remove('id');

            console.log("Id cookie val ",$cookies.get('id'));
            $cookies.remove('token');
            $cookies.remove('username');
            $scope.signup = function(user) {
            //var num = user.number;
            // var n = num.toString();
         console.log("I am in ctrl file : ",user);
                signupService.signup(user, signupUrl);

            }
            $rootScope.barBool = false;
          }
    ]);

vmApp.directive('usernameAvailable', ['$timeout', '$q', '$http', 'signupUsernameUrl','signupEmailUrl','signupMobUrl',
    function($timeout,$q,$http,signupUsernameUrl,signupEmailUrl,signupMobUrl) {
        return {
            restrict: 'AE',
            require: 'ngModel',
            link: function(scope, elm, attr, model) {
                model.$asyncValidators.usernameExists = function(val) {
                    return $http.get(signupUsernameUrl + val).then(function(res) {
                        +$timeout(function() {
                            // console.log('Response check---> ', JSON.parse(JSON.stringify(res)));
                            // console.log('Response msg===not available ', res.data.message, 'not available');
                            var boolVal;
                            if (res.data.exist) {
                                boolVal = true;
                            } else {
                                boolVal = false;
                            }
                            model.$setValidity('usernameExists', !boolVal); //!!res.data
                        }, 1000);
                    });
                };
            }
        }
    }
]);

vmApp.directive('emailAvailable', ['$timeout', '$q', '$http', 'signupEmailUrl',
    function($timeout, $q, $http, signupEmailUrl) {
        return {
            restrict: 'AE',
            require: 'ngModel',
            link: function(scope, elm, attr, model) {
                model.$asyncValidators.emailExists = function(val) {
                    return $http.get(signupEmailUrl + val).then(function(res) {
                        +$timeout(function() {
                            var boolVal;
                            if (res.data.exist) {
                                boolVal = true;
                            } else {
                                boolVal = false;
                            }
                            model.$setValidity('emailExists', !boolVal);
                        }, 1000);
                    });
                };
            }
        }
    }
]);

vmApp.directive('mobilenumberAvailable', ['$timeout', '$q', '$http', 'signupMobUrl',
    function($timeout, $q, $http, signupMobUrl) {
        return {
            restrict: 'AE',
            require: 'ngModel',
            link: function(scope, elm, attr, model) {
                model.$asyncValidators.mobilenumberExists = function(val) {
                    return $http.get(signupMobUrl + val).then(function(res) {
                        +$timeout(function() {
                            var boolVal;
                            if (res.data.exist) {
                                boolVal = true;
                            } else {
                                boolVal = false;
                            }
                            model.$setValidity('mobilenumberExists', !boolVal);
                        }, 1000);
                    });
                };
            }
        }
    }
]);
vmApp.directive('pwCheck', [function() {
    return {
        require: 'ngModel',
        link: function(scope, elem, attrs, model) {
            //console.log("well at least we are inside directice");
            var checker = function() {
                //get the value of the first password
                var e1 = scope.$eval(attrs.ngModel);
                //get the value of the other password
                var e2 = scope.$eval(attrs.pwCheck);
                return e1 == e2;
            };
            scope.$watch(checker, function(n) {
                model.$setValidity("pwmatch", n);
            });
        }

    }
}]);

vmApp.factory('signupService', ['$http','$httpParamSerializerJQLike','$location','loginUrl','loginService','Notification',
  function($http, $httpParamSerializerJQLike,$location,loginUrl,loginService,Notification) {
    return {
        signup: function(user,signupUrl) {
            console.log("in side service signup");
            console.log("passsed value : ", user);
            var rest = JSON.parse(JSON.stringify(user));
            console.log("final check : ", rest);
            $http({
                method: 'POST',
                url: signupUrl,
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                data: $httpParamSerializerJQLike(rest)
            })
            .then(function(response) {
                console.log('response', response);
                if (response.data.status == 1) {
                    console.log('success');
                    Notification.success('Successfully registered');
                    var loginData = {
                      value:user.username,
                      password:user.password
                    }
                    loginService.login(loginData,loginUrl);
                } else {
                    Notification.error('[Error] in registering please check your internet connection');
                    console.log('error registering');
                }
            });
        }
    }
}]);

vmApp.controller('FridayController',['$routeParams','$route','$location','postDeleteMenuUrl','$timeout',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl','$location',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,$timeout,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,$location,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,getmenuFromDbTueUrl) {
//--------------------------button to get current location-------------------
$rootScope.dashboardSingOutBool=true;
$rootScope.footerBool=true;

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');

// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //       
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {
$scope.cId = $routeParams.compId;
var companyId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end


// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };



              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.FRIDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.FRIDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');




              $scope.addsection = function(nodes, index) {

                  console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }

              }

              $scope.addchild = function(node) {
                if(node.decisionCollapse)
                {
                  $scope.toggleCollapse(node);
                }
                  // console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // ----------
              $scope.toggleCollapse = function(node) {
                console.log("node: ", node);

                  if(node.decisionCollapse)
                  {
                    node.decisionCollapse = false;
                  }
                  else {
                    node.decisionCollapse = true;
                  }
              };
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              // $scope.myfun = function(n) {
              //   console.log("check m 1",n)
              // }

              $scope.saveInDb = function(node, dayName) {

                // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.expandNode = function(n, $event) {
                  // console.log("well inside expandNode",n,$event);
                  $event.stopPropagation();
                  n.toggle();
              };

// $scope.callMe = function(x){
//   console.log("new c 5555",x);
//   if(x=="Monday"){
//     console.log("$scope.myNode 5555",$scope.myNode.MONDAY);
//
//     if(!_.isEmpty($scope.myNode.MONDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.MONDAY);
//       console.log("menu node after update ", $scope.menuNodes);
//     }else{
//       $scope.menuNodes = [{
//
//         uid: uuid.new(),
//         menuName: "Monday Menu",
//         menuNodes: [],
//         isFoodItem: false
//       }];
//     }
//   }
//   if(x=="Tuesday"){
//     console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));
//
//       if(!_.isEmpty($scope.myNode.TUESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
//     }
//   }
//   if(x=="Wednesday"){
//     console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);
//
//     if(!_.isEmpty($scope.myNode.WEDNESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
//     }
//   }
//   if(x=="Thursday"){
//     console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);
//
//     if(!_.isEmpty($scope.myNode.THURSDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
//     }
//   }
//   if(x=="Friday"){
//     console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);
//
//     if(!_.isEmpty($scope.myNode.FRIDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
//     }
//   }
//   if(x=="Saturday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);
//
//     if(!_.isEmpty($scope.myNode.SATURDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
//     }
//   }
//   if(x=="Sunday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);
//
//     if(!_.isEmpty($scope.myNode.SUNDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
//     }
//   }
//   $scope.menuNodes = [{
//
//       uid: uuid.new(),
//       menuName: "",
//       menuNodes: [],
//       isFoodItem: false
//   }];
//   // var getMenuMonUrl = getmenuFromDbTueUrl+"dayName="+x+"&companyId="+companyId+"&vendorId="+vendorId;
//   // console.log("getMenuMonUrl 2000000",getMenuMonUrl);
//   //
//   // $http.get(getMenuMonUrl).then(function(response) {
//   //   console.log("response in API 00000001",response.data.data);
//   //     if(response.data.data === undefined) {
//   //       $scope.menuNodes = [{
//   //           uid: uuid.new(),
//   //           menuName: "Menu",
//   //           menuNodes: [],
//   //           isFoodItem: false
//   //       }];
//   //     }
//   //     if(!_.isEmpty(response.data.data))
//   //     {
//   //       $scope.menuNodes = unflatten(response.data.data.menus);
//   //     }
//   // });
// }
// cash and carry section  --> end


$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }
  // else {
  // }
}
// $scope.response = {};
// $scope.response.Menutime = ['Breakfast','Lunch','Snacks','Dinner'];
// $scope.response.weekdays = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
//
// $scope.replaceMenu_breakfast = [];
// $scope.replaceMenu_lunch = [];
// $scope.replaceMenu_snacks = [];
// $scope.replaceMenu_dinner = [];

  // $scope.replaceMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
  // {
  //   // console.log("dinner_item",dinner_item);
  //   if(breakfast_item)
  //   {
  //   for(i=0;i<breakfast_item.length;i++)
  //   {
  //     if(breakfast_item[i].checkbox){
  //       if(breakfast_item[i].checkbox === true){
  //         $scope.replaceMenu_breakfast.push(breakfast_item[i])
  //       }
  //     }
  //    }
  //  }
  //  if(lunch_item)
  //  {
  //   for(j=0;j<lunch_item.length;j++)
  //   {
  //     if(lunch_item[j].checkbox){
  //       if(lunch_item[j].checkbox === true){
  //         $scope.replaceMenu_lunch.push(lunch_item[j])
  //       }
  //     }
  //   }
  // }
  // if(snacks_item)
  // {
  //   for(k=0;k<snacks_item.length;k++)
  //   {
  //     if(snacks_item[k].checkbox){
  //       if(snacks_item[k].checkbox === true){
  //         $scope.replaceMenu_snacks.push(snacks_item[k])
  //       }
  //     }
  //   }
  // }
  // if(dinner_item)
  // {
  //   for(l=0;l<dinner_item.length;l++)
  //   {
  //     if(dinner_item[l].checkbox){
  //       if(dinner_item[l].checkbox === true){
  //         $scope.replaceMenu_dinner.push(dinner_item[l])
  //         // console.log("inside dinner");
  //       }
  //     }
  //   }
  // }
  //   $scope.enableStep2();
  // }

$scope.processComplete=function()
{
  $scope.enableStep4();
}

//  $scope.dispatchMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
//  {
//
//    console.log("check all dispatch menu: ", breakfast_item,lunch_item,snacks_item,dinner_item);
//    $scope.dispatchMenu_breakfast=$scope.replaceMenu_breakfast;
//    $scope.dispatchMenu_lunch=$scope.replaceMenu_lunch;
//    $scope.dispatchMenu_snacks=$scope.replaceMenu_snacks;
//    $scope.dispatchMenu_dinner=$scope.replaceMenu_dinner;
//
//     if($scope.dispatchMenu_breakfast)
//     {
//        console.log("1. final breakfast item",$scope.dispatchMenu_breakfast,$rootScope.date,companyId,vendorId,$scope.type[0]);
//     }
//     if($scope.dispatchMenu_lunch)
//     {
//        console.log("2. final lunch item",$scope.dispatchMenu_lunch,$rootScope.date,companyId,vendorId,$scope.type[1]);
//     }
//     if($scope.dispatchMenu_snacks)
//     {
//        console.log("3. final snacks item",$scope.dispatchMenu_snacks,$rootScope.date,companyId,vendorId,$scope.type[2]);
//     }
//    if($scope.dispatchMenu_dinner)
//    {
//       console.log("4. final dinner item",$scope.dispatchMenu_dinner,$rootScope.date,companyId,vendorId,$scope.type[3]);
//    }
//
//    $scope.enableStep3();
//
// $scope.checkFunction();
//  }
//
//  $scope.checkFunction=function()
//  {
//    if($scope.enableStep3Bool==true)
//    {
//       $scope.resizeMap(map);
//    }
//  }
// $scope.resizeMap=function(map)
// {
//     setTimeout(function()
//                {
// initMap();
//     google.maps.event.trigger(map, "resize");
//   },50);
// }

  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);


                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

      // ----------------AUTOMATIC UPDATE COMPANY SECTION DATA In ng-repeat ---------------
      // $scope.companyMenuType = [];
      //
      // var breakfastObj={};
      // breakfastObj.menuType="BREAKFAST";
      // var lunchObj={};
      // lunchObj.menuType="SNACKS";
      // var snacksObj={};
      // snacksObj.menuType="SNACKS";
      // var dinnerObj={};
      // dinnerObj.menuType="DINNER";
      //
      // $scope.companyMenuType.push(breakfastObj);
      // $scope.companyMenuType.push(lunchObj);
      // $scope.companyMenuType.push(snacksObj);
      // $scope.companyMenuType.push(dinnerObj);
      //
      // $scope.companyDayName = [];
      //
      // var mondayObj = {};
      // mondayObj.dayName = "MONDAY";
      //
      // var tuesdayObj = {};
      // tuesdayObj.dayName = "Tuesday";
      //
      // var wednesdayObj = {};
      // wednesdayObj.dayName = "Wednesday";
      //
      // var thursdayObj = {};
      // thursdayObj.dayName = "Thursday";
      //
      // var fridayObj = {};
      // fridayObj.dayName = "Friday";
      //
      // var saturdayObj = {};
      // saturdayObj.dayName = "Saturday";
      //
      // var sundayObj = {};
      // sundayObj.dayName = "Sunday";
      //
      // $scope.companyDayName.push(mondayObj);
      // $scope.companyDayName.push(tuesdayObj);
      // $scope.companyDayName.push(wednesdayObj);
      // $scope.companyDayName.push(thursdayObj);
      // $scope.companyDayName.push(fridayObj);
      // $scope.companyDayName.push(saturdayObj);
      // $scope.companyDayName.push(sundayObj);
      //
      // var getCompanySecUrl=getCompanySectionReqUrl+$routeParams.compId;
      // console.log("in third loop",getCompanySecUrl);
      // $http.get(getCompanySecUrl).then(function(response)
      // {
      //   console.log("response in update check ", JSON.stringify(response));
      //
      //   for(var i = 0; i <$scope.companyMenuType.length; i++){
      //     console.log("in Menu loop");
      //     for(var j = 0; j <$scope.companyDayName.length; j++){
      //       console.log("in second loop");
      //       for(var k = 0; k <response.data.data.menus.length; k++){
      //         console.log("menuType===response-menuType, dayName===response-dayName : ",$scope.companyMenuType[i].menuType,response.data.data.menus[k].menuType,$scope.companyDayName[j].dayName,response.data.data.menus[k].dayName);
      //           if($scope.companyMenuType[i].menuType == response.data.data.menus[k].menuType &&
      //              $scope.companyDayName[j].dayName == response.data.data.menus[k].dayName)
      //           {
      //               // $scope.companyDayName[j] = response.data.data.menus[k];
      //               // $scope.menu = response.data.data.menus[k]
      //               // console.log("companyDayName[j]........... ", $scope.companyDayName[j],$scope.menu);
      //               // // console.log("companyDayName ", JSON.stringify(response.data.data.menus[k]));
      //           }
      //           console.log("out in if condition");
      //         }
      //       }
      //     }
      //   });
// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................
$scope.cashCarryMonday=function(){
  $location.path('/dashboard/company/'+$scope.cId+'/monday');
}
$scope.cashCarryFriday=function(){
$scope.cashAndCarryBool=true;
$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.requirementsBool=false;
}

$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.cashAndCarryBool=false;
              $scope.requirementsBool=false;
              $timeout( function(){
                $scope.cashAndCarryBool=true;
        },1000);

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
$scope.enableBBool=function()
{
  $scope.bBool=true;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableLBool=function()
{
  $scope.bBool=false;
  $scope.lBool=true;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableSBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=true;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableDBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=true;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableStep1= function(){
  $scope.enableStep1Bool=true;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
}
$scope.enableStep2= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=true;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
  $scope.step1Bool=true;
}
$scope.enableStep3= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=true;

  $scope.enableStep4Bool=false;
  $scope.step2Bool=true;
}
$scope.enableStep4= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=true;
  $scope.step3Bool=true;
}

  $scope.enableDeliverySection = function(){
    $scope.cashAndCarryBool=false;
    $scope.addDeliveryBool=true;
    $scope.enableStep1Bool=true;
    $scope.enableStep2Bool=false;
    $scope.enableStep3Bool=false;
    $scope.enableStep4Bool=false;

    $scope.step1Bool=false;
    $scope.step2Bool=false;
    $scope.step3Bool=false;

    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;

    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;

//------TIME SHEDUAL-- for deleivery section----start--------
    // var d = new Date();
    // d.getHours();
    // d.getMinutes();
    // d.getSeconds();
    //
    // var tttime=d.getHours();
    // $cookies.put('tttime',tttime);
    // var time = $cookies.get('tttime');
    // // console.log("Time",time);
    //   if(6<time && 12>time){
    //     // console.log("in breakfast time");
    //     $scope.breakfastBool=true;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(12<=time && 15>time){
    //     // console.log("in lunch time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=true;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(15<=time && 20>time){
    //     // console.log("in snacks time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=true;
    //     $scope.dinnerBool=false;
    //   }else{
    //     console.log("in dinner time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=true;
    //   }
  //------TIME SHEDUAL-- for deleivery section----end--------

initMap();
  }
  $scope.enableCashAndCarry = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=true;
    $scope.requirementsBool=false;
  }
  $scope.enableRequirements = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=true;
    }
  $scope.enableMenuSection = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=true;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;
  }
  $scope.enableBreakfast = function(){
    $scope.breakfastBool=true;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableLunch = function(){
    $scope.breakfastBool=false;
    $scope.lunchBool=true;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableSnacks = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=true;
    $scope.dinnerBool=false;
  }
  $scope.enableDinner = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=true;
  }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });

  // // ------------------------------------------------------------------------
}
}]);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         // console.log("yo we are in service module bro id",menuNodes,rmId);
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.controller('MondayController',['$routeParams','$route','$location','postDeleteMenuUrl','$timeout',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl','$location',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,$timeout,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,$location,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,getmenuFromDbTueUrl) {
//--------------------------button to get current location-------------------
$rootScope.dashboardSingOutBool=true;
$rootScope.footerBool=true;

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');

// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {

// // $locationProvider.html5Mode(true);
// console.log("$scope.q 555",$location.search().breakfast);
// var c = $location.search().breakfast;
//
// console.log("typeof(c)",typeof(c));
// if(c=="true")
// {
//   $scope.boolFunction("bBool");
// }

var companyId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end

// _____________MONDAY_______________( cash and carry START )____________________*****************_____________________________________________
// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };



              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.MONDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.MONDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.MONDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');

              $scope.addsection = function(nodes, index) {
              
                  // console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  // console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }
              }

              $scope.addchild = function(node) {

                if(node.decisionCollapse)
                {
                  $scope.toggleCollapse(node);
                }
                  // console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              // $scope.myfun = function(n) {
              //   console.log("check m 1",n)
              // }

              $scope.saveInDb = function(node, dayName) {
                // console.log("check cheeeckkkkk 1 in ctrl file",node)

                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.toggleCollapse = function(node) {
                console.log("node: ", node);

                  if(node.decisionCollapse)
                  {
                    node.decisionCollapse = false;
                  }
                  else {
                    node.decisionCollapse = true;
                  }
              };


  // $scope.menuNodes = [{
  //
  //     uid: uuid.new(),
  //     menuName: "",
  //     menuNodes: [],
  //     isFoodItem: false
  // }];

// cash and carry section  --> end


$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }
  // else {
  // }
}
// $scope.response = {};
// $scope.response.Menutime = ['Breakfast','Lunch','Snacks','Dinner'];
// $scope.response.weekdays = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
//
// $scope.replaceMenu_breakfast = [];
// $scope.replaceMenu_lunch = [];
// $scope.replaceMenu_snacks = [];
// $scope.replaceMenu_dinner = [];

  // $scope.replaceMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
  // {
  //   // console.log("dinner_item",dinner_item);
  //   if(breakfast_item)
  //   {
  //   for(i=0;i<breakfast_item.length;i++)
  //   {
  //     if(breakfast_item[i].checkbox){
  //       if(breakfast_item[i].checkbox === true){
  //         $scope.replaceMenu_breakfast.push(breakfast_item[i])
  //       }
  //     }
  //    }
  //  }
  //  if(lunch_item)
  //  {
  //   for(j=0;j<lunch_item.length;j++)
  //   {
  //     if(lunch_item[j].checkbox){
  //       if(lunch_item[j].checkbox === true){
  //         $scope.replaceMenu_lunch.push(lunch_item[j])
  //       }
  //     }
  //   }
  // }
  // if(snacks_item)
  // {
  //   for(k=0;k<snacks_item.length;k++)
  //   {
  //     if(snacks_item[k].checkbox){
  //       if(snacks_item[k].checkbox === true){
  //         $scope.replaceMenu_snacks.push(snacks_item[k])
  //       }
  //     }
  //   }
  // }
  // if(dinner_item)
  // {
  //   for(l=0;l<dinner_item.length;l++)
  //   {
  //     if(dinner_item[l].checkbox){
  //       if(dinner_item[l].checkbox === true){
  //         $scope.replaceMenu_dinner.push(dinner_item[l])
  //         // console.log("inside dinner");
  //       }
  //     }
  //   }
  // }
  //   $scope.enableStep2();
  // }

$scope.processComplete=function()
{
  $scope.enableStep4();
}

//  $scope.dispatchMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
//  {
//
//    console.log("check all dispatch menu: ", breakfast_item,lunch_item,snacks_item,dinner_item);
//    $scope.dispatchMenu_breakfast=$scope.replaceMenu_breakfast;
//    $scope.dispatchMenu_lunch=$scope.replaceMenu_lunch;
//    $scope.dispatchMenu_snacks=$scope.replaceMenu_snacks;
//    $scope.dispatchMenu_dinner=$scope.replaceMenu_dinner;
//
//     if($scope.dispatchMenu_breakfast)
//     {
//        console.log("1. final breakfast item",$scope.dispatchMenu_breakfast,$rootScope.date,companyId,vendorId,$scope.type[0]);
//     }
//     if($scope.dispatchMenu_lunch)
//     {
//        console.log("2. final lunch item",$scope.dispatchMenu_lunch,$rootScope.date,companyId,vendorId,$scope.type[1]);
//     }
//     if($scope.dispatchMenu_snacks)
//     {
//        console.log("3. final snacks item",$scope.dispatchMenu_snacks,$rootScope.date,companyId,vendorId,$scope.type[2]);
//     }
//    if($scope.dispatchMenu_dinner)
//    {
//       console.log("4. final dinner item",$scope.dispatchMenu_dinner,$rootScope.date,companyId,vendorId,$scope.type[3]);
//    }
//
//    $scope.enableStep3();
//
// $scope.checkFunction();
//  }
//
//  $scope.checkFunction=function()
//  {
//    if($scope.enableStep3Bool==true)
//    {
//       $scope.resizeMap(map);
//    }
//  }
// $scope.resizeMap=function(map)
// {
//     setTimeout(function()
//                {
// initMap();
//     google.maps.event.trigger(map, "resize");
//   },50);
// }
                      $scope.cId = $routeParams.compId;
  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);


                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

      // ----------------AUTOMATIC UPDATE COMPANY SECTION DATA In ng-repeat ---------------
      // $scope.companyMenuType = [];
      //
      // var breakfastObj={};
      // breakfastObj.menuType="BREAKFAST";
      // var lunchObj={};
      // lunchObj.menuType="SNACKS";
      // var snacksObj={};
      // snacksObj.menuType="SNACKS";
      // var dinnerObj={};
      // dinnerObj.menuType="DINNER";
      //
      // $scope.companyMenuType.push(breakfastObj);
      // $scope.companyMenuType.push(lunchObj);
      // $scope.companyMenuType.push(snacksObj);
      // $scope.companyMenuType.push(dinnerObj);
      //
      // $scope.companyDayName = [];
      //
      // var mondayObj = {};
      // mondayObj.dayName = "MONDAY";
      //
      // var tuesdayObj = {};
      // tuesdayObj.dayName = "Tuesday";
      //
      // var wednesdayObj = {};
      // wednesdayObj.dayName = "Wednesday";
      //
      // var thursdayObj = {};
      // thursdayObj.dayName = "Thursday";
      //
      // var fridayObj = {};
      // fridayObj.dayName = "Friday";
      //
      // var saturdayObj = {};
      // saturdayObj.dayName = "Saturday";
      //
      // var sundayObj = {};
      // sundayObj.dayName = "Sunday";
      //
      // $scope.companyDayName.push(mondayObj);
      // $scope.companyDayName.push(tuesdayObj);
      // $scope.companyDayName.push(wednesdayObj);
      // $scope.companyDayName.push(thursdayObj);
      // $scope.companyDayName.push(fridayObj);
      // $scope.companyDayName.push(saturdayObj);
      // $scope.companyDayName.push(sundayObj);
      //
      // var getCompanySecUrl=getCompanySectionReqUrl+$routeParams.compId;
      // console.log("in third loop",getCompanySecUrl);
      // $http.get(getCompanySecUrl).then(function(response)
      // {
      //   console.log("response in update check ", JSON.stringify(response));
      //
      //   for(var i = 0; i <$scope.companyMenuType.length; i++){
      //     console.log("in Menu loop");
      //     for(var j = 0; j <$scope.companyDayName.length; j++){
      //       console.log("in second loop");
      //       for(var k = 0; k <response.data.data.menus.length; k++){
      //         console.log("menuType===response-menuType, dayName===response-dayName : ",$scope.companyMenuType[i].menuType,response.data.data.menus[k].menuType,$scope.companyDayName[j].dayName,response.data.data.menus[k].dayName);
      //           if($scope.companyMenuType[i].menuType == response.data.data.menus[k].menuType &&
      //              $scope.companyDayName[j].dayName == response.data.data.menus[k].dayName)
      //           {
      //               // $scope.companyDayName[j] = response.data.data.menus[k];
      //               // $scope.menu = response.data.data.menus[k]
      //               // console.log("companyDayName[j]........... ", $scope.companyDayName[j],$scope.menu);
      //               // // console.log("companyDayName ", JSON.stringify(response.data.data.menus[k]));
      //           }
      //           console.log("out in if condition");
      //         }
      //       }
      //     }
      //   });
// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................
$scope.cashCarryMonday=function(){
  $scope.cashAndCarryBool=true;
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=false;

                $scope.addDeliveryBool=false;
                $scope.addMenuBool=false;
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
                $scope.enableStep1Bool=false;
                $scope.enableStep2Bool=false;
                $scope.enableStep3Bool=false;
                $scope.enableStep4Bool=false;
                $rootScope.barBool = false;
                $scope.requirementsBool=false;
}
$scope.cashCarryTuesday=function(){
  $location.path('/dashboard/company/'+$scope.cId+'/tuesday');
}

$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.cashAndCarryBool=false;
              $scope.requirementsBool=false;
              $timeout( function(){
                $scope.cashAndCarryBool=true;
        },1000);

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
$scope.enableBBool=function()
{
  // $location.path('/dashboard/company/1?breakfast=true');
  // $location.path('/admin');

  // $scope.bBool=true;
  // $scope.lBool=false;
  // $scope.sBool=false;
  // $scope.dBool=false;
  //
  // $scope.cashAndCarryBool=false;
  // $scope.addDeliveryBool=false;
  // $scope.enableStep1Bool=false;
  // $scope.enableStep2Bool=false;
  // $scope.enableStep3Bool=false;
  // $scope.enableStep4Bool=false;
  //
  // $scope.step1Bool=false;
  // $scope.step2Bool=false;
  // $scope.step3Bool=false;
  //
  // $scope.addMenuBool=false;
  // $scope.breakfastBool=false;
  // $scope.lunchBool=false;
  // $scope.snacksBool=false;
  // $scope.dinnerBool=false;
  //
  // $scope.cashAndCarryBool=false;
  // $scope.requirementsBool=false;
}
$scope.enableLBool=function()
{
  $scope.bBool=false;
  $scope.lBool=true;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableSBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=true;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableDBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=true;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableStep1= function(){
  $scope.enableStep1Bool=true;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
}
$scope.enableStep2= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=true;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
  $scope.step1Bool=true;
}
$scope.enableStep3= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=true;

  $scope.enableStep4Bool=false;
  $scope.step2Bool=true;
}
$scope.enableStep4= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=true;
  $scope.step3Bool=true;
}

  $scope.enableDeliverySection = function(){
    $scope.cashAndCarryBool=false;
    $scope.addDeliveryBool=true;
    $scope.enableStep1Bool=true;
    $scope.enableStep2Bool=false;
    $scope.enableStep3Bool=false;
    $scope.enableStep4Bool=false;

    $scope.step1Bool=false;
    $scope.step2Bool=false;
    $scope.step3Bool=false;

    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;

    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;

//------TIME SHEDUAL-- for deleivery section----start--------
    // var d = new Date();
    // d.getHours();
    // d.getMinutes();
    // d.getSeconds();
    //
    // var tttime=d.getHours();
    // $cookies.put('tttime',tttime);
    // var time = $cookies.get('tttime');
    // // console.log("Time",time);
    //   if(6<time && 12>time){
    //     // console.log("in breakfast time");
    //     $scope.breakfastBool=true;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(12<=time && 15>time){
    //     // console.log("in lunch time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=true;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(15<=time && 20>time){
    //     // console.log("in snacks time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=true;
    //     $scope.dinnerBool=false;
    //   }else{
    //     console.log("in dinner time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=true;
    //   }
  //------TIME SHEDUAL-- for deleivery section----end--------

initMap();
  }
  $scope.enableCashAndCarry = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=true;
    $scope.requirementsBool=false;
  }
  $scope.enableRequirements = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=true;
    }
  $scope.enableMenuSection = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=true;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;
  }
  $scope.enableBreakfast = function(){
    $scope.breakfastBool=true;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableLunch = function(){
    $scope.breakfastBool=false;
    $scope.lunchBool=true;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableSnacks = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=true;
    $scope.dinnerBool=false;
  }
  $scope.enableDinner = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=true;
  }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });
  // // ------------------------------------------------------------------------
  // $scope.load = function() {
  //   $scope.cashAndCarryBool=false;
  //       $scope.requirementsBool=true;
  //       alert("insdie load");
  //       setTimeout($scope.loadStart(),20000000);
  // }
  // $scope.loadStart = function() {
  //   $scope.cashAndCarryBool=true;
  //   alert("insdie loadStart");
  //   $scope.requirementsBool=false;
  // }

  // $scope.load='Previous';
    //     $timeout(function () {
    //         alert("hiii");
    // }, 2000);

  }  //else end
}]);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         // console.log("yo we are in service module bro id",menuNodes,rmId);
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
  return {
    saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
    {
      // console.log("in sarvice file : ", companyId);
      var rest = JSON.parse(JSON.stringify(list));
      // console.log("rest : ", rest);
      var jsonObj = {};
      jsonObj.companyId = parseInt(companyId);
      jsonObj.menu = rest;
      jsonObj.menuType = menuType;
      jsonObj.dayName = dayName;
// console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// $route.reload();
// console.log('response', JSON.stringify(response));

        // console.log("menu json made : ", jsonObj);
        $http({
          method: 'POST',
          url: postSaveMenuUrl,
          headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
          },
          data: $httpParamSerializerJQLike(jsonObj)
      }).then(function(response) {

          // console.log('response', JSON.stringify(response));
          if (response.data.status == 1) {
            $rootScope.buttonBool=true;
              // Notification.success('Successfully Ragistered Menu');
              // $route.reload();
          } else {
            $rootScope.buttonBool=false;
              Notification.error('Error');
              $route.reload();
          }
      })
    },
// cash and carry menu start
    submitMenu: function(menuNodes, rmId) {
        // console.log("yo we are in service module bro id",menuNodes,rmId);
        // console.log("menu node passed here", menuNodes);
        var menu = {};
        menu.menu = menuNodes;
        menu.restaurantId = rmId;

        // console.log("made json : - ", JSON.stringify(menu));
        $http({
            method: 'POST',
            url: addmenuUrl,
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            data: $httpParamSerializerJQLike(menu)
        }).then(function(response) {
            //console.log('response', response);
            if (response.data.status == 1) {
                //console.log('Successfully added menu in db');
            } else {
                //console.log('error adding menu');
            }
        });
      },
// cash and carry menu end
        deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
        {
          var count = Object.keys(list).length;
          // console.log("count....",count);
          // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);

          var jsonObj = {};
          jsonObj.companyMenuId = parseInt(companyMenuId);

              $http({
                method: 'POST',
                url: postDeleteMenuUrl,
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                data: $httpParamSerializerJQLike(jsonObj)
            })
            .then(function(response) {

                // console.log('response', JSON.stringify(response));
                if (response.data.status == 1) {
                    // console.log('Successfully menu deleted ');
                    Notification.success('Successfully Menu Deleted');
                    // $scope.saveBool=true;
                    // $scope.updateBool=false;
                    $rootScope.buttonBool=false;

                } else {
                    // console.log('error registering');
                    $rootScope.buttonBool=true;
                    Notification.error('Error Could not delete');
                    // $route.reload();
                }
            })
        },

        updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
        {
          // console.log("list=========",list);
          var count = Object.keys(list).length;
          // console.log("count....",count);

        if(count==2)
        {
          // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
          var jsonObj = {};
          jsonObj.companyMenuId = parseInt(companyMenuId);

              $http({
                method: 'POST',
                url: postDeleteMenuUrl,
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                data: $httpParamSerializerJQLike(jsonObj)
            })
            .then(function(response) {

                // console.log('response', JSON.stringify(response));
                if (response.data.status == 1) {
                    // console.log('Successfully menu deleted ');
                    Notification.success('Successfully Menu Deleted');
                    // $scope.saveBool=true;
                    // $scope.updateBool=false;
                    $rootScope.buttonBool=false;

                } else {
                    // console.log('error registering');
                    $rootScope.buttonBool=true;
                    Notification.error('Error Could not delete');
                    // $route.reload();
                }
            })
        }else{
          // console.log("length > 0");
          // console.log("list-< : ", len);
          var rest = JSON.parse(JSON.stringify(list));
          // console.log("rest : ", rest);

          var jsonObj = {};
          jsonObj.companyId = parseInt(companyId);
          jsonObj.menu = rest;
          jsonObj.menuType = menuType;
          jsonObj.dayName = dayName;
          jsonObj.companyMenuId = companyMenuId;
        // console.log("menu checkkkkk : ", jsonObj);

            $http({
              method: 'POST',
              url: postUpdateSaveMenuUrl,
              headers: {
                  'Content-Type': 'application/x-www-form-urlencoded',
              },
              data: $httpParamSerializerJQLike(jsonObj)
          })
          .then(function(response) {

              // console.log('response', JSON.stringify(response));
              if (response.data.status == 1) {
                  // console.log('Successfully registered ');
                  $rootScope.buttonBool=true;
                  Notification.success('Successfully Menu Updated');
                  // $route.reload();
              } else {
                  // console.log('error registering');
                  $rootScope.buttonBool=false;
                  Notification.error('Error Could not updated');
                  // $route.reload();
              }
          })
            }
          }
            // update menu end

            // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
            // {
            //   var rest = JSON.parse(JSON.stringify(list));
            //   console.log("rest : ", rest);
            //   var jsonObj = {};
            //   jsonObj.companyId = parseInt(companyId);
            //   jsonObj.menu = rest;
            //   jsonObj.menuType = menuType;
            //   jsonObj.dayName = dayName;
            //   jsonObj.companyMenuId = companyMenuId;
            // console.log("menu checkkkkk : ", jsonObj);
            //
            //     console.log("menu json made : ", jsonObj);
            //     $http({
            //       method: 'POST',
            //       url: postUpdateSaveMenuUrl,
            //       headers: {
            //           'Content-Type': 'application/x-www-form-urlencoded',
            //       },
            //       data: $httpParamSerializerJQLike(jsonObj)
            //   })
            //   .then(function(response) {
            //
            //       console.log('response', JSON.stringify(response));
            //       if (response.data.status == 1) {
            //           console.log('Successfully delete ');
            //           Notification.success('Successfully Menu Updated');
            //       } else {
            //           console.log('error registering');
            //           Notification.error('Error Could not updated');
            //           $route.reload();
            //       }
            //   })
                // }
                // delete menu end


      }
    }
]);

// cash and carry factory method's start
vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
    function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
        return {
            submitMenu: function(node, rId, cId, dayName) {
                console.log("1. yo we are in service module bro #000-MONDAY");
                // console.log("2. menu node passed here", node, rId, cId, dayName);
                var menu = {};
                var deferred = $q.defer();
                var respMenuJson = deferred.promise;
                // menu.menu = {
                //     uid: node.uid,
                //     menuName: node.menuName,
                //     isFoodItem: node.isFoodItem,
                //     // isEgg: node.isEgg,
                //     // isVeg: node.isVeg,
                //     // isNonVeg: node.isNonVeg,
                //     menuType: node.menuType,
                //     price: node.price,
                //     description: node.description,
                //     parentNodeId: node.parentNodeId
                // };

                menu.vendorId = parseInt(rId);
                menu.companyId = parseInt(cId);
                menu.dayName = dayName;
                menu.menuName = node.menuName;
                menu.uid = node.uid;
                menu.isFoodItem = node.isFoodItem;
                menu.menuType = node.menuType;
                menu.price = node.price;
                menu.description = node.description;
                menu.parentNodeId = node.parentNodeId;

                // console.log("menu.parentNodeId 000 ", menu.parentNodeId);
                $http({
                    method: 'POST',
                    url: addmenuUrl,
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    data: $httpParamSerializerJQLike(menu)
                }).then(function(response) {
                    console.log('response-------00>', response);
                    if (response.data.status == 1) {
                        // console.log('Successfully added menu in db',response.data.data.menuNode);
                        deferred.resolve(response.data.data.menuNode);
                        Notification.success({
                            message: 'Successfully saved menu entry',
                            delay: 1000
                        });
                    } else {
                        console.log('error adding menu 222');
                        deferred.reject(null);
                        Notification.error('Error in saving menu item');
                    }
                  // Notification.error('Error in saving menu item');
                })
                .catch(function(response) {
                                  Notification.error('Please save the uper side menu');
                                  // alert("hiiiiii");
                                  // console.error('Gists error', response.data.status, response.data);
                                });
                return respMenuJson;
            }
        }
    }
]);

vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
    function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
        return {
            updateMenu: function(node, rId) {
                // console.log("menu node passed here 123", node);
                var menuForUpdate = {};
                var deferred = $q.defer();
                var respMenuJson = deferred.promise;
                menuForUpdate = {
                    uid: node.uid,
                    menuName: node.menuName,
                    isFoodItem: node.isFoodItem,
                    isEgg: node.isEgg,
                    isVeg: node.isVeg,
                    isAlcohol: node.isAlcohol,
                    menuType : node.menuType,
                    price: node.price,
                    description: node.description,
                    parentNodeId: node.parentNodeId
                };
                menuForUpdate.restaurantId = rId;

                // menu.vendorId = parseInt(rId);
                // menu.companyId = parseInt(cId);
                // menu.dayName = dayName;
                // menu.menuType = node.menuType;


                //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
                // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));

                $http({
                    method: 'POST',
                    url: updateMenuUrl,
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    data: $httpParamSerializerJQLike(menuForUpdate)
                }).then(function(response) {
                    // console.log('response', response);
                    if (response.data.status == 1) {
                        // console.log('response.data.menuNode',response.data.data.menuNode);
                        deferred.resolve(response.data.data.menuNode);
                        Notification.success({
                            message: 'Successfully updated menu entry',
                            delay: 1000
                        });
                    } else {
                        //console.log('error updating menu');
                        deferred.reject(null);
                        Notification.error('Error in updating menu item');
                    }
                });
                return respMenuJson;
            },
            deleteNode: function(node, rId, vId, day) {
                console.log("menu node passed here 00000", node,rId,vId,day);
                var menuForDelete = {};
                var deferred = $q.defer();
                var respMenuJson = deferred.promise;
                // menuForDelete.menu = {
                //     uid: node.uid,
                //     id:node.id
                // };
                menuForDelete.vendorId = rId;
                menuForDelete.companyId = vId;
                menuForDelete.uid = node.uid;
                menuForDelete.dayName = day;

                console.log("made for delete json : - ", JSON.stringify(menuForDelete));
                $http({
                    method: 'POST',
                    url: deleteMenuUrl,
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    data: $httpParamSerializerJQLike(menuForDelete)
                }).then(function(response) {
                    // console.log('my ss response.status', response.status);
                    // console.log('response', response);
                    // // console.log('data.data.status', data.data.status);
                    // console.log('response.data.data.status',response.data.data);
                    // console.log('response.data.status', response.data.status);
                    // console.log('response.data.message', response.data.message);
                    if (response.status == 200) {
                        console.log('delete node response.data.menuNode',response.data.menuNode);
                        deferred.resolve(response.data.menuNode);
                        Notification.success({
                            message: 'Successfully Deleted menu entry',
                            delay: 1000
                        });
                    } else {
                        //console.log('error Deleted menu');
                        deferred.reject(null);
                        Notification.error('Error in Deleting menu item');
                    }
                });
                return respMenuJson;
            }
        }
    }
]);

vmApp.controller('SaturdayController',['$routeParams','$route','$location','postDeleteMenuUrl','$timeout',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl','$location',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,$timeout,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,$location,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,getmenuFromDbTueUrl) {
//--------------------------button to get current location-------------------
$rootScope.dashboardSingOutBool=true;
$rootScope.footerBool=true;

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');

// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //      
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {
$scope.cId = $routeParams.compId;
var companyId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end


// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };



              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.SATURDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.SATURDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');




              $scope.addsection = function(nodes, index) {

                  console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }

              }

              $scope.addchild = function(node) {
                if(node.decisionCollapse)
                {
                  $scope.toggleCollapse(node);
                }
                  // console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // ----------
              $scope.toggleCollapse = function(node) {
                console.log("node: ", node);

                  if(node.decisionCollapse)
                  {
                    node.decisionCollapse = false;
                  }
                  else {
                    node.decisionCollapse = true;
                  }
              };
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              // $scope.myfun = function(n) {
              //   console.log("check m 1",n)
              // }

              $scope.saveInDb = function(node, dayName) {

                // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.expandNode = function(n, $event) {
                  // console.log("well inside expandNode",n,$event);
                  $event.stopPropagation();
                  n.toggle();
              };

// $scope.callMe = function(x){
//   console.log("new c 5555",x);
//   if(x=="Monday"){
//     console.log("$scope.myNode 5555",$scope.myNode.MONDAY);
//
//     if(!_.isEmpty($scope.myNode.MONDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.MONDAY);
//       console.log("menu node after update ", $scope.menuNodes);
//     }else{
//       $scope.menuNodes = [{
//
//         uid: uuid.new(),
//         menuName: "Monday Menu",
//         menuNodes: [],
//         isFoodItem: false
//       }];
//     }
//   }
//   if(x=="Tuesday"){
//     console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));
//
//       if(!_.isEmpty($scope.myNode.TUESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
//     }
//   }
//   if(x=="Wednesday"){
//     console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);
//
//     if(!_.isEmpty($scope.myNode.WEDNESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
//     }
//   }
//   if(x=="Thursday"){
//     console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);
//
//     if(!_.isEmpty($scope.myNode.THURSDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
//     }
//   }
//   if(x=="Friday"){
//     console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);
//
//     if(!_.isEmpty($scope.myNode.FRIDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
//     }
//   }
//   if(x=="Saturday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);
//
//     if(!_.isEmpty($scope.myNode.SATURDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
//     }
//   }
//   if(x=="Sunday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);
//
//     if(!_.isEmpty($scope.myNode.SUNDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
//     }
//   }
//   $scope.menuNodes = [{
//
//       uid: uuid.new(),
//       menuName: "",
//       menuNodes: [],
//       isFoodItem: false
//   }];
//   // var getMenuMonUrl = getmenuFromDbTueUrl+"dayName="+x+"&companyId="+companyId+"&vendorId="+vendorId;
//   // console.log("getMenuMonUrl 2000000",getMenuMonUrl);
//   //
//   // $http.get(getMenuMonUrl).then(function(response) {
//   //   console.log("response in API 00000001",response.data.data);
//   //     if(response.data.data === undefined) {
//   //       $scope.menuNodes = [{
//   //           uid: uuid.new(),
//   //           menuName: "Menu",
//   //           menuNodes: [],
//   //           isFoodItem: false
//   //       }];
//   //     }
//   //     if(!_.isEmpty(response.data.data))
//   //     {
//   //       $scope.menuNodes = unflatten(response.data.data.menus);
//   //     }
//   // });
// }
// cash and carry section  --> end


$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }
  // else {
  // }
}
// $scope.response = {};
// $scope.response.Menutime = ['Breakfast','Lunch','Snacks','Dinner'];
// $scope.response.weekdays = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
//
// $scope.replaceMenu_breakfast = [];
// $scope.replaceMenu_lunch = [];
// $scope.replaceMenu_snacks = [];
// $scope.replaceMenu_dinner = [];

  // $scope.replaceMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
  // {
  //   // console.log("dinner_item",dinner_item);
  //   if(breakfast_item)
  //   {
  //   for(i=0;i<breakfast_item.length;i++)
  //   {
  //     if(breakfast_item[i].checkbox){
  //       if(breakfast_item[i].checkbox === true){
  //         $scope.replaceMenu_breakfast.push(breakfast_item[i])
  //       }
  //     }
  //    }
  //  }
  //  if(lunch_item)
  //  {
  //   for(j=0;j<lunch_item.length;j++)
  //   {
  //     if(lunch_item[j].checkbox){
  //       if(lunch_item[j].checkbox === true){
  //         $scope.replaceMenu_lunch.push(lunch_item[j])
  //       }
  //     }
  //   }
  // }
  // if(snacks_item)
  // {
  //   for(k=0;k<snacks_item.length;k++)
  //   {
  //     if(snacks_item[k].checkbox){
  //       if(snacks_item[k].checkbox === true){
  //         $scope.replaceMenu_snacks.push(snacks_item[k])
  //       }
  //     }
  //   }
  // }
  // if(dinner_item)
  // {
  //   for(l=0;l<dinner_item.length;l++)
  //   {
  //     if(dinner_item[l].checkbox){
  //       if(dinner_item[l].checkbox === true){
  //         $scope.replaceMenu_dinner.push(dinner_item[l])
  //         // console.log("inside dinner");
  //       }
  //     }
  //   }
  // }
  //   $scope.enableStep2();
  // }

$scope.processComplete=function()
{
  $scope.enableStep4();
}

//  $scope.dispatchMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
//  {
//
//    console.log("check all dispatch menu: ", breakfast_item,lunch_item,snacks_item,dinner_item);
//    $scope.dispatchMenu_breakfast=$scope.replaceMenu_breakfast;
//    $scope.dispatchMenu_lunch=$scope.replaceMenu_lunch;
//    $scope.dispatchMenu_snacks=$scope.replaceMenu_snacks;
//    $scope.dispatchMenu_dinner=$scope.replaceMenu_dinner;
//
//     if($scope.dispatchMenu_breakfast)
//     {
//        console.log("1. final breakfast item",$scope.dispatchMenu_breakfast,$rootScope.date,companyId,vendorId,$scope.type[0]);
//     }
//     if($scope.dispatchMenu_lunch)
//     {
//        console.log("2. final lunch item",$scope.dispatchMenu_lunch,$rootScope.date,companyId,vendorId,$scope.type[1]);
//     }
//     if($scope.dispatchMenu_snacks)
//     {
//        console.log("3. final snacks item",$scope.dispatchMenu_snacks,$rootScope.date,companyId,vendorId,$scope.type[2]);
//     }
//    if($scope.dispatchMenu_dinner)
//    {
//       console.log("4. final dinner item",$scope.dispatchMenu_dinner,$rootScope.date,companyId,vendorId,$scope.type[3]);
//    }
//
//    $scope.enableStep3();
//
// $scope.checkFunction();
//  }
//
//  $scope.checkFunction=function()
//  {
//    if($scope.enableStep3Bool==true)
//    {
//       $scope.resizeMap(map);
//    }
//  }
// $scope.resizeMap=function(map)
// {
//     setTimeout(function()
//                {
// initMap();
//     google.maps.event.trigger(map, "resize");
//   },50);
// }

  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);


                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

      // ----------------AUTOMATIC UPDATE COMPANY SECTION DATA In ng-repeat ---------------
      // $scope.companyMenuType = [];
      //
      // var breakfastObj={};
      // breakfastObj.menuType="BREAKFAST";
      // var lunchObj={};
      // lunchObj.menuType="SNACKS";
      // var snacksObj={};
      // snacksObj.menuType="SNACKS";
      // var dinnerObj={};
      // dinnerObj.menuType="DINNER";
      //
      // $scope.companyMenuType.push(breakfastObj);
      // $scope.companyMenuType.push(lunchObj);
      // $scope.companyMenuType.push(snacksObj);
      // $scope.companyMenuType.push(dinnerObj);
      //
      // $scope.companyDayName = [];
      //
      // var mondayObj = {};
      // mondayObj.dayName = "MONDAY";
      //
      // var tuesdayObj = {};
      // tuesdayObj.dayName = "Tuesday";
      //
      // var wednesdayObj = {};
      // wednesdayObj.dayName = "Wednesday";
      //
      // var thursdayObj = {};
      // thursdayObj.dayName = "Thursday";
      //
      // var fridayObj = {};
      // fridayObj.dayName = "Friday";
      //
      // var saturdayObj = {};
      // saturdayObj.dayName = "Saturday";
      //
      // var sundayObj = {};
      // sundayObj.dayName = "Sunday";
      //
      // $scope.companyDayName.push(mondayObj);
      // $scope.companyDayName.push(tuesdayObj);
      // $scope.companyDayName.push(wednesdayObj);
      // $scope.companyDayName.push(thursdayObj);
      // $scope.companyDayName.push(fridayObj);
      // $scope.companyDayName.push(saturdayObj);
      // $scope.companyDayName.push(sundayObj);
      //
      // var getCompanySecUrl=getCompanySectionReqUrl+$routeParams.compId;
      // console.log("in third loop",getCompanySecUrl);
      // $http.get(getCompanySecUrl).then(function(response)
      // {
      //   console.log("response in update check ", JSON.stringify(response));
      //
      //   for(var i = 0; i <$scope.companyMenuType.length; i++){
      //     console.log("in Menu loop");
      //     for(var j = 0; j <$scope.companyDayName.length; j++){
      //       console.log("in second loop");
      //       for(var k = 0; k <response.data.data.menus.length; k++){
      //         console.log("menuType===response-menuType, dayName===response-dayName : ",$scope.companyMenuType[i].menuType,response.data.data.menus[k].menuType,$scope.companyDayName[j].dayName,response.data.data.menus[k].dayName);
      //           if($scope.companyMenuType[i].menuType == response.data.data.menus[k].menuType &&
      //              $scope.companyDayName[j].dayName == response.data.data.menus[k].dayName)
      //           {
      //               // $scope.companyDayName[j] = response.data.data.menus[k];
      //               // $scope.menu = response.data.data.menus[k]
      //               // console.log("companyDayName[j]........... ", $scope.companyDayName[j],$scope.menu);
      //               // // console.log("companyDayName ", JSON.stringify(response.data.data.menus[k]));
      //           }
      //           console.log("out in if condition");
      //         }
      //       }
      //     }
      //   });
// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................
$scope.cashCarryMonday=function(){
  $location.path('/dashboard/company/'+$scope.cId+'/monday');
}
$scope.cashCarrySaturday=function(){
$scope.cashAndCarryBool=true;
$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.requirementsBool=false;
}

$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.cashAndCarryBool=false;
              $scope.requirementsBool=false;
              $timeout( function(){
                $scope.cashAndCarryBool=true;
        },1000);

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
$scope.enableBBool=function()
{
  $scope.bBool=true;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableLBool=function()
{
  $scope.bBool=false;
  $scope.lBool=true;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableSBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=true;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableDBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=true;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableStep1= function(){
  $scope.enableStep1Bool=true;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
}
$scope.enableStep2= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=true;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
  $scope.step1Bool=true;
}
$scope.enableStep3= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=true;

  $scope.enableStep4Bool=false;
  $scope.step2Bool=true;
}
$scope.enableStep4= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=true;
  $scope.step3Bool=true;
}

  $scope.enableDeliverySection = function(){
    $scope.cashAndCarryBool=false;
    $scope.addDeliveryBool=true;
    $scope.enableStep1Bool=true;
    $scope.enableStep2Bool=false;
    $scope.enableStep3Bool=false;
    $scope.enableStep4Bool=false;

    $scope.step1Bool=false;
    $scope.step2Bool=false;
    $scope.step3Bool=false;

    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;

    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;

//------TIME SHEDUAL-- for deleivery section----start--------
    // var d = new Date();
    // d.getHours();
    // d.getMinutes();
    // d.getSeconds();
    //
    // var tttime=d.getHours();
    // $cookies.put('tttime',tttime);
    // var time = $cookies.get('tttime');
    // // console.log("Time",time);
    //   if(6<time && 12>time){
    //     // console.log("in breakfast time");
    //     $scope.breakfastBool=true;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(12<=time && 15>time){
    //     // console.log("in lunch time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=true;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(15<=time && 20>time){
    //     // console.log("in snacks time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=true;
    //     $scope.dinnerBool=false;
    //   }else{
    //     console.log("in dinner time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=true;
    //   }
  //------TIME SHEDUAL-- for deleivery section----end--------

initMap();
  }
  $scope.enableCashAndCarry = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=true;
    $scope.requirementsBool=false;
  }
  $scope.enableRequirements = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=true;
    }
  $scope.enableMenuSection = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=true;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;
  }
  $scope.enableBreakfast = function(){
    $scope.breakfastBool=true;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableLunch = function(){
    $scope.breakfastBool=false;
    $scope.lunchBool=true;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableSnacks = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=true;
    $scope.dinnerBool=false;
  }
  $scope.enableDinner = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=true;
  }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });

  // // ------------------------------------------------------------------------
}
}]);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         // console.log("yo we are in service module bro id",menuNodes,rmId);
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.controller('SundayController',['$routeParams','$route','$location','postDeleteMenuUrl','$timeout',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl','$location',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,$timeout,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,$location,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,getmenuFromDbTueUrl) {
//--------------------------button to get current location-------------------
$rootScope.dashboardSingOutBool=true;
$rootScope.footerBool=true;

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');

// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {
$scope.cId = $routeParams.compId;
var companyId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end


// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };



              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.SUNDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.SUNDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');




              $scope.addsection = function(nodes, index) {
              
                  console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }

              }

              $scope.addchild = function(node) {
                if(node.decisionCollapse)
                {
                  $scope.toggleCollapse(node);
                }
                  // console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // ----------
              $scope.toggleCollapse = function(node) {
                console.log("node: ", node);

                  if(node.decisionCollapse)
                  {
                    node.decisionCollapse = false;
                  }
                  else {
                    node.decisionCollapse = true;
                  }
              };
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              // $scope.myfun = function(n) {
              //   console.log("check m 1",n)
              // }

              $scope.saveInDb = function(node, dayName) {

                // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.expandNode = function(n, $event) {
                  // console.log("well inside expandNode",n,$event);
                  $event.stopPropagation();
                  n.toggle();
              };

// $scope.callMe = function(x){
//   console.log("new c 5555",x);
//   if(x=="Monday"){
//     console.log("$scope.myNode 5555",$scope.myNode.MONDAY);
//
//     if(!_.isEmpty($scope.myNode.MONDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.MONDAY);
//       console.log("menu node after update ", $scope.menuNodes);
//     }else{
//       $scope.menuNodes = [{
//
//         uid: uuid.new(),
//         menuName: "Monday Menu",
//         menuNodes: [],
//         isFoodItem: false
//       }];
//     }
//   }
//   if(x=="Tuesday"){
//     console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));
//
//       if(!_.isEmpty($scope.myNode.TUESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
//     }
//   }
//   if(x=="Wednesday"){
//     console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);
//
//     if(!_.isEmpty($scope.myNode.WEDNESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
//     }
//   }
//   if(x=="Thursday"){
//     console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);
//
//     if(!_.isEmpty($scope.myNode.THURSDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
//     }
//   }
//   if(x=="Friday"){
//     console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);
//
//     if(!_.isEmpty($scope.myNode.FRIDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
//     }
//   }
//   if(x=="Saturday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);
//
//     if(!_.isEmpty($scope.myNode.SATURDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
//     }
//   }
//   if(x=="Sunday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);
//
//     if(!_.isEmpty($scope.myNode.SUNDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
//     }
//   }
//   $scope.menuNodes = [{
//
//       uid: uuid.new(),
//       menuName: "",
//       menuNodes: [],
//       isFoodItem: false
//   }];
//   // var getMenuMonUrl = getmenuFromDbTueUrl+"dayName="+x+"&companyId="+companyId+"&vendorId="+vendorId;
//   // console.log("getMenuMonUrl 2000000",getMenuMonUrl);
//   //
//   // $http.get(getMenuMonUrl).then(function(response) {
//   //   console.log("response in API 00000001",response.data.data);
//   //     if(response.data.data === undefined) {
//   //       $scope.menuNodes = [{
//   //           uid: uuid.new(),
//   //           menuName: "Menu",
//   //           menuNodes: [],
//   //           isFoodItem: false
//   //       }];
//   //     }
//   //     if(!_.isEmpty(response.data.data))
//   //     {
//   //       $scope.menuNodes = unflatten(response.data.data.menus);
//   //     }
//   // });
// }
// cash and carry section  --> end


$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }
  // else {
  // }
}
// $scope.response = {};
// $scope.response.Menutime = ['Breakfast','Lunch','Snacks','Dinner'];
// $scope.response.weekdays = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
//
// $scope.replaceMenu_breakfast = [];
// $scope.replaceMenu_lunch = [];
// $scope.replaceMenu_snacks = [];
// $scope.replaceMenu_dinner = [];

  // $scope.replaceMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
  // {
  //   // console.log("dinner_item",dinner_item);
  //   if(breakfast_item)
  //   {
  //   for(i=0;i<breakfast_item.length;i++)
  //   {
  //     if(breakfast_item[i].checkbox){
  //       if(breakfast_item[i].checkbox === true){
  //         $scope.replaceMenu_breakfast.push(breakfast_item[i])
  //       }
  //     }
  //    }
  //  }
  //  if(lunch_item)
  //  {
  //   for(j=0;j<lunch_item.length;j++)
  //   {
  //     if(lunch_item[j].checkbox){
  //       if(lunch_item[j].checkbox === true){
  //         $scope.replaceMenu_lunch.push(lunch_item[j])
  //       }
  //     }
  //   }
  // }
  // if(snacks_item)
  // {
  //   for(k=0;k<snacks_item.length;k++)
  //   {
  //     if(snacks_item[k].checkbox){
  //       if(snacks_item[k].checkbox === true){
  //         $scope.replaceMenu_snacks.push(snacks_item[k])
  //       }
  //     }
  //   }
  // }
  // if(dinner_item)
  // {
  //   for(l=0;l<dinner_item.length;l++)
  //   {
  //     if(dinner_item[l].checkbox){
  //       if(dinner_item[l].checkbox === true){
  //         $scope.replaceMenu_dinner.push(dinner_item[l])
  //         // console.log("inside dinner");
  //       }
  //     }
  //   }
  // }
  //   $scope.enableStep2();
  // }

$scope.processComplete=function()
{
  $scope.enableStep4();
}

//  $scope.dispatchMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
//  {
//
//    console.log("check all dispatch menu: ", breakfast_item,lunch_item,snacks_item,dinner_item);
//    $scope.dispatchMenu_breakfast=$scope.replaceMenu_breakfast;
//    $scope.dispatchMenu_lunch=$scope.replaceMenu_lunch;
//    $scope.dispatchMenu_snacks=$scope.replaceMenu_snacks;
//    $scope.dispatchMenu_dinner=$scope.replaceMenu_dinner;
//
//     if($scope.dispatchMenu_breakfast)
//     {
//        console.log("1. final breakfast item",$scope.dispatchMenu_breakfast,$rootScope.date,companyId,vendorId,$scope.type[0]);
//     }
//     if($scope.dispatchMenu_lunch)
//     {
//        console.log("2. final lunch item",$scope.dispatchMenu_lunch,$rootScope.date,companyId,vendorId,$scope.type[1]);
//     }
//     if($scope.dispatchMenu_snacks)
//     {
//        console.log("3. final snacks item",$scope.dispatchMenu_snacks,$rootScope.date,companyId,vendorId,$scope.type[2]);
//     }
//    if($scope.dispatchMenu_dinner)
//    {
//       console.log("4. final dinner item",$scope.dispatchMenu_dinner,$rootScope.date,companyId,vendorId,$scope.type[3]);
//    }
//
//    $scope.enableStep3();
//
// $scope.checkFunction();
//  }
//
//  $scope.checkFunction=function()
//  {
//    if($scope.enableStep3Bool==true)
//    {
//       $scope.resizeMap(map);
//    }
//  }
// $scope.resizeMap=function(map)
// {
//     setTimeout(function()
//                {
// initMap();
//     google.maps.event.trigger(map, "resize");
//   },50);
// }

  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);


                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

      // ----------------AUTOMATIC UPDATE COMPANY SECTION DATA In ng-repeat ---------------
      // $scope.companyMenuType = [];
      //
      // var breakfastObj={};
      // breakfastObj.menuType="BREAKFAST";
      // var lunchObj={};
      // lunchObj.menuType="SNACKS";
      // var snacksObj={};
      // snacksObj.menuType="SNACKS";
      // var dinnerObj={};
      // dinnerObj.menuType="DINNER";
      //
      // $scope.companyMenuType.push(breakfastObj);
      // $scope.companyMenuType.push(lunchObj);
      // $scope.companyMenuType.push(snacksObj);
      // $scope.companyMenuType.push(dinnerObj);
      //
      // $scope.companyDayName = [];
      //
      // var mondayObj = {};
      // mondayObj.dayName = "MONDAY";
      //
      // var tuesdayObj = {};
      // tuesdayObj.dayName = "Tuesday";
      //
      // var wednesdayObj = {};
      // wednesdayObj.dayName = "Wednesday";
      //
      // var thursdayObj = {};
      // thursdayObj.dayName = "Thursday";
      //
      // var fridayObj = {};
      // fridayObj.dayName = "Friday";
      //
      // var saturdayObj = {};
      // saturdayObj.dayName = "Saturday";
      //
      // var sundayObj = {};
      // sundayObj.dayName = "Sunday";
      //
      // $scope.companyDayName.push(mondayObj);
      // $scope.companyDayName.push(tuesdayObj);
      // $scope.companyDayName.push(wednesdayObj);
      // $scope.companyDayName.push(thursdayObj);
      // $scope.companyDayName.push(fridayObj);
      // $scope.companyDayName.push(saturdayObj);
      // $scope.companyDayName.push(sundayObj);
      //
      // var getCompanySecUrl=getCompanySectionReqUrl+$routeParams.compId;
      // console.log("in third loop",getCompanySecUrl);
      // $http.get(getCompanySecUrl).then(function(response)
      // {
      //   console.log("response in update check ", JSON.stringify(response));
      //
      //   for(var i = 0; i <$scope.companyMenuType.length; i++){
      //     console.log("in Menu loop");
      //     for(var j = 0; j <$scope.companyDayName.length; j++){
      //       console.log("in second loop");
      //       for(var k = 0; k <response.data.data.menus.length; k++){
      //         console.log("menuType===response-menuType, dayName===response-dayName : ",$scope.companyMenuType[i].menuType,response.data.data.menus[k].menuType,$scope.companyDayName[j].dayName,response.data.data.menus[k].dayName);
      //           if($scope.companyMenuType[i].menuType == response.data.data.menus[k].menuType &&
      //              $scope.companyDayName[j].dayName == response.data.data.menus[k].dayName)
      //           {
      //               // $scope.companyDayName[j] = response.data.data.menus[k];
      //               // $scope.menu = response.data.data.menus[k]
      //               // console.log("companyDayName[j]........... ", $scope.companyDayName[j],$scope.menu);
      //               // // console.log("companyDayName ", JSON.stringify(response.data.data.menus[k]));
      //           }
      //           console.log("out in if condition");
      //         }
      //       }
      //     }
      //   });
// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................
$scope.cashCarryMonday=function(){
  $location.path('/dashboard/company/'+$scope.cId+'/monday');
}
$scope.cashCarrySunday=function(){
$scope.cashAndCarryBool=true;
$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.requirementsBool=false;
}

$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.cashAndCarryBool=false;
              $scope.requirementsBool=false;
              $timeout( function(){
                $scope.cashAndCarryBool=true;
        },1000);

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
$scope.enableBBool=function()
{
  $scope.bBool=true;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableLBool=function()
{
  $scope.bBool=false;
  $scope.lBool=true;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableSBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=true;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableDBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=true;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableStep1= function(){
  $scope.enableStep1Bool=true;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
}
$scope.enableStep2= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=true;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
  $scope.step1Bool=true;
}
$scope.enableStep3= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=true;

  $scope.enableStep4Bool=false;
  $scope.step2Bool=true;
}
$scope.enableStep4= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=true;
  $scope.step3Bool=true;
}

  $scope.enableDeliverySection = function(){
    $scope.cashAndCarryBool=false;
    $scope.addDeliveryBool=true;
    $scope.enableStep1Bool=true;
    $scope.enableStep2Bool=false;
    $scope.enableStep3Bool=false;
    $scope.enableStep4Bool=false;

    $scope.step1Bool=false;
    $scope.step2Bool=false;
    $scope.step3Bool=false;

    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;

    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;

//------TIME SHEDUAL-- for deleivery section----start--------
    // var d = new Date();
    // d.getHours();
    // d.getMinutes();
    // d.getSeconds();
    //
    // var tttime=d.getHours();
    // $cookies.put('tttime',tttime);
    // var time = $cookies.get('tttime');
    // // console.log("Time",time);
    //   if(6<time && 12>time){
    //     // console.log("in breakfast time");
    //     $scope.breakfastBool=true;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(12<=time && 15>time){
    //     // console.log("in lunch time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=true;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(15<=time && 20>time){
    //     // console.log("in snacks time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=true;
    //     $scope.dinnerBool=false;
    //   }else{
    //     console.log("in dinner time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=true;
    //   }
  //------TIME SHEDUAL-- for deleivery section----end--------

initMap();
  }
  $scope.enableCashAndCarry = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=true;
    $scope.requirementsBool=false;
  }
  $scope.enableRequirements = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=true;
    }
  $scope.enableMenuSection = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=true;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;
  }
  $scope.enableBreakfast = function(){
    $scope.breakfastBool=true;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableLunch = function(){
    $scope.breakfastBool=false;
    $scope.lunchBool=true;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableSnacks = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=true;
    $scope.dinnerBool=false;
  }
  $scope.enableDinner = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=true;
  }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });

  // // ------------------------------------------------------------------------
}
}]);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         // console.log("yo we are in service module bro id",menuNodes,rmId);
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.controller('ThursdayController',['$routeParams','$route','$location','postDeleteMenuUrl','$timeout',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl','$location',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,$timeout,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,$location,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,getmenuFromDbTueUrl) {
//--------------------------button to get current location-------------------
$rootScope.dashboardSingOutBool=true;
$rootScope.footerBool=true;

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');

// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //       
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {
$scope.cId = $routeParams.compId;
var companyId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end


// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };



              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.THURSDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.THURSDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');




              $scope.addsection = function(nodes, index) {

                  console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }

              }

              $scope.addchild = function(node) {
                if(node.decisionCollapse)
                {
                  $scope.toggleCollapse(node);
                }
                  // console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // ----------
              $scope.toggleCollapse = function(node) {
                console.log("node: ", node);

                  if(node.decisionCollapse)
                  {
                    node.decisionCollapse = false;
                  }
                  else {
                    node.decisionCollapse = true;
                  }
              };
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              // $scope.myfun = function(n) {
              //   console.log("check m 1",n)
              // }

              $scope.saveInDb = function(node, dayName) {

                // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.expandNode = function(n, $event) {
                  // console.log("well inside expandNode",n,$event);
                  $event.stopPropagation();
                  n.toggle();
              };
//
// $scope.callMe = function(x){
//   console.log("new c 5555",x);
//   if(x=="Monday"){
//     console.log("$scope.myNode 5555",$scope.myNode.MONDAY);
//
//     if(!_.isEmpty($scope.myNode.MONDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.MONDAY);
//       console.log("menu node after update ", $scope.menuNodes);
//     }else{
//       $scope.menuNodes = [{
//
//         uid: uuid.new(),
//         menuName: "Monday Menu",
//         menuNodes: [],
//         isFoodItem: false
//       }];
//     }
//   }
//   if(x=="Tuesday"){
//     console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));
//
//       if(!_.isEmpty($scope.myNode.TUESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
//     }
//   }
//   if(x=="Wednesday"){
//     console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);
//
//     if(!_.isEmpty($scope.myNode.WEDNESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
//     }
//   }
//   if(x=="Thursday"){
//     console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);
//
//     if(!_.isEmpty($scope.myNode.THURSDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
//     }
//   }
//   if(x=="Friday"){
//     console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);
//
//     if(!_.isEmpty($scope.myNode.FRIDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
//     }
//   }
//   if(x=="Saturday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);
//
//     if(!_.isEmpty($scope.myNode.SATURDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
//     }
//   }
//   if(x=="Sunday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);
//
//     if(!_.isEmpty($scope.myNode.SUNDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
//     }
//   }
//   $scope.menuNodes = [{
//
//       uid: uuid.new(),
//       menuName: "",
//       menuNodes: [],
//       isFoodItem: false
//   }];
//   // var getMenuMonUrl = getmenuFromDbTueUrl+"dayName="+x+"&companyId="+companyId+"&vendorId="+vendorId;
//   // console.log("getMenuMonUrl 2000000",getMenuMonUrl);
//   //
//   // $http.get(getMenuMonUrl).then(function(response) {
//   //   console.log("response in API 00000001",response.data.data);
//   //     if(response.data.data === undefined) {
//   //       $scope.menuNodes = [{
//   //           uid: uuid.new(),
//   //           menuName: "Menu",
//   //           menuNodes: [],
//   //           isFoodItem: false
//   //       }];
//   //     }
//   //     if(!_.isEmpty(response.data.data))
//   //     {
//   //       $scope.menuNodes = unflatten(response.data.data.menus);
//   //     }
//   // });
// }
// cash and carry section  --> end


$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }
  // else {
  // }
}
// $scope.response = {};
// $scope.response.Menutime = ['Breakfast','Lunch','Snacks','Dinner'];
// $scope.response.weekdays = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
//
// $scope.replaceMenu_breakfast = [];
// $scope.replaceMenu_lunch = [];
// $scope.replaceMenu_snacks = [];
// $scope.replaceMenu_dinner = [];

  // $scope.replaceMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
  // {
  //   // console.log("dinner_item",dinner_item);
  //   if(breakfast_item)
  //   {
  //   for(i=0;i<breakfast_item.length;i++)
  //   {
  //     if(breakfast_item[i].checkbox){
  //       if(breakfast_item[i].checkbox === true){
  //         $scope.replaceMenu_breakfast.push(breakfast_item[i])
  //       }
  //     }
  //    }
  //  }
  //  if(lunch_item)
  //  {
  //   for(j=0;j<lunch_item.length;j++)
  //   {
  //     if(lunch_item[j].checkbox){
  //       if(lunch_item[j].checkbox === true){
  //         $scope.replaceMenu_lunch.push(lunch_item[j])
  //       }
  //     }
  //   }
  // }
  // if(snacks_item)
  // {
  //   for(k=0;k<snacks_item.length;k++)
  //   {
  //     if(snacks_item[k].checkbox){
  //       if(snacks_item[k].checkbox === true){
  //         $scope.replaceMenu_snacks.push(snacks_item[k])
  //       }
  //     }
  //   }
  // }
  // if(dinner_item)
  // {
  //   for(l=0;l<dinner_item.length;l++)
  //   {
  //     if(dinner_item[l].checkbox){
  //       if(dinner_item[l].checkbox === true){
  //         $scope.replaceMenu_dinner.push(dinner_item[l])
  //         // console.log("inside dinner");
  //       }
  //     }
  //   }
  // }
  //   $scope.enableStep2();
  // }

$scope.processComplete=function()
{
  $scope.enableStep4();
}

//  $scope.dispatchMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
//  {
//
//    console.log("check all dispatch menu: ", breakfast_item,lunch_item,snacks_item,dinner_item);
//    $scope.dispatchMenu_breakfast=$scope.replaceMenu_breakfast;
//    $scope.dispatchMenu_lunch=$scope.replaceMenu_lunch;
//    $scope.dispatchMenu_snacks=$scope.replaceMenu_snacks;
//    $scope.dispatchMenu_dinner=$scope.replaceMenu_dinner;
//
//     if($scope.dispatchMenu_breakfast)
//     {
//        console.log("1. final breakfast item",$scope.dispatchMenu_breakfast,$rootScope.date,companyId,vendorId,$scope.type[0]);
//     }
//     if($scope.dispatchMenu_lunch)
//     {
//        console.log("2. final lunch item",$scope.dispatchMenu_lunch,$rootScope.date,companyId,vendorId,$scope.type[1]);
//     }
//     if($scope.dispatchMenu_snacks)
//     {
//        console.log("3. final snacks item",$scope.dispatchMenu_snacks,$rootScope.date,companyId,vendorId,$scope.type[2]);
//     }
//    if($scope.dispatchMenu_dinner)
//    {
//       console.log("4. final dinner item",$scope.dispatchMenu_dinner,$rootScope.date,companyId,vendorId,$scope.type[3]);
//    }
//
//    $scope.enableStep3();
//
// $scope.checkFunction();
//  }
//
//  $scope.checkFunction=function()
//  {
//    if($scope.enableStep3Bool==true)
//    {
//       $scope.resizeMap(map);
//    }
//  }
// $scope.resizeMap=function(map)
// {
//     setTimeout(function()
//                {
// initMap();
//     google.maps.event.trigger(map, "resize");
//   },50);
// }

  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);


                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

      // ----------------AUTOMATIC UPDATE COMPANY SECTION DATA In ng-repeat ---------------
      // $scope.companyMenuType = [];
      //
      // var breakfastObj={};
      // breakfastObj.menuType="BREAKFAST";
      // var lunchObj={};
      // lunchObj.menuType="SNACKS";
      // var snacksObj={};
      // snacksObj.menuType="SNACKS";
      // var dinnerObj={};
      // dinnerObj.menuType="DINNER";
      //
      // $scope.companyMenuType.push(breakfastObj);
      // $scope.companyMenuType.push(lunchObj);
      // $scope.companyMenuType.push(snacksObj);
      // $scope.companyMenuType.push(dinnerObj);
      //
      // $scope.companyDayName = [];
      //
      // var mondayObj = {};
      // mondayObj.dayName = "MONDAY";
      //
      // var tuesdayObj = {};
      // tuesdayObj.dayName = "Tuesday";
      //
      // var wednesdayObj = {};
      // wednesdayObj.dayName = "Wednesday";
      //
      // var thursdayObj = {};
      // thursdayObj.dayName = "Thursday";
      //
      // var fridayObj = {};
      // fridayObj.dayName = "Friday";
      //
      // var saturdayObj = {};
      // saturdayObj.dayName = "Saturday";
      //
      // var sundayObj = {};
      // sundayObj.dayName = "Sunday";
      //
      // $scope.companyDayName.push(mondayObj);
      // $scope.companyDayName.push(tuesdayObj);
      // $scope.companyDayName.push(wednesdayObj);
      // $scope.companyDayName.push(thursdayObj);
      // $scope.companyDayName.push(fridayObj);
      // $scope.companyDayName.push(saturdayObj);
      // $scope.companyDayName.push(sundayObj);
      //
      // var getCompanySecUrl=getCompanySectionReqUrl+$routeParams.compId;
      // console.log("in third loop",getCompanySecUrl);
      // $http.get(getCompanySecUrl).then(function(response)
      // {
      //   console.log("response in update check ", JSON.stringify(response));
      //
      //   for(var i = 0; i <$scope.companyMenuType.length; i++){
      //     console.log("in Menu loop");
      //     for(var j = 0; j <$scope.companyDayName.length; j++){
      //       console.log("in second loop");
      //       for(var k = 0; k <response.data.data.menus.length; k++){
      //         console.log("menuType===response-menuType, dayName===response-dayName : ",$scope.companyMenuType[i].menuType,response.data.data.menus[k].menuType,$scope.companyDayName[j].dayName,response.data.data.menus[k].dayName);
      //           if($scope.companyMenuType[i].menuType == response.data.data.menus[k].menuType &&
      //              $scope.companyDayName[j].dayName == response.data.data.menus[k].dayName)
      //           {
      //               // $scope.companyDayName[j] = response.data.data.menus[k];
      //               // $scope.menu = response.data.data.menus[k]
      //               // console.log("companyDayName[j]........... ", $scope.companyDayName[j],$scope.menu);
      //               // // console.log("companyDayName ", JSON.stringify(response.data.data.menus[k]));
      //           }
      //           console.log("out in if condition");
      //         }
      //       }
      //     }
      //   });
// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................
$scope.cashCarryMonday=function(){
  $location.path('/dashboard/company/'+$scope.cId+'/monday');
}
$scope.cashCarryThursday=function(){
$scope.cashAndCarryBool=true;
$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.requirementsBool=false;
}

$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.cashAndCarryBool=false;
              $scope.requirementsBool=false;
              $timeout( function(){
                $scope.cashAndCarryBool=true;
        },1000);

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
$scope.enableBBool=function()
{
  $scope.bBool=true;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableLBool=function()
{
  $scope.bBool=false;
  $scope.lBool=true;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableSBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=true;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableDBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=true;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableStep1= function(){
  $scope.enableStep1Bool=true;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
}
$scope.enableStep2= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=true;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
  $scope.step1Bool=true;
}
$scope.enableStep3= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=true;

  $scope.enableStep4Bool=false;
  $scope.step2Bool=true;
}
$scope.enableStep4= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=true;
  $scope.step3Bool=true;
}

  $scope.enableDeliverySection = function(){
    $scope.cashAndCarryBool=false;
    $scope.addDeliveryBool=true;
    $scope.enableStep1Bool=true;
    $scope.enableStep2Bool=false;
    $scope.enableStep3Bool=false;
    $scope.enableStep4Bool=false;

    $scope.step1Bool=false;
    $scope.step2Bool=false;
    $scope.step3Bool=false;

    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;

    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;

//------TIME SHEDUAL-- for deleivery section----start--------
    // var d = new Date();
    // d.getHours();
    // d.getMinutes();
    // d.getSeconds();
    //
    // var tttime=d.getHours();
    // $cookies.put('tttime',tttime);
    // var time = $cookies.get('tttime');
    // // console.log("Time",time);
    //   if(6<time && 12>time){
    //     // console.log("in breakfast time");
    //     $scope.breakfastBool=true;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(12<=time && 15>time){
    //     // console.log("in lunch time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=true;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(15<=time && 20>time){
    //     // console.log("in snacks time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=true;
    //     $scope.dinnerBool=false;
    //   }else{
    //     console.log("in dinner time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=true;
    //   }
  //------TIME SHEDUAL-- for deleivery section----end--------

initMap();
  }
  $scope.enableCashAndCarry = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=true;
    $scope.requirementsBool=false;
  }
  $scope.enableRequirements = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=true;
    }
  $scope.enableMenuSection = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=true;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;
  }
  $scope.enableBreakfast = function(){
    $scope.breakfastBool=true;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableLunch = function(){
    $scope.breakfastBool=false;
    $scope.lunchBool=true;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableSnacks = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=true;
    $scope.dinnerBool=false;
  }
  $scope.enableDinner = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=true;
  }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });

  // // ------------------------------------------------------------------------
}
}]);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         // console.log("yo we are in service module bro id",menuNodes,rmId);
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.controller('TuesdayController',['$routeParams','$route','$location','postDeleteMenuUrl','$timeout',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl','$location',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,$timeout,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,$location,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,getmenuFromDbTueUrl) {
//--------------------------button to get current location-------------------
$rootScope.dashboardSingOutBool=true;
$rootScope.footerBool=true;

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');

// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //      
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {
$scope.cId = $routeParams.compId;
var companyId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end


// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };



              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.TUESDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.TUESDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');




              $scope.addsection = function(nodes, index) {

                  console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }

              }

              $scope.addchild = function(node) {
                if(node.decisionCollapse)
                {
                  $scope.toggleCollapse(node);
                }
                  // console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // ----------
              $scope.toggleCollapse = function(node) {
                console.log("node: ", node);

                  if(node.decisionCollapse)
                  {
                    node.decisionCollapse = false;
                  }
                  else {
                    node.decisionCollapse = true;
                  }
              };
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              // $scope.myfun = function(n) {
              //   console.log("check m 1",n)
              // }

              $scope.saveInDb = function(node, dayName) {

                // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.expandNode = function(n, $event) {
                  // console.log("well inside expandNode",n,$event);
                  $event.stopPropagation();
                  n.toggle();
              };

$scope.callMe = function(x){
  console.log("new c 5555",x);
  if(x=="Monday"){
    console.log("$scope.myNode 5555",$scope.myNode.MONDAY);

    if(!_.isEmpty($scope.myNode.MONDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.MONDAY);
      console.log("menu node after update ", $scope.menuNodes);
    }else{
      $scope.menuNodes = [{

        uid: uuid.new(),
        menuName: "Monday Menu",
        menuNodes: [],
        isFoodItem: false
      }];
    }
  }
  if(x=="Tuesday"){
    console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));

      if(!_.isEmpty($scope.myNode.TUESDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
    }
  }
  if(x=="Wednesday"){
    console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);

    if(!_.isEmpty($scope.myNode.WEDNESDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
    }
  }
  if(x=="Thursday"){
    console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);

    if(!_.isEmpty($scope.myNode.THURSDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
    }
  }
  if(x=="Friday"){
    console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);

    if(!_.isEmpty($scope.myNode.FRIDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
    }
  }
  if(x=="Saturday"){
    console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);

    if(!_.isEmpty($scope.myNode.SATURDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
    }
  }
  if(x=="Sunday"){
    console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);

    if(!_.isEmpty($scope.myNode.SUNDAY))
    {
      $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
    }
  }
  $scope.menuNodes = [{

      uid: uuid.new(),
      menuName: "",
      menuNodes: [],
      isFoodItem: false
  }];
  // var getMenuMonUrl = getmenuFromDbTueUrl+"dayName="+x+"&companyId="+companyId+"&vendorId="+vendorId;
  // console.log("getMenuMonUrl 2000000",getMenuMonUrl);
  //
  // $http.get(getMenuMonUrl).then(function(response) {
  //   console.log("response in API 00000001",response.data.data);
  //     if(response.data.data === undefined) {
  //       $scope.menuNodes = [{
  //           uid: uuid.new(),
  //           menuName: "Menu",
  //           menuNodes: [],
  //           isFoodItem: false
  //       }];
  //     }
  //     if(!_.isEmpty(response.data.data))
  //     {
  //       $scope.menuNodes = unflatten(response.data.data.menus);
  //     }
  // });
}
// cash and carry section  --> end


$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }
  // else {
  // }
}
// $scope.response = {};
// $scope.response.Menutime = ['Breakfast','Lunch','Snacks','Dinner'];
// $scope.response.weekdays = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
//
// $scope.replaceMenu_breakfast = [];
// $scope.replaceMenu_lunch = [];
// $scope.replaceMenu_snacks = [];
// $scope.replaceMenu_dinner = [];

  // $scope.replaceMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
  // {
  //   // console.log("dinner_item",dinner_item);
  //   if(breakfast_item)
  //   {
  //   for(i=0;i<breakfast_item.length;i++)
  //   {
  //     if(breakfast_item[i].checkbox){
  //       if(breakfast_item[i].checkbox === true){
  //         $scope.replaceMenu_breakfast.push(breakfast_item[i])
  //       }
  //     }
  //    }
  //  }
  //  if(lunch_item)
  //  {
  //   for(j=0;j<lunch_item.length;j++)
  //   {
  //     if(lunch_item[j].checkbox){
  //       if(lunch_item[j].checkbox === true){
  //         $scope.replaceMenu_lunch.push(lunch_item[j])
  //       }
  //     }
  //   }
  // }
  // if(snacks_item)
  // {
  //   for(k=0;k<snacks_item.length;k++)
  //   {
  //     if(snacks_item[k].checkbox){
  //       if(snacks_item[k].checkbox === true){
  //         $scope.replaceMenu_snacks.push(snacks_item[k])
  //       }
  //     }
  //   }
  // }
  // if(dinner_item)
  // {
  //   for(l=0;l<dinner_item.length;l++)
  //   {
  //     if(dinner_item[l].checkbox){
  //       if(dinner_item[l].checkbox === true){
  //         $scope.replaceMenu_dinner.push(dinner_item[l])
  //         // console.log("inside dinner");
  //       }
  //     }
  //   }
  // }
  //   $scope.enableStep2();
  // }

$scope.processComplete=function()
{
  $scope.enableStep4();
}

//  $scope.dispatchMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
//  {
//
//    console.log("check all dispatch menu: ", breakfast_item,lunch_item,snacks_item,dinner_item);
//    $scope.dispatchMenu_breakfast=$scope.replaceMenu_breakfast;
//    $scope.dispatchMenu_lunch=$scope.replaceMenu_lunch;
//    $scope.dispatchMenu_snacks=$scope.replaceMenu_snacks;
//    $scope.dispatchMenu_dinner=$scope.replaceMenu_dinner;
//
//     if($scope.dispatchMenu_breakfast)
//     {
//        console.log("1. final breakfast item",$scope.dispatchMenu_breakfast,$rootScope.date,companyId,vendorId,$scope.type[0]);
//     }
//     if($scope.dispatchMenu_lunch)
//     {
//        console.log("2. final lunch item",$scope.dispatchMenu_lunch,$rootScope.date,companyId,vendorId,$scope.type[1]);
//     }
//     if($scope.dispatchMenu_snacks)
//     {
//        console.log("3. final snacks item",$scope.dispatchMenu_snacks,$rootScope.date,companyId,vendorId,$scope.type[2]);
//     }
//    if($scope.dispatchMenu_dinner)
//    {
//       console.log("4. final dinner item",$scope.dispatchMenu_dinner,$rootScope.date,companyId,vendorId,$scope.type[3]);
//    }
//
//    $scope.enableStep3();
//
// $scope.checkFunction();
//  }
//
//  $scope.checkFunction=function()
//  {
//    if($scope.enableStep3Bool==true)
//    {
//       $scope.resizeMap(map);
//    }
//  }
// $scope.resizeMap=function(map)
// {
//     setTimeout(function()
//                {
// initMap();
//     google.maps.event.trigger(map, "resize");
//   },50);
// }

  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);


                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

      // ----------------AUTOMATIC UPDATE COMPANY SECTION DATA In ng-repeat ---------------
      // $scope.companyMenuType = [];
      //
      // var breakfastObj={};
      // breakfastObj.menuType="BREAKFAST";
      // var lunchObj={};
      // lunchObj.menuType="SNACKS";
      // var snacksObj={};
      // snacksObj.menuType="SNACKS";
      // var dinnerObj={};
      // dinnerObj.menuType="DINNER";
      //
      // $scope.companyMenuType.push(breakfastObj);
      // $scope.companyMenuType.push(lunchObj);
      // $scope.companyMenuType.push(snacksObj);
      // $scope.companyMenuType.push(dinnerObj);
      //
      // $scope.companyDayName = [];
      //
      // var mondayObj = {};
      // mondayObj.dayName = "MONDAY";
      //
      // var tuesdayObj = {};
      // tuesdayObj.dayName = "Tuesday";
      //
      // var wednesdayObj = {};
      // wednesdayObj.dayName = "Wednesday";
      //
      // var thursdayObj = {};
      // thursdayObj.dayName = "Thursday";
      //
      // var fridayObj = {};
      // fridayObj.dayName = "Friday";
      //
      // var saturdayObj = {};
      // saturdayObj.dayName = "Saturday";
      //
      // var sundayObj = {};
      // sundayObj.dayName = "Sunday";
      //
      // $scope.companyDayName.push(mondayObj);
      // $scope.companyDayName.push(tuesdayObj);
      // $scope.companyDayName.push(wednesdayObj);
      // $scope.companyDayName.push(thursdayObj);
      // $scope.companyDayName.push(fridayObj);
      // $scope.companyDayName.push(saturdayObj);
      // $scope.companyDayName.push(sundayObj);
      //
      // var getCompanySecUrl=getCompanySectionReqUrl+$routeParams.compId;
      // console.log("in third loop",getCompanySecUrl);
      // $http.get(getCompanySecUrl).then(function(response)
      // {
      //   console.log("response in update check ", JSON.stringify(response));
      //
      //   for(var i = 0; i <$scope.companyMenuType.length; i++){
      //     console.log("in Menu loop");
      //     for(var j = 0; j <$scope.companyDayName.length; j++){
      //       console.log("in second loop");
      //       for(var k = 0; k <response.data.data.menus.length; k++){
      //         console.log("menuType===response-menuType, dayName===response-dayName : ",$scope.companyMenuType[i].menuType,response.data.data.menus[k].menuType,$scope.companyDayName[j].dayName,response.data.data.menus[k].dayName);
      //           if($scope.companyMenuType[i].menuType == response.data.data.menus[k].menuType &&
      //              $scope.companyDayName[j].dayName == response.data.data.menus[k].dayName)
      //           {
      //               // $scope.companyDayName[j] = response.data.data.menus[k];
      //               // $scope.menu = response.data.data.menus[k]
      //               // console.log("companyDayName[j]........... ", $scope.companyDayName[j],$scope.menu);
      //               // // console.log("companyDayName ", JSON.stringify(response.data.data.menus[k]));
      //           }
      //           console.log("out in if condition");
      //         }
      //       }
      //     }
      //   });
// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................
$scope.cashCarryMonday=function(){
  $location.path('/dashboard/company/'+$scope.cId+'/monday');
}
$scope.cashCarryTuesday=function(){
$scope.cashAndCarryBool=true;
$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.requirementsBool=false;
}

$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.cashAndCarryBool=false;
              $scope.requirementsBool=false;
              $timeout( function(){
                $scope.cashAndCarryBool=true;
        },1000);

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
$scope.enableBBool=function()
{
  $scope.bBool=true;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableLBool=function()
{
  $scope.bBool=false;
  $scope.lBool=true;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableSBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=true;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableDBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=true;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableStep1= function(){
  $scope.enableStep1Bool=true;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
}
$scope.enableStep2= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=true;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
  $scope.step1Bool=true;
}
$scope.enableStep3= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=true;

  $scope.enableStep4Bool=false;
  $scope.step2Bool=true;
}
$scope.enableStep4= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=true;
  $scope.step3Bool=true;
}

  $scope.enableDeliverySection = function(){
    $scope.cashAndCarryBool=false;
    $scope.addDeliveryBool=true;
    $scope.enableStep1Bool=true;
    $scope.enableStep2Bool=false;
    $scope.enableStep3Bool=false;
    $scope.enableStep4Bool=false;

    $scope.step1Bool=false;
    $scope.step2Bool=false;
    $scope.step3Bool=false;

    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;

    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;

//------TIME SHEDUAL-- for deleivery section----start--------
    // var d = new Date();
    // d.getHours();
    // d.getMinutes();
    // d.getSeconds();
    //
    // var tttime=d.getHours();
    // $cookies.put('tttime',tttime);
    // var time = $cookies.get('tttime');
    // // console.log("Time",time);
    //   if(6<time && 12>time){
    //     // console.log("in breakfast time");
    //     $scope.breakfastBool=true;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(12<=time && 15>time){
    //     // console.log("in lunch time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=true;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(15<=time && 20>time){
    //     // console.log("in snacks time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=true;
    //     $scope.dinnerBool=false;
    //   }else{
    //     console.log("in dinner time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=true;
    //   }
  //------TIME SHEDUAL-- for deleivery section----end--------

initMap();
  }
  $scope.enableCashAndCarry = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=true;
    $scope.requirementsBool=false;
  }
  $scope.enableRequirements = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=true;
    }
  $scope.enableMenuSection = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=true;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;
  }
  $scope.enableBreakfast = function(){
    $scope.breakfastBool=true;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableLunch = function(){
    $scope.breakfastBool=false;
    $scope.lunchBool=true;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableSnacks = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=true;
    $scope.dinnerBool=false;
  }
  $scope.enableDinner = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=true;
  }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });

  // // ------------------------------------------------------------------------
}
}]);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         // console.log("yo we are in service module bro id",menuNodes,rmId);
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.controller('clientDashboardController', ['vendorassignService','$routeParams','$scope','Notification',
'$http','$rootScope','postVendorAssignUrl','getVendorAssignUrl','$location','$cookies','getCompanyProfileUrl',
'getUnassignedCompanyUrl','getAllVendorListUrl','postCompanyReqUrl','getCompanyReqUrl','unassignedVendorUrl',
'getVendorProfileUrl','updateCompanyReqUrl','postCompanyLoginIdUrl','corporateReviewsUrl',
'postCategoryUrl','getAllVendorToCompanyUrl','companyLogoUrl','Upload', '$timeout','$route',
function(vendorassignService,$routeParams,$scope,Notification,
  $http, $rootScope,postVendorAssignUrl,getVendorAssignUrl,$location,$cookies,getCompanyProfileUrl,
  getUnassignedCompanyUrl, getAllVendorListUrl,postCompanyReqUrl,getCompanyReqUrl,unassignedVendorUrl,
  getVendorProfileUrl,updateCompanyReqUrl,postCompanyLoginIdUrl,corporateReviewsUrl,
  postCategoryUrl,getAllVendorToCompanyUrl,companyLogoUrl,Upload, $timeout,$route)
{
  $scope.signOutAdmin = function(){
    $cookies.remove('company_name');
    $cookies.remove('company_id');
    $rootScope.adminSignOutBool=false;
    $rootScope.footerBool=false;
    $location.path('/client');
}
  var sObj = $location.search();
  if(sObj.enable != null)
  {
    enableBoools(sObj.enable)
  }
  if($cookies.get('company_name') == null)
  {
    Notification.warning("Login required!!!");
    $location.path('/client');
    $route.reload();
  }
  else
  {
    $routeParams.compId=$cookies.get('company_id');
    $rootScope.companyId=$cookies.get('company_id');
    $scope.companyPerson=$cookies.get('company_person');
    $scope.companyName=$cookies.get('company_name');
    $scope.data = {};

    $scope.category = function(data){
      $scope.data.companyId = $routeParams.compId
      vendorassignService.activeCategory(data,postCategoryUrl);
    }



$rootScope.adminSignOutBool=true;
$rootScope.footerBool=true;

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  $scope.data=response.data.data.company;
});

  var getFeedbackUrl = corporateReviewsUrl+$routeParams.compId;
  $http.get(getFeedbackUrl).then(function(response)
  {
    $scope.feedback=response.data.data.reviews;
  });

  var getAllVendorToCompany = getAllVendorToCompanyUrl+$routeParams.compId;
  $http.get(getAllVendorToCompany).then(function(response)
  {
    // console.log("getAllVendorToCompanyUrl",response.data.data.details);
    $scope.vendorList=response.data.data.details;
  });



  $scope.companyRequirements = [];
  var mondayObj = {};
  mondayObj.dayName = "MONDAY";

  var tuesdayObj = {};
  tuesdayObj.dayName = "TUESDAY";

  var wednesdayObj = {};
  wednesdayObj.dayName = "WEDNESDAY";

  var thursdayObj = {};
  thursdayObj.dayName = "THURSDAY";

  var fridayObj = {};
  fridayObj.dayName = "FRIDAY";

  var saturdayObj = {};
  saturdayObj.dayName = "SATURDAY";

  var sundayObj = {};
  sundayObj.dayName = "SUNDAY";

  $scope.companyRequirements.push(mondayObj);
  $scope.companyRequirements.push(tuesdayObj);
  $scope.companyRequirements.push(wednesdayObj);
  $scope.companyRequirements.push(thursdayObj);
  $scope.companyRequirements.push(fridayObj);
  $scope.companyRequirements.push(saturdayObj);
  $scope.companyRequirements.push(sundayObj);

  var getCompUrl = getCompanyReqUrl+$routeParams.compId;
  $http.get(getCompUrl).then(function(response)
  {
    // console.log("response ", JSON.stringify(response));
    // $scope.companyRequirements = response.data.data.requirements;
    for(var i = 0; i <$scope.companyRequirements.length; i++){
      // console.log("in first loop");
      for(var j = 0; j <response.data.data.requirements.length; j++){
        // console.log("in second loop");
          if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
              $scope.companyRequirements[i] = response.data.data.requirements[j];
              // $rootScope.activeSaveBool="false";
              // $rootScope.activeUpdateBool="true";
          }
      }
    }
    // console.log("companyRequirements ", JSON.stringify($scope.companyRequirements));
  });

  $scope.saveRequirement = function(reqObj) {
    // console.log("current sndp==== : ", reqObj.id);
    var companyId = $routeParams.compId;
    if(reqObj.id==undefined){
      vendorassignService.saveReq(companyId,reqObj,postCompanyReqUrl);
    }else{
      vendorassignService.updateReq(companyId,reqObj,updateCompanyReqUrl);
    }
  }

  $scope.send = function(id,name){
    $scope.vName=name;
    $scope.unassignId=id;
    document.getElementById('id07').style.display='block'
    }

  $scope.unassignVendor = function(id){
      // console.log("id 9000",id);
      vendorassignService.unassigneVendor(id,unassignedVendorUrl)
      .then(function(returnedSaveMenu){
        // console.log("yehhhh its working 333");
        if (returnedSaveMenu !== null) {
          var getAllVendorToCompany = getAllVendorToCompanyUrl+$routeParams.compId;
          $http.get(getAllVendorToCompany).then(function(response)
          {
            // console.log("getAllVendorToCompanyUrl",response.data.data.details);
            $scope.vendorList=response.data.data.details;
          });
        }
      });
      }

  $scope.passVendorId = function(vendorId, type){
    var companyId = $routeParams.compId;
    // console.log("i am in ctrl file : ", companyId , vendorId, type);
        // alert("Company Id is "+companyId+" "+"Vendor Id is"+" "+vendorId);
      vendorassignService.passVendorId(vendorId,companyId,type,postVendorAssignUrl)
      .then(function(returnedSaveMenu){
        // console.log("yehhhh its working 333");
        if (returnedSaveMenu !== null) {
          var getAllVendorToCompany = getAllVendorToCompanyUrl+$routeParams.compId;
          $http.get(getAllVendorToCompany).then(function(response)
          {
            // console.log("getAllVendorToCompanyUrl",response.data.data.details);
            $scope.vendorList=response.data.data.details;
          });
        }
      });
    };

    $scope.companyLoginIdSet = function(password){
      var companyId = $routeParams.compId;
      vendorassignService.companyLoginIdSet(password,companyId,postCompanyLoginIdUrl)
    }

    // $scope.companySignup = function(company) {
    //     companydetailsService.companySignup(company,companySignupUrl);
    // }

  $http.get(getUnassignedCompanyUrl).then(function(response)
  {
    $scope.unassignedCompanies = response.data.data.companies;
  });

  // var getCompUrl = getCompanyReqUrl+$routeParams.compId;
  $http.get(getVendorAssignUrl).then(function(response)
  {
    $scope.particularVendorAssigned = response.data.data.companies;
    var companyId = $routeParams.compId;
    // console.log("all company list check data",$scope.particularVendorAssigned,companyId);

    // console.log("$scope.particularVendorAssigned.length check",$scope.particularVendorAssigned.length,$scope.particularVendorAssigned[0].id);

    for(i=0;i<$scope.particularVendorAssigned.length;i++)
    {
      if(companyId==$scope.particularVendorAssigned[i].id)
      {
        var vndrId=$scope.particularVendorAssigned[i].vendorId;
        // console.log("vendor Id is",vndrId);
        var getVendorProfile = getVendorProfileUrl+vndrId;
        // console.log("vendorrrrrrrr",getVendorProfile);
      }
    }
    $http.get(getVendorProfile).then(function(response)
    {
      // console.log("response ", JSON.stringify(response));
      $scope.FinalVendorAssign = response.data.data.vendor;
      // console.log("Final result ",$scope.FinalVendorAssign.name);
    })

  });

  $http.get(getAllVendorListUrl).then(function(response)
  {
    // console.log("response.data 555",response.data.data.vendors);
    $scope.allVendorsList = response.data.data.vendors;
        // console.log("response.data 560",$scope.allVendorsList);
  });

    $scope.weekday = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'] ;
    // $scope.response = { time: ['Breakfast','Lunch','Snacks','Dinner'] };

    // bool Logic start
       $scope.boolFunction = function(value) {
         $scope.categoryBool = false;
         $scope.addRequirementBool = false;
         $scope.addAssignedToBool = false;
         $scope.SetLoginIdBool = false;
         $scope.FeedbackBool=false;
         $scope.LogoBool=false;
         $scope[value] = true;
       }
       $scope.boolFunction("categoryBool");
    // bool Logic end

        }
      }
        ]);


vmApp.controller('WednesdayController',['$routeParams','$route','$location','postDeleteMenuUrl','$timeout',
'sectionService','$rootScope','$cookies','$scope','$http','$routeParams','postSaveMenuUrl','$location',
'getCompanySectionReqUrl','getDashboardMenuUrl','postUpdateSaveMenuUrl','getCompanyProfileUrl',
'getCompanyReqUrl','Notification','uuid','saveMenuService','updateMenuService','getmenuFromDbMonUrl','getmenuFromDbTueUrl',
function($routeParams,$route,$location,postDeleteMenuUrl,$timeout,
  sectionService,$rootScope, $cookies, $scope, $http,$routeParams,postSaveMenuUrl,$location,
  getCompanySectionReqUrl,getDashboardMenuUrl,postUpdateSaveMenuUrl,getCompanyProfileUrl,
  getCompanyReqUrl,Notification,uuid,saveMenuService,updateMenuService,getmenuFromDbMonUrl,getmenuFromDbTueUrl) {
//--------------------------button to get current location-------------------
$rootScope.dashboardSingOutBool=true;
$rootScope.footerBool=true;

$scope.userName=$cookies.get('username');
$scope.mail=$cookies.get('email');

var vendorId = $cookies.get('id');

// var x = document.getElementById("demo");
// $scope.getLocation=function(){
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition($scope.showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
//
// // function showPosition(position)
// $scope.showPosition=function(position){
//       $rootScope.sorceLatitude=position.coords.latitude;
//       $rootScope.sorceLongitude=position.coords.longitude;
//       initMap();
//       // $scope.desLatitude=$rootScope.lat;
//       // $scope.desLongitude=77.62452429999996;
//       console.log("sorce->(lat,lng)",$rootScope.sorceLatitude,$rootScope.sorceLongitude);
//     // x.innerHTML = "Latitude: " + position.coords.latitude +
//     // "<br>Longitude: " + position.coords.longitude;
// }
//---------------------------------------------------------------------------
    // function initMap(){
    // // $scope.initMap=function(){
    //   console.log("check just",$rootScope.sorceLatitude);
    //       var silkboard = {lat: $rootScope.desLatitude, lng: $rootScope.desLongitute};
    //       $rootScope.fancymonk = {lat: $rootScope.sorceLatitude, lng: $rootScope.sorceLongitude};
    //
    // console.log("$rootScope.sorceLatitude",$rootScope.sorceLatitude);
    //
    //   // $scope.google.maps.event.trigger(map, "resize");
    //       var map = new google.maps.Map(document.getElementById('map'), {
    //         center: silkboard,
    //         zoom: 7
    //       });
    //
    //       var directionsDisplay = new google.maps.DirectionsRenderer({
    //         map: map
    //       });
    //
    //       // Set destination, origin and travel mode.
    //       var request = {
    //         destination: silkboard,
    //         origin: $rootScope.fancymonk,
    //         travelMode: 'DRIVING'
    //       };
    //
    //       // Pass the directions request to the directions service.
    //       var directionsService = new google.maps.DirectionsService();
    //       directionsService.route(request, function(response, status) {
    //         if (status == 'OK') {
    //           // Display the route on the map.
    //           directionsDisplay.setDirections(response);
    //         }
    //       });
    //     }
    // google.maps.event.addDomListener(window, 'load', initMap);

//--------------- map section end -----------------------

    if($cookies.get('id') === $rootScope.vId && undefined === $rootScope.vId)
    {
        Notification.warning("Login required!!!");
        $location.path('/login');
    }

    else
    {
$scope.cId = $routeParams.compId;
var companyId = $routeParams.compId;
      // tongal baar script start
      "use strict";var tid=setInterval(function(){if("complete"===document.readyState){clearInterval(tid);var a=document.querySelector.bind(document),b=document.querySelector(".vertical_nav"),c=document.querySelector(".wrapper"),d=document.getElementById("js-menu"),e=d.querySelectorAll(".menu--item__has_sub_menu");a(".toggle_menu").onclick=function(){b.classList.toggle("vertical_nav__opened"),c.classList.toggle("toggle-content")},a(".collapse_menu").onclick=function(){b.classList.toggle("vertical_nav__minify"),c.classList.toggle("wrapper__minify");for(var a=0;a<e.length;a++)e[a].classList.remove("menu--subitens__opened")};for(var f=0;f<e.length;f++)e[f].classList.contains("menu--item__has_sub_menu")&&e[f].querySelector(".menu--link").addEventListener("click",function(a){for(var b=0;b<e.length;b++)a.target.offsetParent!=e[b]&&e[b].classList.remove("menu--subitens__opened");a.target.offsetParent.classList.toggle("menu--subitens__opened")},!1)}},100);
      // tongal baar script end


// --------- cash and carry section  --> start

              $scope.restaurantId = $cookies.get('id');

              var unflatten = function(array, parent, tree) {
                // console.log("array, parent, tree",array, parent, tree);
                  tree = typeof tree !== 'undefined' ? tree : [];
                  parent = typeof parent !== 'undefined' ? parent : {
                      id: null
                  };
                  var children = _.filter(array, function(child) {
                      child.isInserted = true;
                      // console.log("child.menuNodes,child.menuType",child.menuNodes,child.menuType);
                      if(child.menuNodes ==null)
                      {
                        child.menuNodes = [];
                      }
                      if(child.menuType != null)
                      {
                        if(child.menuType === "veg")
                        {
                          child.isVeg = true;
                          // console.log("isVeg");
                        }
                        else if(child.menuType === "egg")
                        {
                          child.isEgg = true;
                          // console.log("isegg");
                        }
                      }
                      return child.parentId == parent.id;
                  });
                  if (!_.isEmpty(children)) {
                      // console.log("parent.id",parent.id);
                      if (parent.id == 0 || parent.id == null) {
                                tree = children;
                      } else {
                          parent['menuNodes'] = children
                      }
                      _.each(children, function(child) {
                          unflatten(array, child)
                      });
                  }
                  return tree;
              };



              var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
              console.log("getMenuMonUrl 2000000",getMenuMonUrl);

              var promis = $http.get(getMenuMonUrl);

              promis.then(function(response) {
                  $scope.myNode = response.data.data.menus;
                console.log("$scope.myNode.MONDAY 000000000",_.isEmpty($scope.myNode.WEDNESDAY));
                  // for monday by default load

                  if(!_.isEmpty($scope.myNode.WEDNESDAY))
                  {
                    console.log("yehhhh true 4545")
                    $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
                    console.log("menu node after update ", $scope.menuNodes);
                  }
                  else
                  {
                    $scope.menuNodes = [{

                      uid: uuid.new(),
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false
                    }];
                  }
                  // by default end monday
                });

              //add menu
              // var bigrandom = require('bigrandom');




              $scope.addsection = function(nodes, index) {

                  console.log("function(nodes, index) 0003",nodes, index);
                  var uid = uuid.new();
                  console.log("isfood item 5555",nodes[index]);
                  // console.log("var uid",uid);
                  // console.log("nodes[index]",JSON.stringify(nodes[index]));
                  // console.log("isFoodItem",isFoodItem);

                  if (nodes[index].isFoodItem) {
                    console.log("inside if");
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: true,
                          parentNodeId: nodes[index].parentNodeId
                      });
                  } else {
                    console.log("outside if index",nodes[index]);
                      nodes.splice(index + 1, 0, {
                          uid: uid,
                          menuName: "",
                          menuNodes: [],
                          isFoodItem: false,
                          parentNodeId: nodes[index].parentNodeId
                      });
                      console.log("nodes 1002",nodes);
                  }

              }

              $scope.addchild = function(node) {
                if(node.decisionCollapse)
                {
                  $scope.toggleCollapse(node);
                }
                  // console.log("checked value 555 : ", JSON.stringify(node));
                  var uid = uuid.new();
                  node.menuNodes.push({
                      uid: uid,
                      menuName: "",
                      menuNodes: [],
                      isFoodItem: false,
                      parentNodeId: node.uid
                  });
              }
              // ----------
              $scope.toggleCollapse = function(node) {
                console.log("node: ", node);

                  if(node.decisionCollapse)
                  {
                    node.decisionCollapse = false;
                  }
                  else {
                    node.decisionCollapse = true;
                  }
              };
              // add menu ends here

              $scope.submitMenu = function() {
                  sectionService.submitMenu($scope.menuNodes, $scope.restaurantId);
              }

              // $scope.myfun = function(n) {
              //   console.log("check m 1",n)
              // }

              $scope.saveInDb = function(node, dayName) {

                // console.log("check cheeeckkkkk 1 in ctrl file",node,dayName,companyId,$scope.restaurantId)
                  saveMenuService.submitMenu(node, $scope.restaurantId,companyId,dayName)
                  .then(function(returnedSaveMenu){
                    // console.log("returnedSaveMenu 001",returnedSaveMenu);
                  checkMe();
                    if (returnedSaveMenu !== null) {
                      updateMenuNode($scope.menuNodes,returnedSaveMenu);
                    }
                  });
              }

              $scope.updateMenu = function(node)
              {
                updateMenuService.updateMenu(node, $scope.restaurantId)
                .then(function(returnedUpdatedMenu){
                  // console.log("returnedUpdatedMenu",returnedUpdatedMenu);
                  // console.log("returnedUpdatedMenu.length",returnedUpdatedMenu.length);
                  checkMe();
                  if (returnedUpdatedMenu !== null) {
                    // console.log("value that are being passed here 000: ",returnedUpdatedMenu);
                    updateMenuNode($scope.menuNodes,returnedUpdatedMenu);
                  }
                });
              };

              $scope.deleteNode = function(node,day)
              {
                // console.log("inside removve node 0002",node);
                updateMenuService.deleteNode(node, $scope.restaurantId,companyId,day)
                .then(function(deleteNodeResp){
                  // console.log("response returned from deleteNode : ",JSON.stringify(deleteNodeResp));
                  checkMe();
                  updateDelMenuNode($scope.menuNodes,node.uid,null,null);
                });
                console.log("nodes 1002",nodes);
              };

var checkMe = function(){
console.log("check Me inside");
var getMenuMonUrl = getmenuFromDbMonUrl+"companyId="+companyId+"&vendorId="+vendorId;
$http.get(getMenuMonUrl).then(function(response) {
  console.log("yeehhh",response);
$scope.myNode = response.data.data.menus;});
}

              var updateDelMenuNode = function(theObject,uid,index,mainArray) {
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateDelMenuNode(theObject[i],uid,i,theObject);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == uid) {
                                mainArray.splice(index,1);
                                break;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateDelMenuNode(theObject[prop],uid,null,null);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }

                  var mainMenuNodeLength = $scope.menuNodes.length;
                  // console.log("mainMenuNodeLength",$scope.menuNodes.length);
                  if(mainMenuNodeLength === 0)
                  {
                    $scope.menuNodes.push({uid: uuid.new(),menuName: "",menuNodes: [],isFoodItem: false});
                  }
                  return result;
              }

              var updateMenuNode = function(theObject,modifiedMenu) {
                // console.log("inside updateMenu 456",theObject,modifiedMenu);
                  var result = null;
                  if (theObject instanceof Array) {
                      for (var i = 0; i < theObject.length; i++) {
                          result = updateMenuNode(theObject[i],modifiedMenu);
                          if (result) {
                              break;
                          }
                      }
                  } else {
                      for (var prop in theObject) {
                          if (prop == 'uid') {
                              if (theObject[prop] == modifiedMenu.uid) {
                                theObject.id = modifiedMenu.id;
                                theObject.isInserted = true;
                              }
                          }
                          if (theObject[prop] instanceof Object || theObject[prop] instanceof Array) {
                              result = updateMenuNode(theObject[prop],modifiedMenu);
                              if (result) {
                                  break;
                              }
                          }
                      }
                  }
                  return result;
              }

              $scope.toggleAll = function() {
                  var toggleStatus = $scope.restaurantDataForUpdate.isAllSelected;
                  angular.forEach($scope.options, function(itm) {
                      itm.selected = toggleStatus;
                  });
              }
              $scope.optionToggled = function() {
                  $scope.restaurantDataForUpdate.isAllSelected = $scope.options.every(function(itm) {
                      return itm.selected;
                  })
              }
              $scope.expandNode = function(n, $event) {
                  // console.log("well inside expandNode",n,$event);
                  $event.stopPropagation();
                  n.toggle();
              };

// $scope.callMe = function(x){
//   console.log("new c 5555",x);
//   if(x=="Monday"){
//     console.log("$scope.myNode 5555",$scope.myNode.MONDAY);
//
//     if(!_.isEmpty($scope.myNode.MONDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.MONDAY);
//       console.log("menu node after update ", $scope.menuNodes);
//     }else{
//       $scope.menuNodes = [{
//
//         uid: uuid.new(),
//         menuName: "Monday Menu",
//         menuNodes: [],
//         isFoodItem: false
//       }];
//     }
//   }
//   if(x=="Tuesday"){
//     console.log("!_.isEmpty($scope.myNode.TUESDAY) 5555",!_.isEmpty($scope.myNode.TUESDAY));
//
//       if(!_.isEmpty($scope.myNode.TUESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.TUESDAY);
//     }
//   }
//   if(x=="Wednesday"){
//     console.log("$scope.myNode 5555",$scope.myNode.WEDNESDAY);
//
//     if(!_.isEmpty($scope.myNode.WEDNESDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.WEDNESDAY);
//     }
//   }
//   if(x=="Thursday"){
//     console.log("$scope.myNode 5555",$scope.myNode.THURSDAY);
//
//     if(!_.isEmpty($scope.myNode.THURSDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.THURSDAY);
//     }
//   }
//   if(x=="Friday"){
//     console.log("$scope.myNode 5555",$scope.myNode.FRIDAY);
//
//     if(!_.isEmpty($scope.myNode.FRIDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.FRIDAY);
//     }
//   }
//   if(x=="Saturday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SATURDAY);
//
//     if(!_.isEmpty($scope.myNode.SATURDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SATURDAY);
//     }
//   }
//   if(x=="Sunday"){
//     console.log("$scope.myNode 5555",$scope.myNode.SUNDAY);
//
//     if(!_.isEmpty($scope.myNode.SUNDAY))
//     {
//       $scope.menuNodes = unflatten($scope.myNode.SUNDAY);
//     }
//   }
//   $scope.menuNodes = [{
//
//       uid: uuid.new(),
//       menuName: "",
//       menuNodes: [],
//       isFoodItem: false
//   }];
//   // var getMenuMonUrl = getmenuFromDbTueUrl+"dayName="+x+"&companyId="+companyId+"&vendorId="+vendorId;
//   // console.log("getMenuMonUrl 2000000",getMenuMonUrl);
//   //
//   // $http.get(getMenuMonUrl).then(function(response) {
//   //   console.log("response in API 00000001",response.data.data);
//   //     if(response.data.data === undefined) {
//   //       $scope.menuNodes = [{
//   //           uid: uuid.new(),
//   //           menuName: "Menu",
//   //           menuNodes: [],
//   //           isFoodItem: false
//   //       }];
//   //     }
//   //     if(!_.isEmpty(response.data.data))
//   //     {
//   //       $scope.menuNodes = unflatten(response.data.data.menus);
//   //     }
//   // });
// }
// cash and carry section  --> end


$scope.dayShow = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
// $scope.daysss = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];
$scope.daysss = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
$scope.type=['BREAKFAST','LUNCH','SNACKS','DINNER'];

$scope.companyRequirements = [];
var mondayObj = {};
mondayObj.dayName = "MONDAY";

var tuesdayObj = {};
tuesdayObj.dayName = "TUESDAY";

var wednesdayObj = {};
wednesdayObj.dayName = "WEDNESDAY";

var thursdayObj = {};
thursdayObj.dayName = "THURSDAY";

var fridayObj = {};
fridayObj.dayName = "FRIDAY";

var saturdayObj = {};
saturdayObj.dayName = "SATURDAY";

var sundayObj = {};
sundayObj.dayName = "SUNDAY";

$scope.companyRequirements.push(mondayObj);
$scope.companyRequirements.push(tuesdayObj);
$scope.companyRequirements.push(wednesdayObj);
$scope.companyRequirements.push(thursdayObj);
$scope.companyRequirements.push(fridayObj);
$scope.companyRequirements.push(saturdayObj);
$scope.companyRequirements.push(sundayObj);

var getCompUrl = getCompanyReqUrl+$routeParams.compId;
$http.get(getCompUrl).then(function(response)
{
  for(var i = 0; i <$scope.companyRequirements.length; i++){
    for(var j = 0; j <response.data.data.requirements.length; j++){
        if($scope.companyRequirements[i].dayName === response.data.data.requirements[j].dayName){
            $scope.companyRequirements[i] = response.data.data.requirements[j];
        }
    }
  }
});

var getCompProfileUrl = getCompanyProfileUrl+$routeParams.compId;
$http.get(getCompProfileUrl).then(function(response)
{
  $scope.cmpyName=response.data.data.company.companyName;
  if(response.data.data.company.breakfast==true){$scope.breakfast_active=true}
  if(response.data.data.company.lunch==true){$scope.lunch_active=true}
  if(response.data.data.company.snacks==true){$scope.snacks_active=true}
  if(response.data.data.company.dinner==true){$scope.dinner_active=true}
  if(response.data.data.company.cashNCarry==true){$scope.cashNCarry_active=true}
});

$rootScope.date = new Date();
var d = new Date();
d.getHours();
d.getMinutes();
d.getSeconds();

var tttime=d.getHours();
$cookies.put('tttime',tttime);
var time = $cookies.get('tttime');

//___________________________________
var dayInt=$scope.date.getDay();
for(var i=0;i<7;i++)
{
  if(dayInt===i)
  {
    $rootScope.finalDay=$scope.dayShow[i];
    // console.log("final day",$scope.finalDay);
    var companyId = $routeParams.compId;
    var getDashboardMenu=getCompanySectionReqUrl+$routeParams.compId;
    // console.log("Final Get API",getDashboardMenu);
    $http.get(getDashboardMenu).then(function(response)
    {
      // console.log("DAY CHECKING",JSON.stringify($scope.finalDay));

      // console.log("check length",response.data.data.menus.length);
      for(var i=0;i<response.data.data.menus.length;i++)
      {
        // console.log("Inside final looooppppp1 length ->",response.data.data.menus.length);
        // console.log("1 , 2, 3",$scope.finalDay,response.data.data.menus[i].dayName, response.data.data.menus[i].menuType);
        //....................................................................
        if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[0]==response.data.data.menus[i].menuType)
        {

          // console.log("",response.data.data.menus[i].menu);

          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.breakfast_item = menu;
          // console.log("Today BREAKFAST-> Successfully match......",$scope.breakfast_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[1]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.lunch_item = menu;
          // console.log("Today LUNCH-> Successfully match......",$scope.lunch_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[2]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.snacks_item = menu;
          // console.log("Today SNACKS-> Successfully match......",$scope.snacks_item);
        }else if($scope.finalDay==response.data.data.menus[i].dayName && $scope.type[3]==response.data.data.menus[i].menuType)
        {
          var menu=JSON.parse(response.data.data.menus[i].menu);
          $scope.dinner_item = menu;
          // console.log("Today DINNER-> Successfully match......",$scope.dinner_item);
        }
        //.....................................................................
      }
  })
  }
  // else {
  // }
}
// $scope.response = {};
// $scope.response.Menutime = ['Breakfast','Lunch','Snacks','Dinner'];
// $scope.response.weekdays = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
//
// $scope.replaceMenu_breakfast = [];
// $scope.replaceMenu_lunch = [];
// $scope.replaceMenu_snacks = [];
// $scope.replaceMenu_dinner = [];

  // $scope.replaceMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
  // {
  //   // console.log("dinner_item",dinner_item);
  //   if(breakfast_item)
  //   {
  //   for(i=0;i<breakfast_item.length;i++)
  //   {
  //     if(breakfast_item[i].checkbox){
  //       if(breakfast_item[i].checkbox === true){
  //         $scope.replaceMenu_breakfast.push(breakfast_item[i])
  //       }
  //     }
  //    }
  //  }
  //  if(lunch_item)
  //  {
  //   for(j=0;j<lunch_item.length;j++)
  //   {
  //     if(lunch_item[j].checkbox){
  //       if(lunch_item[j].checkbox === true){
  //         $scope.replaceMenu_lunch.push(lunch_item[j])
  //       }
  //     }
  //   }
  // }
  // if(snacks_item)
  // {
  //   for(k=0;k<snacks_item.length;k++)
  //   {
  //     if(snacks_item[k].checkbox){
  //       if(snacks_item[k].checkbox === true){
  //         $scope.replaceMenu_snacks.push(snacks_item[k])
  //       }
  //     }
  //   }
  // }
  // if(dinner_item)
  // {
  //   for(l=0;l<dinner_item.length;l++)
  //   {
  //     if(dinner_item[l].checkbox){
  //       if(dinner_item[l].checkbox === true){
  //         $scope.replaceMenu_dinner.push(dinner_item[l])
  //         // console.log("inside dinner");
  //       }
  //     }
  //   }
  // }
  //   $scope.enableStep2();
  // }

$scope.processComplete=function()
{
  $scope.enableStep4();
}

//  $scope.dispatchMenu=function(breakfast_item,lunch_item,snacks_item,dinner_item)
//  {
//
//    console.log("check all dispatch menu: ", breakfast_item,lunch_item,snacks_item,dinner_item);
//    $scope.dispatchMenu_breakfast=$scope.replaceMenu_breakfast;
//    $scope.dispatchMenu_lunch=$scope.replaceMenu_lunch;
//    $scope.dispatchMenu_snacks=$scope.replaceMenu_snacks;
//    $scope.dispatchMenu_dinner=$scope.replaceMenu_dinner;
//
//     if($scope.dispatchMenu_breakfast)
//     {
//        console.log("1. final breakfast item",$scope.dispatchMenu_breakfast,$rootScope.date,companyId,vendorId,$scope.type[0]);
//     }
//     if($scope.dispatchMenu_lunch)
//     {
//        console.log("2. final lunch item",$scope.dispatchMenu_lunch,$rootScope.date,companyId,vendorId,$scope.type[1]);
//     }
//     if($scope.dispatchMenu_snacks)
//     {
//        console.log("3. final snacks item",$scope.dispatchMenu_snacks,$rootScope.date,companyId,vendorId,$scope.type[2]);
//     }
//    if($scope.dispatchMenu_dinner)
//    {
//       console.log("4. final dinner item",$scope.dispatchMenu_dinner,$rootScope.date,companyId,vendorId,$scope.type[3]);
//    }
//
//    $scope.enableStep3();
//
// $scope.checkFunction();
//  }
//
//  $scope.checkFunction=function()
//  {
//    if($scope.enableStep3Bool==true)
//    {
//       $scope.resizeMap(map);
//    }
//  }
// $scope.resizeMap=function(map)
// {
//     setTimeout(function()
//                {
// initMap();
//     google.maps.event.trigger(map, "resize");
//   },50);
// }

  $scope.saveMenu = function(menu,menuType,dayName) {
                    // console.log("menu  ctrl: ", JSON.stringify(menu));
                    var list=JSON.stringify(menu);
                      var companyId = $routeParams.compId;
                      // console.log("out loop menu", menu);


                      menuType = menuType;
                      dayName = dayName;
                      companyId = companyId;

                      // console.log("menuType,dayName,companyId ",menuType,dayName,companyId);
                 sectionService.saveMenu(menuType,dayName,companyId,list,postSaveMenuUrl);
      }

      $scope.deleteVendorMenu = function(index,menu,menuType,dayName) {
        // console.log('menu,menuType,dayName',index,menu,menuType,dayName);
        // console.log('mondayMenuBreakfast before slice length:', $scope.mondayMenuBreakfast.length)
        if(menuType=="BREAKFAST" && dayName== "Monday"){$scope.mondayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.mondayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Tuesday"){$scope.tuesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Wednesday"){$scope.wednesdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Thursday"){$scope.thursdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Friday"){$scope.fridayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.fridayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Saturday"){$scope.saturdayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuBreakfast);}
        if(menuType=="BREAKFAST" && dayName== "Sunday"){$scope.sundayMenuBreakfast.splice(index, 1); var list=JSON.stringify($scope.sundayMenuBreakfast);}

        if(menuType=="LUNCH" && dayName== "Monday"){$scope.mondayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.mondayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Tuesday"){$scope.tuesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Wednesday"){$scope.wednesdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Thursday"){$scope.thursdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Friday"){$scope.fridayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.fridayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Saturday"){$scope.saturdayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuLunch);}
        if(menuType=="LUNCH" && dayName== "Sunday"){$scope.sundayMenuLunch.splice(index, 1); var list=JSON.stringify($scope.sundayMenuLunch);}

        if(menuType=="SNACKS" && dayName== "Monday"){$scope.mondayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.mondayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Tuesday"){$scope.tuesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Wednesday"){$scope.wednesdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Thursday"){$scope.thursdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Friday"){$scope.fridayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.fridayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Saturday"){$scope.saturdayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuSnacks);}
        if(menuType=="SNACKS" && dayName== "Sunday"){$scope.sundayMenuSnacks.splice(index, 1); var list=JSON.stringify($scope.sundayMenuSnacks);}

        if(menuType=="DINNER" && dayName== "Monday"){$scope.mondayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.mondayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Tuesday"){$scope.tuesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.tuesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Wednesday"){$scope.wednesdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.wednesdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Thursday"){$scope.thursdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.thursdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Friday"){$scope.fridayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.fridayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Saturday"){$scope.saturdayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.saturdayMenuDinner);}
        if(menuType=="DINNER" && dayName== "Sunday"){$scope.sundayMenuDinner.splice(index, 1); var list=JSON.stringify($scope.sundayMenuDinner);}


        // var list=JSON.stringify($scope.mondayMenuBreakfast);
        var companyId = $routeParams.compId;
        menuType = menuType;
        dayName = dayName;
        companyId = companyId;
        var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
        $http.get(getCompUrl).then(function(response)
          {
            for(var i = 0; i <response.data.data.menus.length; i++){
              if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              {
                $scope.companyMenuId = response.data.data.menus[i].id;
                // console.log("companyMenuId",$scope.companyMenuId);
                var companyMenuId= $scope.companyMenuId;
                sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
              }
            }
          });

      }

      $scope.updateVendorMenu = function(menu,menuType,dayName) {
                        // console.log("menu",menu);
                        var list=JSON.stringify(menu);
                        // console.log("list",list);
                          var companyId = $routeParams.compId;
                          // console.log("out loop menu", menu);
                          var count = Object.keys(list).length;

                          menuType = menuType;
                          dayName = dayName;
                          companyId = companyId;

                          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
                          $http.get(getCompUrl).then(function(response)
                            {
                              // console.log("response 123",response);
                              for(var i = 0; i <response.data.data.menus.length; i++){
                                  // console.log("response 123",response);
                                if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
                                {
                                  $scope.companyMenuId = response.data.data.menus[i].id;
                                  // console.log("companyMenuId",$scope.companyMenuId);
                                  var companyMenuId= $scope.companyMenuId;
                                  sectionService.updateVendorMenu(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl);
                                }
                              }
                            });
                          }

      // ----------------AUTOMATIC UPDATE COMPANY SECTION DATA In ng-repeat ---------------
      // $scope.companyMenuType = [];
      //
      // var breakfastObj={};
      // breakfastObj.menuType="BREAKFAST";
      // var lunchObj={};
      // lunchObj.menuType="SNACKS";
      // var snacksObj={};
      // snacksObj.menuType="SNACKS";
      // var dinnerObj={};
      // dinnerObj.menuType="DINNER";
      //
      // $scope.companyMenuType.push(breakfastObj);
      // $scope.companyMenuType.push(lunchObj);
      // $scope.companyMenuType.push(snacksObj);
      // $scope.companyMenuType.push(dinnerObj);
      //
      // $scope.companyDayName = [];
      //
      // var mondayObj = {};
      // mondayObj.dayName = "MONDAY";
      //
      // var tuesdayObj = {};
      // tuesdayObj.dayName = "Tuesday";
      //
      // var wednesdayObj = {};
      // wednesdayObj.dayName = "Wednesday";
      //
      // var thursdayObj = {};
      // thursdayObj.dayName = "Thursday";
      //
      // var fridayObj = {};
      // fridayObj.dayName = "Friday";
      //
      // var saturdayObj = {};
      // saturdayObj.dayName = "Saturday";
      //
      // var sundayObj = {};
      // sundayObj.dayName = "Sunday";
      //
      // $scope.companyDayName.push(mondayObj);
      // $scope.companyDayName.push(tuesdayObj);
      // $scope.companyDayName.push(wednesdayObj);
      // $scope.companyDayName.push(thursdayObj);
      // $scope.companyDayName.push(fridayObj);
      // $scope.companyDayName.push(saturdayObj);
      // $scope.companyDayName.push(sundayObj);
      //
      // var getCompanySecUrl=getCompanySectionReqUrl+$routeParams.compId;
      // console.log("in third loop",getCompanySecUrl);
      // $http.get(getCompanySecUrl).then(function(response)
      // {
      //   console.log("response in update check ", JSON.stringify(response));
      //
      //   for(var i = 0; i <$scope.companyMenuType.length; i++){
      //     console.log("in Menu loop");
      //     for(var j = 0; j <$scope.companyDayName.length; j++){
      //       console.log("in second loop");
      //       for(var k = 0; k <response.data.data.menus.length; k++){
      //         console.log("menuType===response-menuType, dayName===response-dayName : ",$scope.companyMenuType[i].menuType,response.data.data.menus[k].menuType,$scope.companyDayName[j].dayName,response.data.data.menus[k].dayName);
      //           if($scope.companyMenuType[i].menuType == response.data.data.menus[k].menuType &&
      //              $scope.companyDayName[j].dayName == response.data.data.menus[k].dayName)
      //           {
      //               // $scope.companyDayName[j] = response.data.data.menus[k];
      //               // $scope.menu = response.data.data.menus[k]
      //               // console.log("companyDayName[j]........... ", $scope.companyDayName[j],$scope.menu);
      //               // // console.log("companyDayName ", JSON.stringify(response.data.data.menus[k]));
      //           }
      //           console.log("out in if condition");
      //         }
      //       }
      //     }
      //   });
// --------------------requirements update from ADMIN dashboard to VENDOR dashboard---------------------------------
$scope.day = ['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY'];

      var getCompUrl = getCompanyReqUrl+$routeParams.compId;
      $http.get(getCompUrl).then(function(response)
      {
        for(var i = 0; i <1; i++){
          for(var j = 0; j <response.data.data.requirements.length; j++){
              if($scope.day[0] == response.data.data.requirements[j].dayName){
                $scope.mon_reqqq=[];

                  $scope.mon_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[1] == response.data.data.requirements[j].dayName){
                $scope.tue_reqqq=[];
                  $scope.tue_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[2] == response.data.data.requirements[j].dayName){
                $scope.wed_reqqq=[];
                  $scope.wed_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[3] == response.data.data.requirements[j].dayName){
                $scope.thu_reqqq=[];
                  $scope.thu_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[4] == response.data.data.requirements[j].dayName){
                $scope.fri_reqqq=[];
                  $scope.fri_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[5] == response.data.data.requirements[j].dayName){
                $scope.sat_reqqq=[];
                  $scope.sat_reqqq.push(response.data.data.requirements[j]);
              }
              if($scope.day[6] == response.data.data.requirements[j].dayName){
                $scope.sun_reqqq=[];
                  $scope.sun_reqqq.push(response.data.data.requirements[j]);
              }
          }
        }
      });
// ----------------AUTOMATIC UPDATE COMPANY SECTION DATA END---------------

  $scope.mondayMenuBreakfast = [
          // {
          //     'dishName':'',
          //     'dishCost':'',
          //     'dishQuantity':''
          // }
        ];
  $scope.addNewMondayBreakfast = function(menu){
    // console.log("menu",menu);
              $scope.mondayMenuBreakfast.push(
                {
                  // 'dishName': "",
                  // 'dishCost': "",
                  // 'dishQuantity': "",
              }
            );
          };

  $scope.removeMondayBreakfast = function(){
    // console.log("mondayMenuBreakfast,menuType,dayName",mondayMenuBreakfast,menuType,dayName);
              var newDataList=[];
              $scope.selectedAll = false;
              angular.forEach($scope.mondayMenuBreakfast, function(selected){
                  if(!selected.selected){
                      newDataList.push(selected);
                  }
              });
              $scope.mondayMenuBreakfast = newDataList;
              // -----------------------------------------------------------
              // var list=JSON.stringify(menu);
              // console.log("list",list);
              //   var companyId = $routeParams.compId;
              //   var count = Object.keys(list).length;
              //
              //   menuType = menuType;
              //   dayName = dayName;
              //   companyId = companyId;
              //
              //   var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
              //   $http.get(getCompUrl).then(function(response)
              //     {
              //       // console.log("response 123",response);
              //       for(var i = 0; i <response.data.data.menus.length; i++){
              //           // console.log("response 123",response);
              //         if(menuType==response.data.data.menus[i].menuType && dayName==response.data.data.menus[i].dayName)
              //         {
              //           $scope.companyMenuId = response.data.data.menus[i].id;
              //           console.log("companyMenuId",$scope.companyMenuId);
              //           var companyMenuId= $scope.companyMenuId;
              //           sectionService.deleteVendorMenu(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl);
              //         }
              //       }
              //     });
              // -----------------------------------------------------------
          };

$scope.tuesdayMenuBreakfast = [];
$scope.addNewTuesdayBreakfast = function(menu){
            $scope.tuesdayMenuBreakfast.push(
              {

              }
          );
        };
$scope.removeTuesdayBreakfast = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.tuesdayMenuBreakfast, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.tuesdayMenuBreakfast = newDataList;
        };

$scope.wednesdayMenuBreakfast = [];
$scope.addNewWednesdayBreakfast = function(menu){
                    $scope.wednesdayMenuBreakfast.push(
                      {

                      }
                  );
                };
$scope.removeWednesdayBreakfast = function(){
                    var newDataList=[];
                    $scope.selectedAll = false;
                    angular.forEach($scope.wednesdayMenuBreakfast, function(selected){
                        if(!selected.selected){
                            newDataList.push(selected);
                        }
                    });
                    $scope.wednesdayMenuBreakfast = newDataList;
                };
$scope.thursdayMenuBreakfast = [];
$scope.addNewThursdayBreakfast = function(menu){
                                    $scope.thursdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeThursdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.thursdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.thursdayMenuBreakfast = newDataList;
};
$scope.fridayMenuBreakfast = [];
$scope.addNewFridayBreakfast = function(menu){
                                    $scope.fridayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeFridayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.fridayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.fridayMenuBreakfast = newDataList;
};
$scope.saturdayMenuBreakfast = [];
$scope.addNewSaturdayBreakfast = function(menu){
                                    $scope.saturdayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSaturdayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.saturdayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.saturdayMenuBreakfast = newDataList;
};
$scope.sundayMenuBreakfast = [];
$scope.addNewSundayBreakfast = function(menu){
                                    $scope.sundayMenuBreakfast.push(
                                      {

                                      }
                                  );
                                };
$scope.removeSundayBreakfast = function(){
                                    var newDataList=[];
                                    $scope.selectedAll = false;
                                    angular.forEach($scope.sundayMenuBreakfast, function(selected){
                                        if(!selected.selected){
                                            newDataList.push(selected);
                                        }
                                    });
                                    $scope.sundayMenuBreakfast = newDataList;
};
$scope.mondayMenuLunch = [];

$scope.addNewMondayLunch = function(menu){
            $scope.mondayMenuLunch.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayLunch = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuLunch, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuLunch = newDataList;
        };

$scope.tuesdayMenuLunch = [];
$scope.addNewTuesdayLunch = function(menu){
          $scope.tuesdayMenuLunch.push(
            {

            }
        );
      };
$scope.removeTuesdayLunch = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuLunch, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuLunch = newDataList;
      };

$scope.wednesdayMenuLunch = [];
$scope.addNewWednesdayLunch = function(menu){
                  $scope.wednesdayMenuLunch.push(
                    {

                    }
                );
              };
$scope.removeWednesdayLunch = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuLunch, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuLunch = newDataList;
              };
$scope.thursdayMenuLunch = [];
$scope.addNewThursdayLunch = function(menu){
                                  $scope.thursdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuLunch = newDataList;
};
$scope.fridayMenuLunch = [];
$scope.addNewFridayLunch = function(menu){
                                  $scope.fridayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuLunch = newDataList;
};
$scope.saturdayMenuLunch = [];
$scope.addNewSaturdayLunch = function(menu){
                                  $scope.saturdayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuLunch = newDataList;
};
$scope.sundayMenuLunch = [];
$scope.addNewSundayLunch = function(menu){
                                  $scope.sundayMenuLunch.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayLunch = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuLunch, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuLunch = newDataList;
};
$scope.mondayMenuSnacks = [];

$scope.addNewMondaySnacks = function(menu){
            $scope.mondayMenuSnacks.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondaySnacks = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuSnacks, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuSnacks = newDataList;
        };

$scope.tuesdayMenuSnacks = [];
$scope.addNewTuesdaySnacks = function(menu){
          $scope.tuesdayMenuSnacks.push(
            {

            }
        );
      };
$scope.removeTuesdaySnacks = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuSnacks, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuSnacks = newDataList;
      };

$scope.wednesdayMenuSnacks = [];
$scope.addNewWednesdaySnacks = function(menu){
                  $scope.wednesdayMenuSnacks.push(
                    {

                    }
                );
              };
$scope.removeWednesdaySnacks = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuSnacks, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuSnacks = newDataList;
              };
$scope.thursdayMenuSnacks = [];
$scope.addNewThursdaySnacks = function(menu){
                                  $scope.thursdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuSnacks = newDataList;
};
$scope.fridayMenuSnacks = [];
$scope.addNewFridaySnacks = function(menu){
                                  $scope.fridayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuSnacks = newDataList;
};
$scope.saturdayMenuSnacks = [];
$scope.addNewSaturdaySnacks = function(menu){
                                  $scope.saturdayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuSnacks = newDataList;
};
$scope.sundayMenuSnacks = [];
$scope.addNewSundaySnacks = function(menu){
                                  $scope.sundayMenuSnacks.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundaySnacks = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuSnacks, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuSnacks = newDataList;
};
$scope.mondayMenuDinner = [];

$scope.addNewMondayDinner = function(menu){
            $scope.mondayMenuDinner.push(
              {
                'dishName': "",
                'dishCost': "",
                'dishQuantity': "",
            }
          );
        };

$scope.removeMondayDinner = function(){
            var newDataList=[];
            $scope.selectedAll = false;
            angular.forEach($scope.mondayMenuDinner, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.mondayMenuDinner = newDataList;
        };

$scope.tuesdayMenuDinner = [];
$scope.addNewTuesdayDinner = function(menu){
          $scope.tuesdayMenuDinner.push(
            {

            }
        );
      };
$scope.removeTuesdayDinner = function(){
          var newDataList=[];
          $scope.selectedAll = false;
          angular.forEach($scope.tuesdayMenuDinner, function(selected){
              if(!selected.selected){
                  newDataList.push(selected);
              }
          });
          $scope.tuesdayMenuDinner = newDataList;
      };

$scope.wednesdayMenuDinner = [];
$scope.addNewWednesdayDinner = function(menu){
                  $scope.wednesdayMenuDinner.push(
                    {

                    }
                );
              };
$scope.removeWednesdayDinner = function(){
                  var newDataList=[];
                  $scope.selectedAll = false;
                  angular.forEach($scope.wednesdayMenuDinner, function(selected){
                      if(!selected.selected){
                          newDataList.push(selected);
                      }
                  });
                  $scope.wednesdayMenuDinner = newDataList;
              };
$scope.thursdayMenuDinner = [];
$scope.addNewThursdayDinner = function(menu){
                                  $scope.thursdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeThursdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.thursdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.thursdayMenuDinner = newDataList;
};
$scope.fridayMenuDinner = [];
$scope.addNewFridayDinner = function(menu){
                                  $scope.fridayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeFridayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.fridayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.fridayMenuDinner = newDataList;
};
$scope.saturdayMenuDinner = [];
$scope.addNewSaturdayDinner = function(menu){
                                  $scope.saturdayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSaturdayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.saturdayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.saturdayMenuDinner = newDataList;
};
$scope.sundayMenuDinner = [];
$scope.addNewSundayDinner = function(menu){
                                  $scope.sundayMenuDinner.push(
                                    {

                                    }
                                );
                              };
$scope.removeSundayDinner = function(){
                                  var newDataList=[];
                                  $scope.selectedAll = false;
                                  angular.forEach($scope.sundayMenuDinner, function(selected){
                                      if(!selected.selected){
                                          newDataList.push(selected);
                                      }
                                  });
                                  $scope.sundayMenuDinner = newDataList;
};
//................................default bool.............................................
$scope.cashCarryMonday=function(){
  $location.path('/dashboard/company/'+$scope.cId+'/monday');
}
$scope.cashCarryWednesday=function(){
$scope.cashAndCarryBool=true;
$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.requirementsBool=false;
}

$scope.bBool=false;
$scope.lBool=false;
$scope.sBool=false;
$scope.dBool=false;

              $scope.addDeliveryBool=false;
              $scope.addMenuBool=false;
              $scope.breakfastBool=false;
              $scope.lunchBool=false;
              $scope.snacksBool=false;
              $scope.dinnerBool=false;
              $scope.enableStep1Bool=false;
              $scope.enableStep2Bool=false;
              $scope.enableStep3Bool=false;
              $scope.enableStep4Bool=false;
              $rootScope.barBool = false;
              $scope.cashAndCarryBool=false;
              $scope.requirementsBool=false;
              $timeout( function(){
                $scope.cashAndCarryBool=true;
        },1000);

//------TIME SHEDUAL-- for default----start--------
              if(6<time && 12>time){
                // console.log("in breakfast time");
                $scope.breakfastBool=true;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(12<=time && 15>time){
                // console.log("in lunch time");
                $scope.breakfastBool=false;
                $scope.lunchBool=true;
                $scope.snacksBool=false;
                $scope.dinnerBool=false;
              }else if(15<=time && 20>time){
                // console.log("in snacks time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=true;
                $scope.dinnerBool=false;
              }else{
                // console.log("in dinner time");
                $scope.breakfastBool=false;
                $scope.lunchBool=false;
                $scope.snacksBool=false;
                $scope.dinnerBool=true;
              }
//------TIME SHEDUAL-- for default----end--------
$scope.enableBBool=function()
{
  $scope.bBool=true;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableLBool=function()
{
  $scope.bBool=false;
  $scope.lBool=true;
  $scope.sBool=false;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableSBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=true;
  $scope.dBool=false;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableDBool=function()
{
  $scope.bBool=false;
  $scope.lBool=false;
  $scope.sBool=false;
  $scope.dBool=true;

  $scope.cashAndCarryBool=false;
  $scope.addDeliveryBool=false;
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;

  $scope.step1Bool=false;
  $scope.step2Bool=false;
  $scope.step3Bool=false;

  $scope.addMenuBool=false;
  $scope.breakfastBool=false;
  $scope.lunchBool=false;
  $scope.snacksBool=false;
  $scope.dinnerBool=false;

  $scope.cashAndCarryBool=false;
  $scope.requirementsBool=false;
}
$scope.enableStep1= function(){
  $scope.enableStep1Bool=true;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
}
$scope.enableStep2= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=true;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=false;
  $scope.step1Bool=true;
}
$scope.enableStep3= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=true;

  $scope.enableStep4Bool=false;
  $scope.step2Bool=true;
}
$scope.enableStep4= function(){
  $scope.enableStep1Bool=false;
  $scope.enableStep2Bool=false;
  $scope.enableStep3Bool=false;
  $scope.enableStep4Bool=true;
  $scope.step3Bool=true;
}

  $scope.enableDeliverySection = function(){
    $scope.cashAndCarryBool=false;
    $scope.addDeliveryBool=true;
    $scope.enableStep1Bool=true;
    $scope.enableStep2Bool=false;
    $scope.enableStep3Bool=false;
    $scope.enableStep4Bool=false;

    $scope.step1Bool=false;
    $scope.step2Bool=false;
    $scope.step3Bool=false;

    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;

    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;

//------TIME SHEDUAL-- for deleivery section----start--------
    // var d = new Date();
    // d.getHours();
    // d.getMinutes();
    // d.getSeconds();
    //
    // var tttime=d.getHours();
    // $cookies.put('tttime',tttime);
    // var time = $cookies.get('tttime');
    // // console.log("Time",time);
    //   if(6<time && 12>time){
    //     // console.log("in breakfast time");
    //     $scope.breakfastBool=true;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(12<=time && 15>time){
    //     // console.log("in lunch time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=true;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=false;
    //   }else if(15<=time && 20>time){
    //     // console.log("in snacks time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=true;
    //     $scope.dinnerBool=false;
    //   }else{
    //     console.log("in dinner time");
    //     $scope.breakfastBool=false;
    //     $scope.lunchBool=false;
    //     $scope.snacksBool=false;
    //     $scope.dinnerBool=true;
    //   }
  //------TIME SHEDUAL-- for deleivery section----end--------

initMap();
  }
  $scope.enableCashAndCarry = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=true;
    $scope.requirementsBool=false;
  }
  $scope.enableRequirements = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=true;
    }
  $scope.enableMenuSection = function(){
    $scope.bBool=false;
    $scope.lBool=false;
    $scope.sBool=false;
    $scope.dBool=false;

    $scope.addDeliveryBool=false;
    $scope.addMenuBool=true;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
    $scope.cashAndCarryBool=false;
    $scope.requirementsBool=false;
  }
  $scope.enableBreakfast = function(){
    $scope.breakfastBool=true;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableLunch = function(){
    $scope.breakfastBool=false;
    $scope.lunchBool=true;
    $scope.snacksBool=false;
    $scope.dinnerBool=false;
  }
  $scope.enableSnacks = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=true;
    $scope.dinnerBool=false;
  }
  $scope.enableDinner = function(){
    // $scope.addDeliveryBool=false;
    // $scope.addMenuBool=false;
    $scope.breakfastBool=false;
    $scope.lunchBool=false;
    $scope.snacksBool=false;
    $scope.dinnerBool=true;
  }
  // -------UPDATE ALL(breakfast, lunch, snacks, dinner) MENU from backend-----------------------------
          var getCompUrl = getDashboardMenuUrl+$routeParams.compId;
          $http.get(getCompUrl).then(function(response)
          {
            // console.log("response ", JSON.stringify(response));
              for(var j = 0; j <response.data.data.menus.length; j++){
                // console.log("in second loop",response.data.data.menus.length);
                // console.log("1,2,3,4",$scope.type[0],response.data.data.menus[j].menuType,$scope.daysss[0],response.data.data.menus[j].dayName);
                $rootScope.buttonBool=false;
                  if($scope.type[0] === response.data.data.menus[j].menuType &&
                    $scope.daysss[0] === response.data.data.menus[j].dayName)
                    {
                      var menu = JSON.parse(response.data.data.menus[j].menu);
                      // console.log("menu check...........",menu);
                      $rootScope.buttonBool=true;
                      for(var k = 0; k<menu.length; k++)
                      {
                      // console.log("Inside if condition",menu[k]);
                      $scope.mondayMenuBreakfast.push(menu[k]);
                        // console.log($scope.mondayMenuBreakfast);
                    }
                    }
                    if($scope.type[0] === response.data.data.menus[j].menuType &&
                      $scope.daysss[1] === response.data.data.menus[j].dayName)
                      {
                        var menu = JSON.parse(response.data.data.menus[j].menu);
                        // console.log("menu check...........",menu.length);
                        for(var k = 0; k<menu.length; k++)
                        {
                        //  console.log("Inside if ----- condition",menu.length);
                        $scope.tuesdayMenuBreakfast.push(menu[k]);
                          // console.log($scope.mondayMenuBreakfast);
                      }
                      }
                      if($scope.type[0] === response.data.data.menus[j].menuType &&
                        $scope.daysss[2] === response.data.data.menus[j].dayName)
                        {
                          var menu = JSON.parse(response.data.data.menus[j].menu);
                          // console.log("menu check...........",menu.length);
                          for(var k = 0; k<menu.length; k++)
                          {
                          // console.log("Inside if condition",menu[k]);
                          $scope.wednesdayMenuBreakfast.push(menu[k]);
                            // console.log($scope.mondayMenuBreakfast);
                        }
                        }
                        if($scope.type[0] === response.data.data.menus[j].menuType &&
                          $scope.daysss[3] === response.data.data.menus[j].dayName)
                          {
                            var menu = JSON.parse(response.data.data.menus[j].menu);
                            // console.log("menu check...........",menu.length);
                            for(var k = 0; k<menu.length; k++)
                            {
                            // console.log("Inside if condition",menu[k]);
                            $scope.thursdayMenuBreakfast.push(menu[k]);
                              // console.log($scope.mondayMenuBreakfast);
                          }
                          }
                          if($scope.type[0] === response.data.data.menus[j].menuType &&
                            $scope.daysss[4] === response.data.data.menus[j].dayName)
                            {
                              var menu = JSON.parse(response.data.data.menus[j].menu);
                              // console.log("menu check...........",menu.length);
                              for(var k = 0; k<menu.length; k++)
                              {
                              // console.log("Inside if condition",menu[k]);
                              $scope.fridayMenuBreakfast.push(menu[k]);
                                // console.log($scope.mondayMenuBreakfast);
                            }
                            }
                            if($scope.type[0] === response.data.data.menus[j].menuType &&
                              $scope.daysss[5] === response.data.data.menus[j].dayName)
                              {
                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                // console.log("menu check...........",menu.length);
                                for(var k = 0; k<menu.length; k++)
                                {
                                // console.log("Inside if condition",menu[k]);
                                $scope.saturdayMenuBreakfast.push(menu[k]);
                                  // console.log($scope.mondayMenuBreakfast);
                              }
                              }
                              if($scope.type[0] === response.data.data.menus[j].menuType &&
                                $scope.daysss[6] === response.data.data.menus[j].dayName)
                                {
                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                  // console.log("menu check...........",menu.length);
                                  for(var k = 0; k<menu.length; k++)
                                  {
                                  // console.log("Inside if condition",menu[k]);
                                  $scope.sundayMenuBreakfast.push(menu[k]);
                                    // console.log($scope.mondayMenuBreakfast);
                                }
                                }
                                if($scope.type[1] === response.data.data.menus[j].menuType &&
                                  $scope.daysss[0] === response.data.data.menus[j].dayName)
                                  {
                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                    // console.log("menu check...........",menu.length);
                                    for(var k = 0; k<menu.length; k++)
                                    {
                                    // console.log("Inside if condition",menu[k]);
                                    $scope.mondayMenuLunch.push(menu[k]);
                                      // console.log($scope.mondayMenuBreakfast);
                                  }
                                  }
                                  if($scope.type[1] === response.data.data.menus[j].menuType &&
                                    $scope.daysss[1] === response.data.data.menus[j].dayName)
                                    {
                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                      // console.log("menu check...........",menu.length);
                                      for(var k = 0; k<menu.length; k++)
                                      {
                                      //  console.log("Inside if ----- condition",menu.length);
                                      $scope.tuesdayMenuLunch.push(menu[k]);
                                        // console.log($scope.mondayMenuBreakfast);
                                    }
                                    }
                                    if($scope.type[1] === response.data.data.menus[j].menuType &&
                                      $scope.daysss[2] === response.data.data.menus[j].dayName)
                                      {
                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                        // console.log("menu check...........",menu.length);
                                        for(var k = 0; k<menu.length; k++)
                                        {
                                        // console.log("Inside if condition",menu[k]);
                                        $scope.wednesdayMenuLunch.push(menu[k]);
                                          // console.log($scope.mondayMenuBreakfast);
                                      }
                                      }
                                      if($scope.type[1] === response.data.data.menus[j].menuType &&
                                        $scope.daysss[3] === response.data.data.menus[j].dayName)
                                        {
                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                          // console.log("menu check...........",menu.length);
                                          for(var k = 0; k<menu.length; k++)
                                          {
                                          // console.log("Inside if condition",menu[k]);
                                          $scope.thursdayMenuLunch.push(menu[k]);
                                            // console.log($scope.mondayMenuBreakfast);
                                        }
                                        }
                                        if($scope.type[1] === response.data.data.menus[j].menuType &&
                                          $scope.daysss[4] === response.data.data.menus[j].dayName)
                                          {
                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                            // console.log("menu check...........",menu.length);
                                            for(var k = 0; k<menu.length; k++)
                                            {
                                            // console.log("Inside if condition",menu[k]);
                                            $scope.fridayMenuLunch.push(menu[k]);
                                              // console.log($scope.mondayMenuBreakfast);
                                          }
                                          }
                                          if($scope.type[1] === response.data.data.menus[j].menuType &&
                                            $scope.daysss[5] === response.data.data.menus[j].dayName)
                                            {
                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                              // console.log("menu check...........",menu.length);
                                              for(var k = 0; k<menu.length; k++)
                                              {
                                              // console.log("Inside if condition",menu[k]);
                                              $scope.saturdayMenuLunch.push(menu[k]);
                                                // console.log($scope.mondayMenuBreakfast);
                                            }
                                            }
                                            if($scope.type[1] === response.data.data.menus[j].menuType &&
                                              $scope.daysss[6] === response.data.data.menus[j].dayName)
                                              {
                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                // console.log("menu check...........",menu.length);
                                                for(var k = 0; k<menu.length; k++)
                                                {
                                                // console.log("Inside if condition",menu[k]);
                                                $scope.sundayMenuLunch.push(menu[k]);
                                                  // console.log($scope.mondayMenuBreakfast);
                                              }
                                              }
                                              if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                {
                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                  // console.log("menu check...........",menu.length);
                                                  for(var k = 0; k<menu.length; k++)
                                                  {
                                                  // console.log("Inside if condition",menu[k]);
                                                  $scope.mondayMenuSnacks.push(menu[k]);
                                                    // console.log($scope.mondayMenuBreakfast);
                                                }
                                                }
                                                if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                  $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                  {
                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                    // console.log("menu check...........",menu.length);
                                                    for(var k = 0; k<menu.length; k++)
                                                    {
                                                    //  console.log("Inside if ----- condition",menu.length);
                                                    $scope.tuesdayMenuSnacks.push(menu[k]);
                                                      // console.log($scope.mondayMenuBreakfast);
                                                  }
                                                  }
                                                  if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                    $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                    {
                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                      console.log("menu check...........",menu.length);
                                                      for(var k = 0; k<menu.length; k++)
                                                      {
                                                      // console.log("Inside if condition",menu[k]);
                                                      $scope.wednesdayMenuSnacks.push(menu[k]);
                                                        // console.log($scope.mondayMenuBreakfast);
                                                    }
                                                    }
                                                    if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                      $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                      {
                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                        // console.log("menu check...........",menu.length);
                                                        for(var k = 0; k<menu.length; k++)
                                                        {
                                                        // console.log("Inside if condition",menu[k]);
                                                        $scope.thursdayMenuSnacks.push(menu[k]);
                                                          // console.log($scope.mondayMenuBreakfast);
                                                      }
                                                      }
                                                      if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                        $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                        {
                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                          // console.log("menu check...........",menu.length);
                                                          for(var k = 0; k<menu.length; k++)
                                                          {
                                                          // console.log("Inside if condition",menu[k]);
                                                          $scope.fridayMenuSnacks.push(menu[k]);
                                                            // console.log($scope.mondayMenuBreakfast);
                                                        }
                                                        }
                                                        if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                          $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                          {
                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                            // console.log("menu check...........",menu.length);
                                                            for(var k = 0; k<menu.length; k++)
                                                            {
                                                            // console.log("Inside if condition",menu[k]);
                                                            $scope.saturdayMenuSnacks.push(menu[k]);
                                                              // console.log($scope.mondayMenuBreakfast);
                                                          }
                                                          }
                                                          if($scope.type[2] === response.data.data.menus[j].menuType &&
                                                            $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                            {
                                                              var menu = JSON.parse(response.data.data.menus[j].menu);
                                                              // console.log("menu check...........",menu.length);
                                                              for(var k = 0; k<menu.length; k++)
                                                              {
                                                              // console.log("Inside if condition",menu[k]);
                                                              $scope.sundayMenuSnacks.push(menu[k]);
                                                                // console.log($scope.mondayMenuBreakfast);
                                                            }
                                                            }
                                                            if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                              $scope.daysss[0] === response.data.data.menus[j].dayName)
                                                              {
                                                                var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                // console.log("menu check...........",menu.length);
                                                                for(var k = 0; k<menu.length; k++)
                                                                {
                                                                // console.log("Inside if condition",menu[k]);
                                                                $scope.mondayMenuDinner.push(menu[k]);
                                                                  // console.log($scope.mondayMenuBreakfast);
                                                              }
                                                              }
                                                              if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                $scope.daysss[1] === response.data.data.menus[j].dayName)
                                                                {
                                                                  var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                  // console.log("menu check...........",menu.length);
                                                                  for(var k = 0; k<menu.length; k++)
                                                                  {
                                                                  //  console.log("Inside if ----- condition",menu.length);
                                                                  $scope.tuesdayMenuDinner.push(menu[k]);
                                                                    // console.log($scope.mondayMenuBreakfast);
                                                                }
                                                                }
                                                                if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                  $scope.daysss[2] === response.data.data.menus[j].dayName)
                                                                  {
                                                                    var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                    // console.log("menu check...........",menu.length);
                                                                    for(var k = 0; k<menu.length; k++)
                                                                    {
                                                                    // console.log("Inside if condition",menu[k]);
                                                                    $scope.wednesdayMenuDinner.push(menu[k]);
                                                                      // console.log($scope.mondayMenuBreakfast);
                                                                  }
                                                                  }
                                                                  if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                    $scope.daysss[3] === response.data.data.menus[j].dayName)
                                                                    {
                                                                      var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                      // console.log("menu check...........",menu.length);
                                                                      for(var k = 0; k<menu.length; k++)
                                                                      {
                                                                      // console.log("Inside if condition",menu[k]);
                                                                      $scope.thursdayMenuDinner.push(menu[k]);
                                                                        // console.log($scope.mondayMenuBreakfast);
                                                                    }
                                                                    }
                                                                    if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                      $scope.daysss[4] === response.data.data.menus[j].dayName)
                                                                      {
                                                                        var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                        // console.log("menu check...........",menu.length);
                                                                        for(var k = 0; k<menu.length; k++)
                                                                        {
                                                                        // console.log("Inside if condition",menu[k]);
                                                                        $scope.fridayMenuDinner.push(menu[k]);
                                                                          // console.log($scope.mondayMenuBreakfast);
                                                                      }
                                                                      }
                                                                      if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                        $scope.daysss[5] === response.data.data.menus[j].dayName)
                                                                        {
                                                                          var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                          // console.log("menu check...........",menu.length);
                                                                          for(var k = 0; k<menu.length; k++)
                                                                          {
                                                                          // console.log("Inside if condition",menu[k]);
                                                                          $scope.saturdayMenuDinner.push(menu[k]);
                                                                            // console.log($scope.mondayMenuBreakfast);
                                                                        }
                                                                        }
                                                                        if($scope.type[3] === response.data.data.menus[j].menuType &&
                                                                          $scope.daysss[6] === response.data.data.menus[j].dayName)
                                                                          {
                                                                            var menu = JSON.parse(response.data.data.menus[j].menu);
                                                                            // console.log("menu check...........",menu.length);
                                                                            for(var k = 0; k<menu.length; k++)
                                                                            {
                                                                            // console.log("Inside if condition",menu[k]);
                                                                            $scope.sundayMenuDinner.push(menu[k]);
                                                                              // console.log($scope.mondayMenuBreakfast);
                                                                          }
                                                                          }

            }
          });

  // // ------------------------------------------------------------------------
}
}]);

// vmApp.factory('sectionService',['$http','$rootScope','$route','$httpParamSerializerJQLike','$location','Notification','addmenuUrl',
// function($http,$rootScope,$route,$httpParamSerializerJQLike,$location,Notification,addmenuUrl){
//   return {
//     saveMenu: function(menuType,dayName,companyId,list,postSaveMenuUrl)
//     {
//       // console.log("in sarvice file : ", companyId);
//       var rest = JSON.parse(JSON.stringify(list));
//       // console.log("rest : ", rest);
//       var jsonObj = {};
//       jsonObj.companyId = parseInt(companyId);
//       jsonObj.menu = rest;
//       jsonObj.menuType = menuType;
//       jsonObj.dayName = dayName;
// // console.log("menu checkkkkk in saveMenu function in srv file : ", jsonObj);
// // $route.reload();
// // console.log('response', JSON.stringify(response));
//
//         // console.log("menu json made : ", jsonObj);
//         $http({
//           method: 'POST',
//           url: postSaveMenuUrl,
//           headers: {
//               'Content-Type': 'application/x-www-form-urlencoded',
//           },
//           data: $httpParamSerializerJQLike(jsonObj)
//       }).then(function(response) {
//
//           // console.log('response', JSON.stringify(response));
//           if (response.data.status == 1) {
//             $rootScope.buttonBool=true;
//               // Notification.success('Successfully Ragistered Menu');
//               // $route.reload();
//           } else {
//             $rootScope.buttonBool=false;
//               Notification.error('Error');
//               $route.reload();
//           }
//       })
//     },
// // cash and carry menu start
//     submitMenu: function(menuNodes, rmId) {
//         // console.log("yo we are in service module bro id",menuNodes,rmId);
//         // console.log("menu node passed here", menuNodes);
//         var menu = {};
//         menu.menu = menuNodes;
//         menu.restaurantId = rmId;
//
//         // console.log("made json : - ", JSON.stringify(menu));
//         $http({
//             method: 'POST',
//             url: addmenuUrl,
//             headers: {
//                 'Content-Type': 'application/x-www-form-urlencoded',
//             },
//             data: $httpParamSerializerJQLike(menu)
//         }).then(function(response) {
//             //console.log('response', response);
//             if (response.data.status == 1) {
//                 //console.log('Successfully added menu in db');
//             } else {
//                 //console.log('error adding menu');
//             }
//         });
//       },
// // cash and carry menu end
//         deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postDeleteMenuUrl)
//         {
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         },
//
//         updateVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl,postDeleteMenuUrl)
//         {
//           // console.log("list=========",list);
//           var count = Object.keys(list).length;
//           // console.log("count....",count);
//
//         if(count==2)
//         {
//           // console.log("check ---> companyMenuId,postDeleteMenuUrl",companyMenuId,postDeleteMenuUrl);
//           var jsonObj = {};
//           jsonObj.companyMenuId = parseInt(companyMenuId);
//
//               $http({
//                 method: 'POST',
//                 url: postDeleteMenuUrl,
//                 headers: {
//                     'Content-Type': 'application/x-www-form-urlencoded',
//                 },
//                 data: $httpParamSerializerJQLike(jsonObj)
//             })
//             .then(function(response) {
//
//                 // console.log('response', JSON.stringify(response));
//                 if (response.data.status == 1) {
//                     // console.log('Successfully menu deleted ');
//                     Notification.success('Successfully Menu Deleted');
//                     // $scope.saveBool=true;
//                     // $scope.updateBool=false;
//                     $rootScope.buttonBool=false;
//
//                 } else {
//                     // console.log('error registering');
//                     $rootScope.buttonBool=true;
//                     Notification.error('Error Could not delete');
//                     // $route.reload();
//                 }
//             })
//         }else{
//           // console.log("length > 0");
//           // console.log("list-< : ", len);
//           var rest = JSON.parse(JSON.stringify(list));
//           // console.log("rest : ", rest);
//
//           var jsonObj = {};
//           jsonObj.companyId = parseInt(companyId);
//           jsonObj.menu = rest;
//           jsonObj.menuType = menuType;
//           jsonObj.dayName = dayName;
//           jsonObj.companyMenuId = companyMenuId;
//         // console.log("menu checkkkkk : ", jsonObj);
//
//             $http({
//               method: 'POST',
//               url: postUpdateSaveMenuUrl,
//               headers: {
//                   'Content-Type': 'application/x-www-form-urlencoded',
//               },
//               data: $httpParamSerializerJQLike(jsonObj)
//           })
//           .then(function(response) {
//
//               // console.log('response', JSON.stringify(response));
//               if (response.data.status == 1) {
//                   // console.log('Successfully registered ');
//                   $rootScope.buttonBool=true;
//                   Notification.success('Successfully Menu Updated');
//                   // $route.reload();
//               } else {
//                   // console.log('error registering');
//                   $rootScope.buttonBool=false;
//                   Notification.error('Error Could not updated');
//                   // $route.reload();
//               }
//           })
//             }
//           }
//             // update menu end
//
//             // deleteVendorMenu: function(menuType,dayName,companyId,list,companyMenuId,postUpdateSaveMenuUrl)
//             // {
//             //   var rest = JSON.parse(JSON.stringify(list));
//             //   console.log("rest : ", rest);
//             //   var jsonObj = {};
//             //   jsonObj.companyId = parseInt(companyId);
//             //   jsonObj.menu = rest;
//             //   jsonObj.menuType = menuType;
//             //   jsonObj.dayName = dayName;
//             //   jsonObj.companyMenuId = companyMenuId;
//             // console.log("menu checkkkkk : ", jsonObj);
//             //
//             //     console.log("menu json made : ", jsonObj);
//             //     $http({
//             //       method: 'POST',
//             //       url: postUpdateSaveMenuUrl,
//             //       headers: {
//             //           'Content-Type': 'application/x-www-form-urlencoded',
//             //       },
//             //       data: $httpParamSerializerJQLike(jsonObj)
//             //   })
//             //   .then(function(response) {
//             //
//             //       console.log('response', JSON.stringify(response));
//             //       if (response.data.status == 1) {
//             //           console.log('Successfully delete ');
//             //           Notification.success('Successfully Menu Updated');
//             //       } else {
//             //           console.log('error registering');
//             //           Notification.error('Error Could not updated');
//             //           $route.reload();
//             //       }
//             //   })
//                 // }
//                 // delete menu end
//
//
//       }
//     }
// ]);
//
// // cash and carry factory method's start
// vmApp.factory('saveMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'addmenuUrl', 'Notification', '$q', 'updateMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, addmenuUrl, Notification, $q, updateMenuUrl) {
//         return {
//             submitMenu: function(node, rId, cId, dayName) {
//                 // console.log("1. yo we are in service module bro");
//                 // console.log("2. menu node passed here", node, rId, cId, dayName);
//                 var menu = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menu.menu = {
//                 //     uid: node.uid,
//                 //     menuName: node.menuName,
//                 //     isFoodItem: node.isFoodItem,
//                 //     // isEgg: node.isEgg,
//                 //     // isVeg: node.isVeg,
//                 //     // isNonVeg: node.isNonVeg,
//                 //     menuType: node.menuType,
//                 //     price: node.price,
//                 //     description: node.description,
//                 //     parentNodeId: node.parentNodeId
//                 // };
//                 menu.vendorId = parseInt(rId);
//                 menu.companyId = parseInt(cId);
//                 menu.dayName = dayName;
//                 menu.menuName = node.menuName;
//                 menu.uid = node.uid;
//                 menu.isFoodItem = node.isFoodItem;
//                 menu.menuType = node.menuType;
//                 menu.price = node.price;
//                 menu.description = node.description;
//                 menu.parentNodeId = node.parentNodeId;
//
//                 // console.log("made final json : - ", JSON.stringify(menu));
//                 $http({
//                     method: 'POST',
//                     url: addmenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menu)
//                 }).then(function(response) {
//                     // console.log('response------->', response);
//                     if (response.data.status == 1) {
//                         // console.log('Successfully added menu in db',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully saved menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error adding menu');
//                         deferred.reject(null);
//                         Notification.error('Error in saving menu item');
//                     }
//                 });
//
//                 return respMenuJson;
//             }
//         }
//     }
// ]);
//
// vmApp.factory('updateMenuService', ['$http', '$httpParamSerializerJQLike', '$location', 'Notification', '$q', 'updateMenuUrl','deleteMenuUrl',
//     function($http, $httpParamSerializerJQLike, $location, Notification, $q, updateMenuUrl,deleteMenuUrl) {
//         return {
//             updateMenu: function(node, rId) {
//                 // console.log("menu node passed here 123", node);
//                 var menuForUpdate = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 menuForUpdate = {
//                     uid: node.uid,
//                     menuName: node.menuName,
//                     isFoodItem: node.isFoodItem,
//                     isEgg: node.isEgg,
//                     isVeg: node.isVeg,
//                     isAlcohol: node.isAlcohol,
//                     menuType : node.menuType,
//                     price: node.price,
//                     description: node.description,
//                     parentNodeId: node.parentNodeId
//                 };
//                 menuForUpdate.restaurantId = rId;
//
//                 // menu.vendorId = parseInt(rId);
//                 // menu.companyId = parseInt(cId);
//                 // menu.dayName = dayName;
//                 // menu.menuType = node.menuType;
//
//
//                 //  tryCheck = JSON.stringify(menuForUpdate.menu.uid);
//                 // console.log("made json 2.5 : - ",JSON.stringify(menuForUpdate));
//
//                 $http({
//                     method: 'POST',
//                     url: updateMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForUpdate)
//                 }).then(function(response) {
//                     // console.log('response', response);
//                     if (response.data.status == 1) {
//                         // console.log('response.data.menuNode',response.data.data.menuNode);
//                         deferred.resolve(response.data.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully updated menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error updating menu');
//                         deferred.reject(null);
//                         Notification.error('Error in updating menu item');
//                     }
//                 });
//                 return respMenuJson;
//             },
//             deleteNode: function(node, rId, vId, day) {
//                 console.log("menu node passed here 00000", node,rId,vId,day);
//                 var menuForDelete = {};
//                 var deferred = $q.defer();
//                 var respMenuJson = deferred.promise;
//                 // menuForDelete.menu = {
//                 //     uid: node.uid,
//                 //     id:node.id
//                 // };
//                 menuForDelete.vendorId = rId;
//                 menuForDelete.companyId = vId;
//                 menuForDelete.uid = node.uid;
//                 menuForDelete.dayName = day;
//
//                 console.log("made for delete json : - ", JSON.stringify(menuForDelete));
//                 $http({
//                     method: 'POST',
//                     url: deleteMenuUrl,
//                     headers: {
//                         'Content-Type': 'application/x-www-form-urlencoded',
//                     },
//                     data: $httpParamSerializerJQLike(menuForDelete)
//                 }).then(function(response) {
//                     // console.log('my ss response.status', response.status);
//                     // console.log('response', response);
//                     // // console.log('data.data.status', data.data.status);
//                     // console.log('response.data.data.status',response.data.data);
//                     // console.log('response.data.status', response.data.status);
//                     // console.log('response.data.message', response.data.message);
//                     if (response.status == 200) {
//                         console.log('delete node response.data.menuNode',response.data.menuNode);
//                         deferred.resolve(response.data.menuNode);
//                         Notification.success({
//                             message: 'Successfully Deleted menu entry',
//                             delay: 1000
//                         });
//                     } else {
//                         //console.log('error Deleted menu');
//                         deferred.reject(null);
//                         Notification.error('Error in Deleting menu item');
//                     }
//                 });
//                 return respMenuJson;
//             }
//         }
//     }
// ]);

vmApp.controller('ClientLoginController', ['$scope', '$rootScope', '$cookies', 'clientLoginService', '$http', 'clientLoginServiceUrl', '$route',
  function($scope, $rootScope, $cookies, clientLoginService, $http, clientLoginServiceUrl, $route) {
    $scope.login = function(client) {
      // console.log("check",client);
      clientLoginService.login(client, clientLoginServiceUrl);
    }
  }
]);

vmApp.factory('clientLoginService', ['$http','$cookies','$rootScope','$httpParamSerializerJQLike','$location','Notification',
    function($http,$cookies,$rootScope, $httpParamSerializerJQLike, $location, Notification) {
        return {
            login: function(client,clientLoginServiceUrl) {
              console.log("client",client);
                $http({
                    method: 'POST',
                    url: clientLoginServiceUrl,
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'type': 'vendor',
                        'scm': 'fancymonk',
                        'Authorization': 'Basic WVhCd1FHWmhibU41Ylc5dWEyRmhZV0Z1OjE1OjJDOjJBOkZFOjUxOkQwOkM3OjNCOjQ2OjFGOkREOjk2Ojk0OkFGOjkyOkE2OjFGOjUyOjBEOkUz',
                    },
                    data: $httpParamSerializerJQLike(client)
                }).then(function(response) {
                //   console.log("response",response);
                    if (response.data.status == 1) {
                        Notification.success('Successfully loged in');
                        $cookies.put('company_name',response.data.data.company.companyName);
                        // $cookies.put('token',response.data.data.vendor.token);
                        $cookies.put('company_id',response.data.data.company.id);
                        // $cookies.put('email',response.data.data.company.email);
                        $cookies.put('company_person',response.data.data.company.companyPerson);
                        // $cookies.put('mobile',response.data.data.vendor.mobile);
                        // $cookies.put('authUserId',response.data.data.vendor.authUserId);
                        $location.path('/client/dashboard');
                    } else {
                        Notification.error('Username/Mobile/Email or password is incorrect');
                    }
                })
                .catch(function(response) {
                  Notification.error('Server is down please try again latter');
                });
            }
        }
    }
]);

