var ceApp=angular.module("ceApp",["ngRoute","ngMaterial","ui-notification"]);ceApp.config(["$routeProvider",function(e){e.when("/",{templateUrl:"sections/clientEmployeeslogin/clientlogin.tpl.html",controller:"LoginController"}).when("/employees",{templateUrl:"sections/home/home.tpl.html",controller:"HomeController"}).otherwise({redirectTo:"/"})}]),ceApp.controller("LoginController",["$scope","homeService","$rootScope","$http","$route",function(e,t,a,o,n){e.login=function(e){console.log("check ",JSON.stringify(e)),ClientLoginService.login(e,"http://fancymonk.com:9124/api/corporate/login")}}]),ceApp.controller("HomeController",["$scope","$rootScope","$http","$log","homeService","Notification",function(e,t,a,i,o,n){console.log("hdhs");var r=e;r.itemsPerPage=5,r.currentPage=0,r.range=function(){var e,t=[];(e=r.currentPage)>r.pageCount()-2&&(e=r.pageCount()-2);for(var a=e;a<e+2;a++)t.push(a);return t},r.prevPage=function(){0<r.currentPage&&r.currentPage--},r.prevPageDisabled=function(){return 0===r.currentPage?"disabled":""},r.nextPage=function(){r.currentPage<r.pageCount()-1&&r.currentPage++},r.nextPageDisabled=function(){return r.currentPage===r.pageCount()-1?"disabled":""},r.pageCount=function(){return Math.ceil(r.total/r.itemsPerPage)},r.setPage=function(e){0<e&&e<r.pageCount()&&(r.currentPage=e)},r.simulateQuery=!1,r.isDisabled=!1,r.type="Lunch",r.states=function(){var n=[];a.get("http://fancymonk.com:9124/api/common/get-all-employees?companyId=1").then(function(e){if(null!=e.data.data)for(var t=e.data.data.employees,a=0;a<t.length;a++){var o=t[a];o.value=(o.firstName+" "+o.lastName).toLowerCase(),o.display=o.firstName+" "+o.lastName,n.push(o)}});"Alabama, Alaska, Arizona, Arkansas, California, Colorado, Connecticut, Delaware,              Florida, Georgia, Hawaii, Idaho, Illinois, Indiana, Iowa, Kansas, Kentucky, Louisiana,              Maine, Maryland, Massachusetts, Michigan, Minnesota, Mississippi, Missouri, Montana,              Nebraska, Nevada, New Hampshire, New Jersey, New Mexico, New York, North Carolina,              North Dakota, Ohio, Oklahoma, Oregon, Pennsylvania, Rhode Island, South Carolina,              South Dakota, Tennessee, Texas, Utah, Vermont, Virginia, Washington, West Virginia,              Wisconsin, Wyoming".split(/, +/g).map(function(e){return{value:e.toLowerCase(),display:e}});return n}(),r.querySearch=function(e){i.info("passed query  "+JSON.stringify(e));var t,a=e?r.states.filter((o=e,n=o.toLowerCase(),i.info("createFilterFor  "+n),function(e){var t=0===e.value.indexOf(n);return i.info("fliterFn  "+t),t})):r.states;var o,n;return i.info("query search  "+JSON.stringify(a)),r.simulateQuery?(t=$q.defer(),$timeout(function(){t.resolve(a)},1e3*Math.random(),!1),t.promise):a},r.selectedItemChange=function(e){i.info("Item changed to "+JSON.stringify(e)),r.employeeObject=e},r.searchTextChange=function(e){i.info("Text changed to "+e)},r.newState=function(e){alert("Sorry! You'll need to create a Constitution for "+e+" first!")},r.employeeComingList=[],r.addTolist=function(e){var t={};t.employeeId=r.employeeObject.id,t.type=e,o.addDetail(t,"http://fancymonk.com:9124/api/client/add-employee-count"),i.info("hello adding to the list  "+e);var a={};a.id=r.employeeObject.id,a.display=r.employeeObject.display,a.type=e,i.info("already added employees dscn"+!r.employeeComingList.some(function(e){return i.info("elemenr val "+JSON.stringify(e)),i.info("employee oBj  val "+JSON.stringify(r.employeeObject)),e.display===r.employeeObject.display})),r.employeeComingList.some(function(e){return e.display===r.employeeObject.display})?n.error("User is already added"):(i.info("hejevhjdb"),r.employeeComingList.push(a),i.info("list after adding  "+JSON.stringify(r.employeeComingList)))},a.get("http://fancymonk.com:9124/api/client/get-time-of-day-and-tmr-date").then(function(e){if(i.info(" get time of the day  "+JSON.stringify(e)),null!=e.data.timeOfDay){i.info(" hello if condition "),0<=e.data.timeOfDay&&e.data.timeOfDay<=22?r.timeOfDay=!0:r.timeOfDay=!1,r.tomorrowDate=e.data.tomorrowDate;var t="http://fancymonk.com:9124/api/client/get-all-employee-data?companyId=1&date="+r.tomorrowDate;a.get(t).then(function(e){if(null!=e.data.data){i.info("response  dchjb"+JSON.stringify(e));for(var t=0;t<e.data.data.details.length;t++){var a={},o=e.data.data.details[t];a.id=o.employeeId,a.display=o.firstName+" "+o.lastName,a.type=o.type,r.employeeComingList.push(a),r.$watch("currentPage",function(e,t){var a,o,n;r.pagedItems=(a=r.employeeComingList,o=e*r.itemsPerPage,n=r.itemsPerPage,a.slice(o,o+n)),r.total=r.employeeComingList.length,i.info("total count   "+r.total)})}}})}})}]),ceApp.factory("homeService",["$http","$httpParamSerializerJQLike",function(a,o){return{addDetail:function(e,t){a({method:"POST",url:t,headers:{"Content-Type":"application/x-www-form-urlencoded",type:"clientPanel",scm:"fancymonk",Authorization:"Basic WVhCd1FHWmhibU41Ylc5dWEyRmhZV0Z1OjE1OjJDOjJBOkZFOjUxOkQwOkM3OjNCOjQ2OjFGOkREOjk2Ojk0OkFGOjkyOkE2OjFGOjUyOjBEOkUz"},data:o(e)}).then(function(e){console.log("response logins ",e),e.data.status}).catch(function(e){})}}}]);